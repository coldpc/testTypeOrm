webpackJsonp([30],{1150:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-container"},[s("sk-data-set",{attrs:{"auto-query":"","query-service":t.baseData.getAccountGrade},on:{load:t.onLoadGradeInfoDs}}),t._v(" "),s("sk-data-set",{attrs:{"auto-create":""},model:{value:t.queryDs,callback:function(e){t.queryDs=e},expression:"queryDs"}}),t._v(" "),s("sk-data-set",{attrs:{"query-service":t.baseData.vendorCountries,"auto-query":""},model:{value:t.vendorCountriesDs,callback:function(e){t.vendorCountriesDs=e},expression:"vendorCountriesDs"}}),t._v(" "),s("sk-data-set",{attrs:{"data-source":t.auditStatusData},model:{value:t.auditStatus,callback:function(e){t.auditStatus=e},expression:"auditStatus"}}),t._v(" "),s("sk-data-set",{attrs:{"data-source":t.openFlagData},model:{value:t.openFlag,callback:function(e){t.openFlag=e},expression:"openFlag"}}),t._v(" "),s("sk-data-set",{attrs:{"parse-data":t.ctrlStoreData,bind:t.queryDs,"auto-query":!1,pagination:"","page-size":"10",order:"asc","query-service":t.store.queryStoreList,"query-bind":t.queryDs},model:{value:t.queryStoreList,callback:function(e){t.queryStoreList=e},expression:"queryStoreList"}}),t._v(" "),s("sk-fold",{attrs:{title:t.$t("storeList")}},[s("sk-form",{attrs:{bind:t.queryDs}},[s("sk-row",{attrs:{gutter:""}},[s("sk-col",{attrs:{size:3}},[s("sk-select",{attrs:{value:"","hint-text":"",label:t.$t("countryArea"),bind:t.queryDs,name:"countryId","option-bind":t.vendorCountriesDs,"display-field":"countryName","value-field":"countryId",readonly:!!t.limit.countryId}})],1),t._v(" "),s("sk-col",{attrs:{size:3}},[s("sk-text-input",{attrs:{value:"","hint-text":t.$t("storeName"),label:t.$t("storeName"),bind:t.queryDs,name:"storeName"}})],1),t._v(" "),s("sk-col",{attrs:{size:3}},[s("sk-text-input",{attrs:{value:"","hint-text":t.$t("storeAddress"),label:t.$t("storeAddress"),bind:t.queryDs,name:"address"}})],1)],1),t._v(" "),s("sk-row",[s("sk-col",{attrs:{size:3}},[s("sk-select",{attrs:{value:"","hint-text":"",label:t.$t("verifyStatus"),nullTitle:t.$t("all"),bind:t.queryDs,name:"auditStatus","option-bind":t.auditStatus,"display-field":"display","value-field":"value"}})],1),t._v(" "),s("sk-col",{attrs:{size:3}},[s("sk-select",{attrs:{value:"","hint-text":"",label:t.$t("busState"),bind:t.queryDs,name:"openFlag","option-bind":t.openFlag,nullTitle:t.$t("all"),"display-field":"display","value-field":"value"}})],1),t._v(" "),s("sk-col",{staticStyle:{"margin-top":"25px","text-align":"right"},attrs:{size:3}},[s("sk-button",{attrs:{label:t.$t("search"),bind:t.queryStoreList,action:"query",primary:""}}),t._v(" "),s("sk-button",{attrs:{label:t.$t("clear"),action:"reset"}})],1)],1)],1)],1),t._v(" "),s("sk-row",[s("sk-col",{attrs:{size:1}},[s("sk-button",{attrs:{label:t.$t("StoreBatchOnline"),primary:"",action:"open"},on:{click:t.batchStoreCtrl}}),t._v(" "),s("sk-button",{attrs:{label:t.$t("StoreBatchOffline"),primary:"",action:"close"},on:{click:t.batchStoreCtrl}})],1)],1),t._v(" "),s("sk-table",{ref:"storeListTable",attrs:{bind:t.queryStoreList,selectable:"",showCheckbox:""}},[s("div",{attrs:{slot:"row"},slot:"row"},[s("sk-column",{attrs:{formatter:t.orderIndex,name:"orderNo",title:t.$t("lineNo"),align:"center",width:"60px"}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forImg,viewType:"img",name:"headAttachList",title:t.$t("thImg")}}),t._v(" "),s("sk-column",{attrs:{align:"center",viewType:"img",name:"ewmList",title:t.$t("paymentOrderEwm")}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forCountry,name:"country",title:t.$t("countryArea")}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forCity,name:"city",title:t.$t("city")}}),t._v(" "),s("sk-column",{attrs:{name:"storeName",title:t.$t("storeName"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{name:"address",title:t.$t("address"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forOpenFlag,name:"openFlag",title:t.$t("busState")}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forAuditStatus,name:"auditStatus",title:t.$t("verifyStatus")}}),t._v(" "),s("sk-column",{attrs:{align:"center",formatter:t.forOperate,name:"auditStatus",title:t.$t("operation")},on:{"cell-click":t.doOperation}})],1)])],1)},staticRenderFns:[]}},704:function(t,e,s){function r(t){s(991)}var a=s(0)(s(947),s(1150),r,"data-v-44f1d90a",null);t.exports=a.exports},720:function(t,e,s){"use strict";var r=s(38),a={getAllContryList:{url:"/country/getAllContryList"},queryStoreList:{url:"/store/queryStoreListByParams",paras:{order:"asc",offset:0,limit:10,countryId:"",activeName:"",address:"",auditStatus:"",openFlag:"",storeType:0}},getStoreByStoreId:{url:"/store/getStoreByStoreId",paras:{storeId:""}},getStoreListItems:{url:"/item/getStoreListItemsByQueryParams"},getItems:{url:"/item/getItemsByQueryParams"},saveOrUpdateStore:{url:"/store/saveOrUpdateStore"},relateItems:{url:"/itemAssigned/itemsStoreAssigned",event:"",params:{storeId:"storeId",itemIds:"itemIds"}},deleteRelatedProducts:{url:"/itemStoreMapping/deleteRelatedProductsByActivityOrStoreId"},storeOpenOrClose:{url:"/store/updateOpenFlagByStoreIds",storeIds:"storeIds",openFlag:"openFlag"},storeService:{url:"/storeServeConfig/queryStoreServeConfigs"},storeListItem:{url:"/storeListItemConfig/queryByPage",params:{storeId:"storeId"}},addStoreItem:{url:"/storeListItemConfig/saveOrUpdate",params:{storeId:"storeId",linkBizIds:"linkBizIds"}},deleteStoreItem:{url:"/storeListItemConfig/delete",params:{storeId:"storeId",linkBizIds:"linkBizIds"}},sortItem:{url:"/storeListItemConfig/sort",contentType:"application/json",params:{storeListItemConfigs:"storeListItemConfigs"}}};e.a=s.i(r.a)(a,"store")},947:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(129),a=s(133),o=(s.n(a),s(720));e.default={data:function(){return{queryDs:null,vendorCountriesDs:null,auditStatus:null,baseData:r.a,store:o.a,auditStatusData:[{display:this.$t("pending"),value:"INIT"},{display:this.$t("verified"),value:"APPROVE"},{display:this.$t("refused"),value:"REFUSE"}],openFlag:null,openFlagData:[{display:this.$t("open"),value:"OPENED"},{display:this.$t("close"),value:"NOT_OPEND"}],queryStoreList:null,limit:{countryId:"",storeId:""}}},methods:{onLoadGradeInfoDs:function(t){var e=this.gradeData=t[0].getData();this.limit.countryId=e.countryId,this.limit.storeId=e.storeId,this.limit.storeId&&(this.limit.countryId=e.countryAuthList[0]),this.queryDs.add({countryId:this.limit.countryId}),this.queryStoreList.query({countryId:e.countryId,storeId:e.storeId})},forImg:function(t){return"<div class='s-img' style=' width: 60px;height: 60px;overflow: hidden;display: inline-block;'><img style='height: 100%' src='"+(t&&t[0]?t[0].path:"")+"'/></div>"},forCountry:function(t){return t?t.enName+" "+t.countryName:""},forCity:function(t){return t?t.enName+" "+t.cityName:""},orderIndex:function(t,e){return e+1},forOpenFlag:function(t){switch(t){case"OPENED":return this.$t("open");case"NOT_OPEND":return this.$t("close");default:return""}},forAuditStatus:function(t){switch(t){case"INIT":return this.$t("pending");case"APPROVE":return this.$t("verified");case"REFUSE":return this.$t("refused");default:return""}},forOperate:function(t,e,s){return"<a class='edit' title=''>"+this.$t("edit")+"</a></br><a class='storeItems' title=''>"+this.$t("StoreStar")+"</a>"},doOperation:function(t,e,s,r,a){switch(t.target.className){case"edit":this.$store.dispatch("router/push",{name:"page.store.edit",title:"门店编辑",query:{id:a.getValue("storeId")}});break;case"select":this.$store.dispatch("router/push",{name:"page.store.selectProduct",title:"门店配置商品",query:{id:a.getValue("storeId")}});break;case"storeItems":this.$store.dispatch("router/push",{name:"page.store.storeItems",title:"门店之选",query:{storeId:a.getValue("storeId")}})}},ctrlStoreData:function(t){for(var e=0;e<t.length;e++)t[e].ewmList=[{path:this.getImgSrc(t[e].storeId)}];return t},getImgSrc:function(t){var e="http://",s=location.host;return-1!==s.indexOf("test")?e+="ewmtest":-1!==s.indexOf("uat")?e+="ewmuat":e+="ewm",e+=".yaok.com/?type=co&id="+t,"http://m1.yaok.com/appapi/ewm/getQRCode?content="+encodeURIComponent(e)+"&iconUrl="+encodeURIComponent("http://m1.yaok.com/static/img/common/logo-s.png&width=300")},batchStoreCtrl:function(t){for(var e=this.$refs.storeListTable.getSelectData(),s=[],r="",a="",i=0;i<e.length;i++)s.push(e[i].storeId);if(0===s.length)return void this.$store.commit("message",this.$t("pleaseSelectStore"));r=s.join(","),a="open"===t?"OPENED":"NOT_OPEND",this.$store.commit("confirm",{message:this.$t("isSubmitStore"),ok:function(){o.a.storeOpenOrClose.execute({data:{storeIds:r,openFlag:a},success:function(){this.$store.commit("message",this.$t("orderPassed")),this.queryStoreList.query(),this.$refs.storeListTable.selectAll(!1)}.bind(this)})}.bind(this)})}}}},969:function(t,e,s){e=t.exports=s(1)(!0),e.push([t.i,".s-img[data-v-44f1d90a]{width:60px;height:60px;overflow:hidden;display:inline-block}.s-img img[data-v-44f1d90a]{width:100%}","",{version:3,sources:["F:/project/vueMuseUI-master/src/page/store/list.vue"],names:[],mappings:"AACA,wBACE,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,oBAAsB,CACvB,AACD,4BACI,UAAY,CACf",file:"list.vue",sourcesContent:["\n.s-img[data-v-44f1d90a] {\n  width: 60px;\n  height: 60px;\n  overflow: hidden;\n  display: inline-block;\n}\n.s-img img[data-v-44f1d90a] {\n    width: 100%;\n}\n"],sourceRoot:""}])},991:function(t,e,s){var r=s(969);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(2)("f7ceb46e",r,!0,{})}});
//# sourceMappingURL=30.29d8f0b97e4b08b0c53c.js.map