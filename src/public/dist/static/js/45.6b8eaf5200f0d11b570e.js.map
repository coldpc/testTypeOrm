{"version":3,"sources":["webpack:///static/js/45.6b8eaf5200f0d11b570e.js","webpack:///./src/page/brandGlobal/detail.vue?8e42","webpack:///./src/page/brandGlobal/detail.vue","webpack:///detail.vue?f006"],"names":["webpackJsonp","1146","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","data-source","brandInfo","auto-query","model","value","callback","$$v","queryDs","expression","_v","query-service","baseData","getAccountGrade","on","load","onLoadGradeInfoDs","title","$t","bind","size","label","name","readonly","hasBrand","required","ref","file-size-limit","attachType","source","max-files","row-num","assign-id-updated","uploadSuccessPic","uploadSuccessBody","attach-type","height","width","remark","accept","upload-failed","uploadFailed","uploadSuccess","no-file-change","directives","rawName","action","primary","click","saveImg","staticRenderFns","688","__webpack_require__","Component","927","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__lib_dataModules_brandGlobal__","__WEBPACK_IMPORTED_MODULE_2__lib_dataModules_baseData__","__WEBPACK_IMPORTED_MODULE_3_vuex__","data","brandGlobal","uploadSuccessNum","computed","i","methods","alter","records","gradeData","getData","hasBrandGlobal","assignId","list","getCurrentRecord","setValue","src","submit","sendVerify","getVerifyResult","ifPassVerify","$store","commit","uploadAll","temp","$refs","headAssignAtta","save","headAtta","bodyAtta","mainBusinessAtta","videoPicAttach","getCurrentData","$base","deepCopy","bodyAttachList","picAttachList","logo","updateTime","saveOrUpdate","execute","mask","info","success"],"mappings":"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","file":"static/js/45.6b8eaf5200f0d11b570e.js","sourcesContent":["webpackJsonp([45],{\n\n/***/ 1146:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"data-source\": _vm.brandInfo,\n      \"auto-query\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": \"\",\n      \"query-service\": _vm.baseData.getAccountGrade\n    },\n    on: {\n      \"load\": _vm.onLoadGradeInfoDs\n    }\n  }), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('brandName'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"brandName\",\n      \"readonly\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('chineseName'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"brandCname\",\n      \"readonly\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('brandEmail'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"email\",\n      \"readonly\": !_vm.hasBrand,\n      \"required\": \"\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('contact'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"contact\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1.5\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('phoneNumber'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"tel\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('介绍文案'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"descDocu\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"headAssignAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('头图'),\n      \"readonly\": !_vm.hasBrand,\n      \"file-size-limit\": 2,\n      \"name\": \"headAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessPic\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"headAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('logo'),\n      \"readonly\": !_vm.hasBrand,\n      \"file-size-limit\": 2,\n      \"name\": \"picAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessPic\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"bodyAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('detailedPictures'),\n      \"readonly\": !_vm.hasBrand,\n      \"name\": \"bodyAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessBody\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"mainBusinessAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('主营业务图'),\n      \"readonly\": !_vm.hasBrand,\n      \"name\": \"mainBusinessAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessBody\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"videoPicAttach\",\n    attrs: {\n      \"readonly\": !_vm.hasBrand,\n      \"attach-type\": \"VIDEO\",\n      \"source\": \"USER\",\n      \"height\": 200,\n      \"width\": 350,\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"label\": _vm.$t('video'),\n      \"remark\": _vm.$t('itemVideoRemark', {\n        size: '50'\n      }),\n      \"name\": \"bodyVideoAssignId\",\n      \"accept\": \"video/mp4\",\n      \"file-size-limit\": 50\n    },\n    on: {\n      \"upload-failed\": _vm.uploadFailed,\n      \"assign-id-updated\": _vm.uploadSuccess,\n      \"no-file-change\": _vm.uploadSuccess\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-fixed-bottom', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBrand),\n      expression: \"hasBrand\"\n    }]\n  }, [_c('sk-col', [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('modifyAndSubmit'),\n      \"action\": \"commit\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.saveImg\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('cancel'),\n      \"action\": \"cancel\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 688:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(927),\n  /* template */\n  __webpack_require__(1146),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 927:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_brandGlobal__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_baseData__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex__ = __webpack_require__(8);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar totalAttaNum = 5;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            queryDs: null,\n            brandGlobal: __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_brandGlobal__[\"a\" /* default */],\n            uploadSuccessNum: 0,\n            hasBrand: false,\n            baseData: __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_baseData__[\"a\" /* default */]\n        };\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"a\" /* mapGetters */])({\n        \"brandInfo\": \"brand/info\"\n    })),\n    methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"b\" /* mapActions */])({\n        alter: 'brand/alter'\n    }), {\n        onLoadGradeInfoDs: function onLoadGradeInfoDs(records) {\n            var data = this.gradeData = records[0].getData();\n            this.hasBrand = data.hasBrandGlobal;\n        },\n        uploadSuccessPic: function uploadSuccessPic(assignId, list) {\n            this.queryDs.getCurrentRecord().setValue(\"logo\", list[0].src);\n            this.uploadSuccess(assignId);\n        },\n        uploadSuccessBody: function uploadSuccessBody(assignId, list) {\n            this.queryDs.getCurrentRecord().setValue(\"bodyAttachList\", list);\n            this.uploadSuccess(assignId);\n        },\n        uploadSuccess: function uploadSuccess() {\n            this.uploadSuccessNum++;\n            if (this.uploadSuccessNum == totalAttaNum) {\n                this.submit();\n            }\n        },\n        saveImg: function saveImg() {\n            this.queryDs.sendVerify();\n            var checkResult = this.queryDs.getCurrentRecord().getVerifyResult();\n\n            if (!checkResult.ifPassVerify) {\n                this.$store.commit(\"message\", this.$t('enterFull'));\n            } else {\n                this.$store.commit(\"loading\", this.$t('inTheSave'));\n                this.uploadAll();\n            }\n        },\n        uploadAll: function uploadAll() {\n            this.uploadSuccessNum = 0;\n\n            // 头图\n            var temp = this.$refs.headAssignAtta;\n            temp.save();\n\n            // logo\n            temp = this.$refs.headAtta;\n            temp.save();\n\n            // 主图\n            temp = this.$refs.bodyAtta;\n            temp.save();\n\n            // 主营业务图\n            temp = this.$refs.mainBusinessAtta;\n            temp.save();\n\n            // 视频上传\n            temp = this.$refs.videoPicAttach;\n            temp.save();\n        },\n        uploadFailed: function uploadFailed() {\n            //头图上传\n            this.uploadSuccessNum = 0;\n            this.$store.commit(\"hideLoading\");\n        },\n        submit: function submit() {\n            var data = this.queryDs.getCurrentData();\n            data = this.$base.deepCopy(data);\n            delete data.bodyAttachList;\n            delete data.picAttachList;\n            delete data.logo;\n            delete data.updateTime;\n\n            __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_brandGlobal__[\"a\" /* default */].saveOrUpdate.execute({\n                data: data,\n                mask: { info: this.$t('inTheSave') },\n                success: function () {\n                    this.$store.commit(\"message\", this.$t('succeedSave'));\n                    this.alter(this.$base.deepCopy(this.queryDs.getCurrentData()));\n                }.bind(this)\n            });\n        }\n    })\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/45.6b8eaf5200f0d11b570e.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"data-source\": _vm.brandInfo,\n      \"auto-query\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": \"\",\n      \"query-service\": _vm.baseData.getAccountGrade\n    },\n    on: {\n      \"load\": _vm.onLoadGradeInfoDs\n    }\n  }), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('brandName'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"brandName\",\n      \"readonly\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('chineseName'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"brandCname\",\n      \"readonly\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('brandEmail'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"email\",\n      \"readonly\": !_vm.hasBrand,\n      \"required\": \"\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('contact'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"contact\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1.5\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('phoneNumber'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"tel\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"value\": \"\",\n      \"label\": _vm.$t('介绍文案'),\n      \"bind\": _vm.queryDs,\n      \"name\": \"descDocu\",\n      \"required\": \"\",\n      \"readonly\": !_vm.hasBrand\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"headAssignAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('头图'),\n      \"readonly\": !_vm.hasBrand,\n      \"file-size-limit\": 2,\n      \"name\": \"headAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessPic\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"headAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('logo'),\n      \"readonly\": !_vm.hasBrand,\n      \"file-size-limit\": 2,\n      \"name\": \"picAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessPic\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"bodyAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('detailedPictures'),\n      \"readonly\": !_vm.hasBrand,\n      \"name\": \"bodyAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessBody\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"mainBusinessAtta\",\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('主营业务图'),\n      \"readonly\": !_vm.hasBrand,\n      \"name\": \"mainBusinessAssignId\",\n      \"attachType\": \"IMG\",\n      \"source\": \"USER\",\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"assign-id-updated\": _vm.uploadSuccessBody\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-attach', {\n    ref: \"videoPicAttach\",\n    attrs: {\n      \"readonly\": !_vm.hasBrand,\n      \"attach-type\": \"VIDEO\",\n      \"source\": \"USER\",\n      \"height\": 200,\n      \"width\": 350,\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"label\": _vm.$t('video'),\n      \"remark\": _vm.$t('itemVideoRemark', {\n        size: '50'\n      }),\n      \"name\": \"bodyVideoAssignId\",\n      \"accept\": \"video/mp4\",\n      \"file-size-limit\": 50\n    },\n    on: {\n      \"upload-failed\": _vm.uploadFailed,\n      \"assign-id-updated\": _vm.uploadSuccess,\n      \"no-file-change\": _vm.uploadSuccess\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-fixed-bottom', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBrand),\n      expression: \"hasBrand\"\n    }]\n  }, [_c('sk-col', [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('modifyAndSubmit'),\n      \"action\": \"commit\",\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": _vm.saveImg\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('cancel'),\n      \"action\": \"cancel\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-304c9a65\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/brandGlobal/detail.vue\n// module id = 1146\n// module chunks = 45","var Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./detail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-304c9a65\\\",\\\"hasScoped\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./detail.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/brandGlobal/detail.vue\n// module id = 688\n// module chunks = 45","<template>\n    <div class=\"main-container\">\n        <sk-data-set v-model=\"queryDs\" :data-source=\"brandInfo\"\n                     auto-query></sk-data-set>\n    \n        <sk-data-set auto-query @load=\"onLoadGradeInfoDs\" :query-service=\"baseData.getAccountGrade\"></sk-data-set>\n        \n        <sk-fold :title=\"$t('baseInfo')\">\n            <sk-form :bind=\"queryDs\">\n                <sk-row>\n                    <sk-col :size=\"3\">\n                        <sk-text-input value=\"\" :label=\"$t('brandName')\" :bind=\"queryDs\" name=\"brandName\"\n                                       readonly></sk-text-input>\n                    </sk-col>\n                    \n                    <sk-col :size=\"3\">\n                        <sk-text-input value=\"\" :label=\"$t('chineseName')\" :bind=\"queryDs\" name=\"brandCname\"\n                                       readonly></sk-text-input>\n                    </sk-col>\n                    \n                    <sk-col :size=\"3\">\n                        <sk-text-input value=\"\" :label=\"$t('brandEmail')\" :bind=\"queryDs\" name=\"email\" :readonly=\"!hasBrand\"\n                                       required></sk-text-input>\n                    </sk-col>\n                </sk-row>\n                \n                <sk-row>\n                    <sk-col :size=\"3\">\n                        <sk-text-input value=\"\" :label=\"$t('contact')\" :bind=\"queryDs\" name=\"contact\"\n                                       required :readonly=\"!hasBrand\"></sk-text-input>\n                    </sk-col>\n                    \n                    <sk-col :size=\"1.5\">\n                        <sk-text-input value=\"\" :label=\"$t('phoneNumber')\" :bind=\"queryDs\" name=\"tel\"\n                                       required :readonly=\"!hasBrand\"></sk-text-input>\n                    </sk-col>\n                </sk-row>\n    \n                <sk-row>\n                    <sk-col :size=\"1\">\n                        <sk-text-input value=\"\" :label=\"$t('介绍文案')\" :bind=\"queryDs\" name=\"descDocu\"\n                                       required :readonly=\"!hasBrand\"></sk-text-input>\n                    </sk-col>\n                </sk-row>\n                \n                <sk-row>\n                    <sk-col :size=\"1\">\n                        <!--头图-->\n                        <sk-attach required :label=\"$t('头图')\"\n                                   :readonly=\"!hasBrand\" :file-size-limit=\"2\" name=\"headAssignId\" ref=\"headAssignAtta\" @assign-id-updated=\"uploadSuccessPic\" attachType=\"IMG\" source=\"USER\" :max-files=\"1\" :row-num=\"2\"\n                        ></sk-attach>\n                    </sk-col>\n    \n                    <sk-col :size=\"1\">\n                        <sk-attach required :label=\"$t('logo')\"\n                                   :readonly=\"!hasBrand\" :file-size-limit=\"2\" name=\"picAssignId\" ref=\"headAtta\" @assign-id-updated=\"uploadSuccessPic\" attachType=\"IMG\" source=\"USER\" :max-files=\"1\" :row-num=\"2\"\n                        ></sk-attach>\n                    </sk-col>\n                    \n                    <sk-col :size=\"1\">\n                        <sk-attach required :label=\"$t('detailedPictures')\" ref=\"bodyAtta\"\n                                   :readonly=\"!hasBrand\" name=\"bodyAssignId\" @assign-id-updated=\"uploadSuccessBody\" attachType=\"IMG\" source=\"USER\" :max-files=\"1\" :row-num=\"2\" :file-size-limit=\"2\"\n                        ></sk-attach>\n                    </sk-col>\n                    \n                    <sk-col :size=\"1\">\n                        <!--主营业务图-->\n                        <sk-attach required :label=\"$t('主营业务图')\" ref=\"mainBusinessAtta\"\n                                   :readonly=\"!hasBrand\" name=\"mainBusinessAssignId\" @assign-id-updated=\"uploadSuccessBody\" attachType=\"IMG\" source=\"USER\" :max-files=\"1\" :row-num=\"2\" :file-size-limit=\"2\"\n                        ></sk-attach>\n                    </sk-col>\n                    \n                    <sk-col :size=\"1\">\n                        <sk-attach\n                                :readonly=\"!hasBrand\"\n                                @upload-failed=\"uploadFailed\"\n                                @assign-id-updated=\"uploadSuccess\"\n                                @no-file-change=\"uploadSuccess\"\n                                attach-type=\"VIDEO\"\n                                source=\"USER\"\n                                ref=\"videoPicAttach\"\n                                :height=\"200\"\n                                :width=\"350\"\n                                :max-files=\"1\"\n                                :row-num=\"2\"\n                                :label=\"$t('video')\"\n                                :remark=\"$t('itemVideoRemark', {size: '50'})\"\n                                name=\"bodyVideoAssignId\"\n                                accept=\"video/mp4\"\n                                :file-size-limit=\"50\"></sk-attach>\n                    </sk-col>\n                    \n                </sk-row>\n                \n                <sk-fixed-bottom v-show=\"hasBrand\">\n                    <sk-col>\n                        <sk-button :label=\"$t('modifyAndSubmit')\" action=\"commit\" primary\n                                   @click=\"saveImg\"></sk-button>\n                        <sk-button :label=\"$t('cancel')\" action=\"cancel\"></sk-button>\n                    </sk-col>\n                </sk-fixed-bottom>\n            \n            </sk-form>\n        </sk-fold>\n    </div>\n</template>\n\n<script>\n    import brandGlobal from \"@/lib/dataModules/brandGlobal\"\n    import baseData from \"@/lib/dataModules/baseData\"\n    import {mapGetters, mapActions} from 'vuex';\n    \n    const totalAttaNum = 5;\n    \n    export default{\n        data(){\n            return {\n                queryDs: null,\n                brandGlobal: brandGlobal,\n                uploadSuccessNum: 0,\n                hasBrand: false,\n                baseData\n            }\n        },\n        computed: {\n            ...mapGetters({\n                \"brandInfo\": \"brand/info\"\n            })\n        },\n        methods: {\n            ...mapActions({\n                alter: 'brand/alter'\n            }),\n    \n            onLoadGradeInfoDs(records){\n                var data = this.gradeData = records[0].getData();\n                this.hasBrand = data.hasBrandGlobal;\n            },\n            \n            uploadSuccessPic(assignId, list){\n                this.queryDs.getCurrentRecord().setValue(\"logo\", list[0].src);\n                this.uploadSuccess(assignId);\n            },\n            \n            uploadSuccessBody(assignId, list){\n                this.queryDs.getCurrentRecord().setValue(\"bodyAttachList\", list);\n                this.uploadSuccess(assignId);\n            },\n            \n            uploadSuccess(){\n                this.uploadSuccessNum ++;\n                if (this.uploadSuccessNum == totalAttaNum){\n                    this.submit();\n                }\n            },\n            \n            saveImg(){\n                this.queryDs.sendVerify();\n                let checkResult = this.queryDs.getCurrentRecord().getVerifyResult();\n                \n                if (!checkResult.ifPassVerify) {\n                    this.$store.commit(\"message\", this.$t('enterFull'));\n                } else{\n                    this.$store.commit(\"loading\", this.$t('inTheSave'));\n                    this.uploadAll();\n                }\n            },\n            \n            uploadAll(){\n                this.uploadSuccessNum = 0;\n                \n                // 头图\n                let temp = this.$refs.headAssignAtta;\n                temp.save();\n                \n                // logo\n                temp = this.$refs.headAtta;\n                temp.save();\n    \n                // 主图\n                temp = this.$refs.bodyAtta;\n                temp.save();\n                \n                // 主营业务图\n                temp = this.$refs.mainBusinessAtta;\n                temp.save();\n    \n                // 视频上传\n                temp = this.$refs.videoPicAttach;\n                temp.save();\n            },\n    \n            uploadFailed(){\n                //头图上传\n                this.uploadSuccessNum = 0;\n                this.$store.commit(\"hideLoading\");\n            },\n            \n            submit(){\n                let data = this.queryDs.getCurrentData();\n                data = this.$base.deepCopy(data);\n                delete data.bodyAttachList;\n                delete data.picAttachList;\n                delete data.logo;\n                delete data.updateTime;\n                \n                brandGlobal.saveOrUpdate.execute({\n                    data: data,\n                    mask: {info: this.$t('inTheSave')},\n                    success: function () {\n                        this.$store.commit(\"message\", this.$t('succeedSave'));\n                        this.alter(this.$base.deepCopy(this.queryDs.getCurrentData()));\n                    }.bind(this)\n                })\n            }\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// detail.vue?0ec4c580"],"sourceRoot":""}