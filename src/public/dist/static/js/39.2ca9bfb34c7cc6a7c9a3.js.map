{"version":3,"sources":["webpack:///static/js/39.2ca9bfb34c7cc6a7c9a3.js","webpack:///./src/page/account/info.vue?4c2b","webpack:///./src/page/account/info.vue?f7c6","webpack:///./src/page/account/info.vue","webpack:///info.vue","webpack:///./src/page/account/info.vue?3aa3"],"names":["webpackJsonp","1004","module","exports","__webpack_require__","content","i","locals","1173","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","auto-create","model","value","callback","$$v","queryDs","expression","_v","staticStyle","margin-top","bind","title","$t","size","readonly","required","label","name","editable","ref","tagDs","slot","primary","on","click","addTags","_e","align","width","formatter","renderItemTagType","view-type","tagOperation","if-hide","cell-click","clickTagOperation","directives","rawName","attrDs","action","type","min","attrOperation","clickAttrOperation","specTypeDs","specOperation","clickSpecOperation","text-align","addSpecType","onClickGenerate","skuDs","show-checkbox","select","onSelectSKU","accept","change","onChangeSKuPic","attach-type","source","height","max-files","row-num","file-size-limit","error","$event","assign-id-updated","uploadSkuSuccess","class-name","edit-type","clickSkuOperation","save","viewItem","staticRenderFns","680","injectStyle","ssrContext","Component","919","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__","__WEBPACK_IMPORTED_MODULE_1__lib_utils_money__","_$id$_","Math","floor","random","data","window","test","hasChangeSpec","bigCatalogDs","catalogDs","currencyDs","brandDs","deleteAttrData","deleteTagData","specData","deleteSkuData","itemId","$route","query","uploadSuccessNum","bigCatalog","defaultBrand","viewData","hasSelectSku","watch","computed","hasBigCatalog","methods","ctrlBrandData","defaultBrandGlobalId","brandGlobals","v","index","record","desc","onTagDsReady","ds","addEventListener","event","remove","deleteTagRow","getData","deleteFlag","push","e","target","className","$refs","addTagWin","show","itemTagsData","getCurrentData","num","itemTagMappings","forEach","item","$store","commit","saveTagData","tagData","endTime","beginTime","add","getCurrentRecord","setValue","getAllData","saveEditTagData","originData","setData","onAttrDsReady","deleteAttrRow","ctrlAttrData","obj","current","l","length","attributeName","attributeValue","itemName","itemModel","id","attrData","crid","createId","initSpecTypeData","specTypeName","specValues","deleteAllSku","loadSpecData","classifyData","classify","specTypes","kineSpecs","spec","specName","getFieldValue","join","_i","_l","bindId","classifySpecData","itemSpec","_i2","_l2","deleteSpecByParentId","getValue","parentId","singleSpecData","getEditSpecData","pecEditData","$base","deepCopy","editSpecWin","result","splice","saveEditSpecData","newSpecData","_i3","concat","getDataByAttr","specTypeRecords","records","specs","_i4","_l3","onSpecTypeReady","update","saveEditSpecTypeName","key","onUpdateSpecType","parseSpecName","hasChangeSpecData","$","trim","replace","hasGenerateSku","console","log","sku","generateSKU","deleteSkuRow","ctrlSkuData","d","mapList","a","b","map","skuPrice","factPrice","skuModel","unit","headAttachList","headPicAttach","viewList","specSkuMappingList","specId","specValue","initTagData","sendVerify","spaceSign","arr1","arr2","item1","item2","temp","l1","j","l2","skuName","s","onSkuDsReady","skuAtta","controller","selectFile","assignId","list","skuList","getSelectedRecords","skuTable","selectAll","checkSku","errorMessage","skuMap","findSpec","uploadAll","bodyPicAttach","videoPicAttach","uploadSuccess","parseInt","uploadFailed","ctrlItemData","catalogList","parentCatalogId","tag","split","itemSpecList","itemAttributeList","checkBaseInfo","checkDs","submitForm","itemModule","maintain","execute","failed","msg","success","dispatch","resetPageData","checkResult","getVerifyResult","ifPassVerify","setArror","toLowerCase","fields","clearDeleteData","brandGlobalId","brandName","brand_selector","setReadOnly","big_catalog_selector","reset","clearCurrent","resetValue","headPic","src","bodyPic","videoPic","attrList","unitSign","exchangeSign","format","view","982","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/39.2ca9bfb34c7cc6a7c9a3.js","sourcesContent":["webpackJsonp([39],{\n\n/***/ 1004:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(982);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"6e30dff9\", content, true, {});\n\n/***/ }),\n\n/***/ 1173:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('div', [_c('sk-data-set', {\n    attrs: {\n      \"auto-create\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": true,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('会员编号'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('会员姓名'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('会员级别'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('性别'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('销售人'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('接点人'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('服务中心'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('市场角色'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('身份证号'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('手机号码'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('Email'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('地址'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('开户银行'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('开户姓名'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('银行卡号'),\n      \"name\": \"itemName\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('itemTag')\n    }\n  }, [_c('sk-table', {\n    ref: \"TagTable\",\n    attrs: {\n      \"bind\": _vm.tagDs\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add')\n    },\n    on: {\n      \"click\": _vm.addTags\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"formatter\": _vm.renderItemTagType,\n      \"name\": \"itemTagType\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('tagType')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"beginDate\",\n      \"view-type\": \"time\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('startTime')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"endDate\",\n      \"view-type\": \"time\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('endTime')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"id\",\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.tagOperation,\n      \"if-hide\": !_vm.editable\n    },\n    on: {\n      \"cell-click\": _vm.clickTagOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemAttr')\n    }\n  }, [_c('sk-table', {\n    ref: \"attrTable\",\n    attrs: {\n      \"bind\": _vm.attrDs\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add'),\n      \"action\": \"add\",\n      \"bind\": _vm.attrDs\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"attributeName\",\n      \"required\": \"\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('attrName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"attributeValue\",\n      \"required\": \"\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('attrContent')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"sort\",\n      \"type\": \"number\",\n      \"required\": \"\",\n      \"min\": 0,\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('sort')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"id\",\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.attrOperation,\n      \"if-hide\": !_vm.editable\n    },\n    on: {\n      \"cell-click\": _vm.clickAttrOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemSpec')\n    }\n  }, [_c('sk-table', {\n    ref: \"specTable\",\n    attrs: {\n      \"bind\": _vm.specTypeDs\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"25%\",\n      \"name\": \"specTypeName\",\n      \"editable\": _vm.editable,\n      \"required\": \"\",\n      \"title\": _vm.$t('specName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"specValues\",\n      \"title\": _vm.$t('specContent')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"25%\",\n      \"name\": \"crid\",\n      \"if-hide\": !_vm.editable,\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.specOperation\n    },\n    on: {\n      \"cell-click\": _vm.clickSpecOperation\n    }\n  })], 1)]), _vm._v(\" \"), (_vm.editable) ? _c('div', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-top\": \"20px\"\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add')\n    },\n    on: {\n      \"click\": _vm.addSpecType\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('createSKU')\n    },\n    on: {\n      \"click\": _vm.onClickGenerate\n    }\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemSku')\n    }\n  }, [_c('sk-table', {\n    ref: \"skuTable\",\n    attrs: {\n      \"bind\": _vm.skuDs,\n      \"show-checkbox\": _vm.editable,\n      \"editable\": _vm.editable\n    },\n    on: {\n      \"select\": _vm.onSelectSKU\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('uploadImg'),\n      \"primary\": \"\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasSelectSku),\n      expression: \"hasSelectSku\"\n    }],\n    staticClass: \"file-sku\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/gif, image/jpeg, image/png\"\n    },\n    on: {\n      \"change\": _vm.onChangeSKuPic\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (false),\n      expression: \"false\"\n    }]\n  }, [_c('sk-attach', {\n    ref: \"skuAtta\",\n    attrs: {\n      \"attach-type\": \"img\",\n      \"source\": \"item\",\n      \"height\": 1,\n      \"width\": 1,\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"label\": _vm.$t('uploadImg'),\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"error\": function($event) {},\n      \"assign-id-updated\": _vm.uploadSkuSuccess\n    }\n  })], 1)]), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('delete'),\n      \"action\": \"delete\",\n      \"bind\": _vm.skuDs\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    ref: \"test\",\n    attrs: {\n      \"class-name\": \"ellipsis3\",\n      \"align\": \"left\",\n      \"name\": \"skuName\",\n      \"width\": \"25%\",\n      \"title\": _vm.$t('skuName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"skuModel\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('itemModel')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"skuPrice\",\n      \"editable\": _vm.editable,\n      \"edit-type\": \"money\",\n      \"min\": 0.01,\n      \"title\": _vm.$t('price')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"unit\",\n      \"title\": _vm.$t('currency')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"headAttachList\",\n      \"view-type\": \"img\",\n      \"title\": _vm.$t('picture')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"crid\",\n      \"if-hide\": !_vm.editable,\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.attrOperation\n    },\n    on: {\n      \"cell-click\": _vm.clickSkuOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fixed-bottom', [(_vm.editable) ? _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('submit')\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('view')\n    },\n    on: {\n      \"click\": _vm.viewItem\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 680:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1004)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(919),\n  /* template */\n  __webpack_require__(1173),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c1536c02\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 919:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_utils_money__ = __webpack_require__(131);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar _$id$_ = Math.floor(Math.random() * 100000000000 + 100000000000);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    window.test = this;\n    return {\n      editable: true,\n      queryDs: null, //基本信息\n      hasChangeSpec: false,\n\n      bigCatalogDs: null, //大类\n      catalogDs: null, //小类\n      currencyDs: null,\n      brandDs: null,\n\n      specTypeDs: null, //商品规格类型\n      attrDs: null, //商品属性\n      skuDs: null,\n      tagDs: null,\n\n      deleteAttrData: [],\n      deleteTagData: [],\n      specData: [], //规格数据\n      deleteSkuData: [],\n\n      itemId: this.$route.query.itemId, //查看的itemId\n\n      uploadSuccessNum: 0,\n\n      bigCatalog: \"\", //根据大类控制视图\n\n      defaultBrand: \"\",\n\n      viewData: {},\n\n      hasSelectSku: false\n    };\n  },\n\n\n  watch: {},\n\n  computed: {\n    hasBigCatalog: function hasBigCatalog() {\n      return !!this.bigCatalog;\n    }\n  },\n\n  methods: {\n    /***************选择品牌*******************/\n    ctrlBrandData: function ctrlBrandData(data) {\n      //设置默认值\n      this.defaultBrand = data.defaultBrandGlobalId;\n\n      //返回品牌\n      return data.brandGlobals;\n    },\n\n\n    /** 标签编辑 **/\n\n    renderItemTagType: function renderItemTagType(v, index, record) {\n      return record.data.desc;\n    },\n    tagOperation: function tagOperation() {\n      return \"<a class='edit'>\" + this.$t('edit') + \"</a>\" + \"<a style='margin-left: 10px;' class='delete'>\" + this.$t('delete') + \"</a>\";\n    },\n    onTagDsReady: function onTagDsReady(ds) {\n      ds.addEventListener(ds.event.remove, this.deleteTagRow);\n    },\n    deleteTagRow: function deleteTagRow(record, index) {\n      var data = record.getData();\n      if (data.itemId) {\n        data.deleteFlag = 1;\n        this.deleteTagData.push(data);\n      }\n    },\n    clickTagOperation: function clickTagOperation(e, v, name, index, record) {\n      var type = e.target.className;\n      if (type === \"delete\") {\n        this.tagDs.remove(index);\n      } else if (type === 'edit') {\n        this.$refs.addTagWin.show(record.data, 'edit', index);\n      }\n    },\n    addTags: function addTags() {\n      // 判断最多只能填多少标签 循环剔除deleteFlag = 1的数据\n      var itemTagsData = this.queryDs.getCurrentData(),\n          num = 0;\n      if (!!itemTagsData.itemTagMappings) {\n        itemTagsData.itemTagMappings.forEach(function (item) {\n          if (!item.deleteFlag || item.deleteFlag === 0) {\n            num++;\n          }\n        });\n        if (num === 3) {\n          this.$store.commit(\"message\", \"最多只能三个标签\");\n          return;\n        }\n      }\n      this.$refs.addTagWin.show({}, 'add');\n    },\n    saveTagData: function saveTagData(tagData) {\n      tagData.itemId = this.itemId;\n      if (tagData.endTime < tagData.beginTime) {\n        this.$store.commit('message', '结束时间不能小于开始时间');\n        return;\n      }\n      this.tagDs.add(tagData);\n      this.queryDs.getCurrentRecord().setValue(\"itemTagMappings\", this.tagDs.getAllData());\n    },\n    saveEditTagData: function saveEditTagData(tagData, index) {\n      var originData = this.queryDs.getCurrentData();\n      tagData.itemId = this.itemId;\n      originData.itemTagMappings[index] = tagData;\n      this.tagDs.setData(originData.itemTagMappings);\n    },\n\n\n    /**********属性编辑************************/\n    attrOperation: function attrOperation() {\n      return \"<a class='delete'>\" + this.$t('delete') + \"</a>\";\n    },\n    onAttrDsReady: function onAttrDsReady(ds) {\n      ds.addEventListener(ds.event.remove, this.deleteAttrRow);\n    },\n    deleteAttrRow: function deleteAttrRow(record) {\n      var data = record.getData();\n      if (data.itemId) {\n        data.deleteFlag = 1;\n        this.deleteAttrData.push(data);\n      }\n    },\n    clickAttrOperation: function clickAttrOperation(e, v, name, index, record) {\n      var type = e.target.className;\n      if (type === \"delete\") {\n        this.attrDs.remove(index);\n      }\n    },\n    ctrlAttrData: function ctrlAttrData(data) {\n      var obj = void 0,\n          current = this.queryDs.getCurrentData();\n\n      //防止未加载queryDs\n      if (!current) {\n        return data;\n      }\n\n      for (var i = 0, l = data.length; i < l; i++) {\n        obj = data[i];\n        if (obj.attributeName == \"商品名称\") {\n          obj.attributeValue = current.itemName;\n        } else if (obj.attributeName == \"商品型号\") {\n          obj.attributeValue = current.itemModel;\n        }\n        delete obj.id;\n      }\n      this.attrData = data;\n      return data;\n    },\n\n\n    /************spec编辑**************************/\n    addSpecType: function addSpecType() {\n      this.specTypeDs.add({\n        crid: this.createId()\n      });\n    },\n    initSpecTypeData: function initSpecTypeData(data) {\n      //如果有itemId说明是查询而来无需处理\n      if (this.itemId) {\n        return data;\n      }\n\n      var obj = void 0;\n      for (var i = 0, l = data.length; i < l; i++) {\n        obj = data[i];\n        obj.specTypeName = obj.attributeName;\n        obj.specValues = \"\";\n        obj.crid = this.createId();\n      }\n\n      //每次加载都要重新设置sku\n      this.deleteAllSku();\n      this.specData = []; //清楚spec\n\n      return data;\n    },\n\n\n    //加载specData\n    loadSpecData: function loadSpecData(specData) {\n      var obj = void 0;\n\n      //先保存规格数据\n      specData = this.specData = specData || [];\n\n      //分类\n      var classifyData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].classify(specData, \"specName\");\n\n      var id = void 0,\n          specTypes = [],\n          kineSpecs = void 0,\n          spec = void 0; //分类id 防止修改名称\n\n      for (var i = 0, l = classifyData.length; i < l; i++) {\n        obj = classifyData[i];\n        id = this.createId();\n        kineSpecs = obj.data; //类型下的数据\n\n        //创建一个类型\n        specTypes.push({\n          crid: id,\n          specTypeName: obj.specName,\n          specValues: __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getFieldValue(kineSpecs, \"specValue\").join(\",\")\n        });\n\n        //给每个类型下面的规格data增加绑定的id\n        for (var _i = 0, _l = kineSpecs.length; _i < _l; _i++) {\n          spec = kineSpecs[_i];\n          spec.bindId = id;\n          spec.crid = this.createId();\n        }\n      }\n      this.specTypeDs.setData(specTypes);\n    },\n\n\n    //规格数据分类\n    classifySpecData: function classifySpecData(specData) {\n      var obj = void 0;\n\n      //先保存规格数据\n      specData = specData || [];\n\n      //分类\n      var classifyData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].classify(specData, \"specName\");\n\n      var id = void 0,\n          specTypes = [],\n          itemSpec = void 0; //分类id 防止修改名称\n      for (var i = 0, l = classifyData.length; i < l; i++) {\n        obj = classifyData[i];\n        id = this.createId();\n        itemSpec = obj.data; //类型下的数据\n\n        //创建一个类型\n        specTypes.push({\n          crid: id,\n          specTypeName: obj.specName,\n          specValues: __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getFieldValue(itemSpec, \"specValue\").join(\",\")\n        });\n\n        //给每个类型下面的规格data增加绑定的id\n        for (var _i2 = 0, _l2 = itemSpec.length; _i2 < _l2; _i2++) {\n          itemSpec[_i2].bindId = id;\n        }\n      }\n      return specTypes;\n    },\n\n\n    //规格操作\n    specOperation: function specOperation() {\n      return \"<a class='edit'>\" + this.$t('edit') + \"</a>\" + \"<a style='margin-left: 10px;' class='delete'>\" + this.$t('delete') + \"</a>\";\n    },\n\n\n    //操作规格数据\n    clickSpecOperation: function clickSpecOperation(e, v, name, index, record) {\n      var type = e.target.className;\n      if (type == \"delete\") {\n        this.deleteSpecByParentId(this.specData, record.getValue(\"crid\"));\n        this.specTypeDs.remove(index);\n      } else if (type == \"edit\") {\n        //每个规格都会有绑定的父级id\n        var parentId = record.getValue(\"crid\");\n\n        //获取此规格的数据\n        var singleSpecData = this.getEditSpecData(this.specData, parentId);\n\n        //再过滤已经删除的数据\n        var pecEditData = this.$base.deepCopy(singleSpecData);\n\n        //设置本次编辑的parentId\n        var specName = record.getValue(\"specTypeName\");\n\n        //显示窗口\n        this.$refs.editSpecWin.show(pecEditData, specName, parentId);\n      }\n    },\n    getEditSpecData: function getEditSpecData(specData, bindId) {\n      var result = [],\n          spec = void 0;\n      for (var i = 0, l = specData.length; i < l; i++) {\n        spec = specData[i];\n        if (spec.bindId == bindId && spec.deleteFlag != 1) {\n          result.push(spec);\n        }\n      }\n      return result;\n    },\n    deleteSpecByParentId: function deleteSpecByParentId(specData, bindId) {\n      var spec = void 0;\n      for (var i = 0; i < specData.length; i++) {\n        spec = specData[i];\n        if (spec.bindId == bindId) {\n          if (!spec.itemId) {\n            specData.splice(i, 1);\n            i--;\n          } else {\n            specData[i].deleteFlag = 1;\n          }\n        }\n      }\n      return specData;\n    },\n\n\n    /**\n     *\n     * 保存规格非常麻烦\n     * 只有一件事需要做 判断规格的值是否一致\n     * 根据crid来判断是否是编辑原来的值\n     *\n     */\n    saveEditSpecData: function saveEditSpecData(newSpecData, parentId) {\n      var specData = this.specData,\n          spec = void 0,\n          originSpec = void 0,\n          crid = void 0;\n\n      //移除同一个类型的所有数据\n      for (var _i3 = 0; _i3 < specData.length; _i3++) {\n\n        spec = specData[_i3];\n        if (spec.bindId == parentId && spec.deleteFlag != 1) {\n          specData.splice(_i3, 1);\n          _i3--;\n        }\n      }\n\n      //给newSpec添加id\n      for (var i = 0, l = newSpecData.length; i < l; i++) {\n        newSpecData[i].crid = this.createId();\n      }\n\n      //新的规格数据\n      this.specData = specData.concat(newSpecData);\n\n      //展示在表格中 获取未删除的spec\n      specData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(newSpecData, \"deleteFlag\", 1, true);\n\n      var specTypeRecords = this.specTypeDs.records,\n          specType = void 0,\n          record = void 0,\n          specs = void 0;\n      for (var _i4 = 0, _l3 = specTypeRecords.length; _i4 < _l3; _i4++) {\n        record = specTypeRecords[_i4];\n\n        if (record.getValue(\"crid\") == parentId) {\n          specs = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getFieldValue(specData, \"specValue\");\n          record.setValue(\"specValues\", specs.join(\",\"));\n        }\n      }\n    },\n    onSpecTypeReady: function onSpecTypeReady(ds) {\n      ds.addEventListener(ds.event.update, this.saveEditSpecTypeName);\n    },\n\n\n    //修改specName的时候\n    saveEditSpecTypeName: function saveEditSpecTypeName(specTypeName, key, record) {\n      if (key == \"specTypeName\") {\n        var specData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(this.specData, \"bindId\", record.getValue(\"crid\"));\n        for (var i = 0, l = specData.length; i < l; i++) {\n          specData[i].specName = specTypeName;\n        }\n      }\n    },\n\n\n    // 更新规格类型\n    onUpdateSpecType: function onUpdateSpecType(value, key, record) {\n      if (key === 'specTypeName') {\n        var specName = this.parseSpecName(value);\n        if (value !== specName) {\n          record.setValue(key, specName);\n        }\n        this.hasChangeSpecData();\n      }\n    },\n\n\n    // 格式化规格值的问题\n    parseSpecName: function parseSpecName(specName) {\n      specName = $.trim(specName);\n      specName = specName.replace(/;|:|,|'/ig, \" \");\n      specName = $.trim(specName);\n      return specName;\n    },\n    hasChangeSpecData: function hasChangeSpecData() {\n      this.hasChangeSpec = true;\n    },\n    hasGenerateSku: function hasGenerateSku() {\n      console.log(\"spec saved\");\n      this.hasChangeSpec = false;\n    },\n    createId: function createId() {\n      return ++_$id$_;\n    },\n\n\n    /**\n     *\n     * @param record\n     * sku row\n     *\n     */\n    onClickGenerate: function onClickGenerate() {\n      var sku = this.generateSKU();\n      var ds = this.skuDs;\n      var records = ds.records || [];\n\n      for (var i = 0, l = records.length; i < l; i++) {\n        this.deleteSkuRow(records[i]);\n      }\n\n      ds.setData(sku);\n      this.hasGenerateSku();\n    },\n    ctrlSkuData: function ctrlSkuData(data) {\n      var d = this.queryDs.getCurrentData(),\n          specData = this.specData;\n\n      //判断queryDs是否存在数据\n      var sku = void 0,\n          mapList = void 0,\n          a = void 0,\n          b = void 0,\n          map = void 0,\n          spec = void 0;\n      for (var i = 0, l = data.length; i < l; i++) {\n        sku = data[i];\n\n        if (!!d) {\n          if (!sku.skuPrice) {\n            sku.skuPrice = d.factPrice;\n          }\n\n          if (!sku.skuModel) {\n            sku.skuModel = d.itemModel;\n          }\n\n          if (!sku.unit) {\n            sku.unit = d.unit;\n          }\n\n          if (!sku.headAttachList) {\n            sku.headAttachList = this.$base.deepCopy(this.$refs.headPicAttach.viewList);\n          }\n        } else {\n          mapList = data[i].specSkuMappingList;\n          for (a = 0, b = mapList.length; a < b; a++) {\n            map = mapList[a];\n            spec = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(specData, \"specId\", map.specId)[0];\n\n            if (spec) {\n              map.specName = spec.specName;\n              map.specValue = spec.specValue;\n              map.crid = spec.crid;\n            } else {\n              mapList.splice(a, 1);\n              a--;\n              b--;\n            }\n          }\n        }\n      }\n\n      return data;\n    },\n    initTagData: function initTagData(data) {\n      return data;\n    },\n    generateSKU: function generateSKU() {\n      var check = this.specTypeDs.sendVerify();\n      if (!check) {\n        this.$store.commit(\"message\", this.$t('specTypeComplete'));\n        return;\n      }\n\n      var specData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(this.specData, \"deleteFlag\", 1, true); // 先获取所有未删除的spec\n      specData = this.$base.deepCopy(specData);\n\n      var classifyData = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].classify(specData, \"bindId\"); //分类\n      var spaceSign = \";\",\n          sku = void 0,\n          l = void 0;\n\n      if (classifyData.length < 1) {\n        return;\n      }\n\n      sku = classifyData[0].data;\n      l = classifyData.length;\n\n      if (l > 1) {\n        for (var i = 1; i < l; i++) {\n          sku = combination2Array(sku, classifyData[i].data);\n        }\n      } else {\n        var temp,\n            result = [],\n            s;\n        for (var j = 0, l2 = sku.length; j < l2; j++) {\n          s = sku[j];\n          temp = {\n            skuName: (s.specName || \"unknown name\") + \":\" + s.specValue,\n            specSkuMappingList: [s]\n          };\n          result.push(temp);\n        }\n        sku = result;\n      }\n\n      return sku;\n\n      //排列组合两个数组\n      function combination2Array(arr1, arr2) {\n        if (!arr2 || arr2.length == 0) {\n          return arr1;\n        } else {\n          var result = [],\n              item1,\n              item2,\n              temp;\n          for (var i = 0, l1 = arr1.length; i < l1; i++) {\n            item1 = arr1[i];\n            for (var j = 0, l2 = arr2.length; j < l2; j++) {\n              temp = {\n                skuName: item1.skuName || (item1.specName || \"unknown name\") + \":\" + item1.specValue,\n                specSkuMappingList: item1.specSkuMappingList || [item1]\n              };\n              item2 = arr2[j];\n              temp.skuName += spaceSign + (item2.specName || \"unknown name\") + \":\" + item2.specValue;\n              temp.specSkuMappingList.push(item2);\n              result.push(temp);\n            }\n          }\n          return result;\n        }\n      }\n    },\n    onSkuDsReady: function onSkuDsReady(ds) {\n      ds.addEventListener(ds.event.remove, this.deleteSkuRow);\n    },\n    deleteSkuRow: function deleteSkuRow(record) {\n      var data = record.getData();\n      if (data.itemId) {\n        data.deleteFlag = 1;\n        this.deleteSkuData.push(data);\n      }\n    },\n    deleteAllSku: function deleteAllSku() {\n      var records = this.skuDs.records;\n      for (var i = 0, l = records.length; i < l; i++) {\n        this.deleteSkuRow(records[i]);\n      }\n      this.skuDs.setData();\n    },\n    clickSkuOperation: function clickSkuOperation(e, value, name, index, record) {\n      var type = e.target.className;\n      if (type == \"delete\") {\n        this.skuDs.remove(index);\n      }\n    },\n    onChangeSKuPic: function onChangeSKuPic(e) {\n      this.$refs.skuAtta.controller.selectFile(e.target);\n      this.$refs.skuAtta.save();\n    },\n    uploadSkuSuccess: function uploadSkuSuccess(assignId, list) {\n      this.$refs.skuAtta.setValue();\n      var skuList = this.skuDs.getSelectedRecords(),\n          obj = void 0;\n      for (var i = 0, l = skuList.length; i < l; i++) {\n        skuList[i].setValue(\"headAssignId\", assignId);\n        skuList[i].setValue(\"headAttachList\", list);\n      }\n      this.$refs.skuTable.selectAll(false);\n    },\n    checkSku: function checkSku() {\n      //specList skuList 校验sku\n      //现货区sku库 所有提交的sku必须在库中存在\n      var specData = this.specData,\n          skuName,\n          errorMessage = \"\";\n\n      var skuList = this.skuDs.getAllData(),\n          specSkuMappingList = void 0,\n          skuMap = void 0,\n          findSpec = void 0;\n      for (var i = 0, l = skuList.length; i < l; i++) {\n        specSkuMappingList = skuList[i][\"specSkuMappingList\"];\n\n        for (var a = 0, b = specSkuMappingList.length; a < b; a++) {\n          skuMap = specSkuMappingList[a];\n          findSpec = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(specData, \"crid\", skuMap.crid)[0];\n\n          if (!findSpec || findSpec.specName != skuMap.specName || findSpec.specValue != skuMap.specValue) {\n            console.log(\"检测到第\" + (i + 1) + \"条SKU\" + \"\\\"\" + skuList[i].skuName + \"\\\"\" + \"与规格不匹配，无法提交，请仔细检查确认此条SKU\");\n            errorMessage = this.$t(\"regenerateSku\");\n            break;\n          }\n        }\n      }\n\n      if (this.hasChangeSpec) {\n        errorMessage = this.$t(\"regenerateSku\");\n      }\n\n      return errorMessage;\n    },\n\n\n    //为了控制不能上传图片\n    onSelectSKU: function onSelectSKU(records) {\n      this.hasSelectSku = records.length > 0;\n    },\n\n\n    /***************************提交逻辑***************************/\n\n    uploadAll: function uploadAll() {\n      this.uploadSuccessNum = 0;\n\n      //头图上传\n      var temp = this.$refs.headPicAttach;\n      temp.save();\n\n      //详情上传\n      temp = this.$refs.bodyPicAttach;\n      temp.save();\n\n      //视频上传\n      temp = this.$refs.videoPicAttach;\n      temp.save();\n    },\n    uploadSuccess: function uploadSuccess() {\n      //头图上传\n      this.uploadSuccessNum++;\n      if (parseInt(this.uploadSuccessNum) === 3) {\n        this.save();\n      }\n    },\n    uploadFailed: function uploadFailed() {\n      //头图上传\n      this.uploadSuccessNum = 0;\n      this.$store.commit(\"hideLoading\");\n    },\n    ctrlItemData: function ctrlItemData(data) {\n      //设置itemInfo\n      var result = data.item;\n      result.catalogList = data.catalogList;\n      result.parentCatalogId = data.parentCatalogId;\n      result.tag = (result.tag || []).split(\"\\n\");\n\n      //设置specData\n      this.loadSpecData(data.itemSpecList);\n\n      //设置标签表格\n      this.tagDs.setData(data.item.itemTagMappings);\n\n      //设置属性表格\n      this.attrDs.setData(data.itemAttributeList);\n\n      //设置skuData\n      this.skuDs.setData(data.skuList);\n\n      return result;\n    },\n    save: function save() {\n      var error = void 0;\n\n      //检验queryDs\n      error = this.checkBaseInfo();\n\n      //检验attrDs\n      if (!error) {\n        error = !this.checkDs(this.attrDs) ? \"\" : this.$t(\"enterItemAttr\"); //Please enter porduct feature\n      }\n\n      //校验specDs\n      if (!error) {\n        error = !this.checkDs(this.specTypeDs) ? \"\" : this.$t(\"enterItemSpec\"); //Please enter porduct feature\n      }\n\n      //检验skuDs\n      if (!error) {\n        error = !this.checkDs(this.skuDs) ? \"\" : this.$t(\"enterItemSKU\");\n      }\n\n      //检验sku数据\n      if (!error) {\n        error = this.checkSku();\n      }\n\n      if (!!error) {\n        this.$store.commit(\"message\", error);\n        return;\n      } else if (this.uploadSuccessNum != 3) {\n        this.$store.commit(\"loading\", this.$t('saving'));\n        this.uploadAll();\n        return;\n      } else {\n        this.uploadSuccessNum = 0;\n      }\n\n      var item = this.$base.deepCopy(this.queryDs.getCurrentData());\n\n      item.tag = (item.tag || []).join(\"\\n\");\n\n      //itemAttributeList 商品属性\n      var submitForm = { item: item };\n\n      //submitForm\n      submitForm.itemAttributeList = this.deleteAttrData.concat(this.attrDs.getAllData());\n      submitForm.item.itemTagMappings = this.deleteTagData.concat(this.tagDs.getAllData());\n\n      submitForm.catalogList = item.catalogList;\n      submitForm.parentCatalogId = item.parentCatalogId;\n\n      //itemSpecList 商品规格\n      submitForm.itemSpecList = this.specData;\n\n      //skuList 商品SKU\n      submitForm.skuList = this.deleteSkuData.concat(this.skuDs.getAllData());\n\n      //如果有加载的数据就去加载id\n      itemModule.maintain.execute({\n        data: submitForm,\n        failed: function (msg) {\n          this.$store.commit(\"hideLoading\");\n          this.$store.commit(\"message\", msg);\n        }.bind(this),\n        success: function () {\n          this.$store.commit(\"message\", this.$t('saveSuccess'));\n          this.$store.commit(\"hideLoading\");\n\n          if (!!this.itemId) {\n            //                            this.clearDeleteData();\n            // TODO: 加标签保存(无刷新下)再删除再添加会出多个标签，需刷新queryDs\n            var name = this.$route.name;\n            this.$store.dispatch('router/reload', name);\n          } else {\n            this.resetPageData();\n          }\n        }.bind(this)\n      });\n    },\n    checkDs: function checkDs(ds) {\n      var records = ds.records;\n      var checkResult = void 0;\n\n      if (!records || records.length < 1) {\n        return \"null\";\n      } else {\n        ds.sendVerify();\n        for (var i = 0, l = records.length; i < l; i++) {\n          checkResult = records[i].getVerifyResult();\n          if (!checkResult.ifPassVerify) {\n            return \"no pass\";\n          }\n        }\n      }\n    },\n    checkBaseInfo: function checkBaseInfo() {\n      var data = this.queryDs.getCurrentData(),\n          error = void 0;\n      this.checkDs(this.queryDs);\n\n      if (!data.itemName) {\n        error = setArror(this.$t(\"itemName\"));\n      }\n      if (!data.itemModel) {\n        error = setArror(this.$t(\"itemModel\"));\n      }\n      if (!data.parentCatalogId) {\n        error = setArror(this.$t(\"category\"));\n      }\n\n      if (!data.catalogList || data.catalogList.length < 1) {\n        error = setArror(this.$t(\"subCategory\"));\n      }\n\n      if (!data.unit) {\n        error = setArror(this.$t(\"currency\"));\n      }\n\n      if (!data.factPrice && data.factPrice !== 0) {\n        error = setArror(this.$t(\"price\"));\n      }\n\n      if (!data.tag || data.tag.length < 1) {\n        error = setArror(this.$t(\"keyWords\"));\n      }\n\n      if (this.$refs.headPicAttach.viewList < 1) {\n        error = setArror(this.$t(\"itemHeadPic\"));\n      }\n\n      if (this.$refs.bodyPicAttach.viewList < 1) {\n        error = setArror(this.$t(\"itemBodyPic\"));\n      }\n\n      function setArror(msg) {\n        if (!!error) {\n          error += \"、\";\n          msg = msg.toLowerCase();\n        } else {\n          error = \"\";\n        }\n        error += msg;\n        return error;\n      }\n\n      if (error) {\n        error = this.$t(\"baseInfoCheckError\", { fields: error });\n      }\n\n      return error;\n    },\n    clearDeleteData: function clearDeleteData() {\n      this.deleteAttrData = [];\n      this.deleteSkuData = [];\n      this.deleteTagData = [];\n\n      var specData = this.specData,\n          result = [];\n      for (var i = 0, l = specData.length; i < l; i++) {\n        if (specData[i].deleteFlag != 1) {\n          result.push(specData[i]);\n        }\n      }\n      this.specData = result;\n    },\n    resetPageData: function resetPageData() {\n      //recordid\n      var id = this.queryDs.getCurrentData().brandGlobalId;\n      var brandName = this.queryDs.getCurrentData().brandName;\n      var queryDs = this.queryDs;\n\n      this.$refs.brand_selector.setReadOnly(true);\n      this.$refs.big_catalog_selector.setReadOnly(false);\n\n      //清空数据\n      this.deleteAttrData = [];\n      this.deleteSkuData = [];\n      this.specData = [];\n      this.attrData = [];\n\n      //重置ds\n      this.specTypeDs.reset();\n      this.skuDs.reset();\n      this.attrDs.reset();\n      this.tagDs.reset();\n      queryDs.clearCurrent();\n      queryDs.getCurrentRecord().resetValue(\"brandGlobalId\", id);\n      queryDs.getCurrentRecord().resetValue(\"brandName\", brandName);\n\n      //设置值\n      this.itemId = null;\n      this.uploadSuccessNum = 0;\n\n      //重设brandId\n      this.$refs.brand_selector.setReadOnly(false);\n    },\n    viewItem: function viewItem() {\n      var item = this.$base.deepCopy(this.queryDs.getCurrentData());\n\n      //头图\n      var temp = void 0;\n      temp = this.$refs.headPicAttach.viewList;\n      if (temp && temp.length > 0) {\n        item.headPic = temp[0].src;\n      }\n      temp = this.$refs.bodyPicAttach.viewList;\n      if (temp && temp.length > 0) {\n        item.bodyPic = temp;\n      }\n\n      temp = this.$refs.videoPicAttach.viewList;\n      if (temp && temp.length > 0) {\n        item.videoPic = temp[0].src;\n      }\n\n      //属性\n      item.attrList = this.attrDs.getAllData();\n\n      //价格\n      temp = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(this.currencyDs.getAllData(), \"exchangeUnit\", item.unit);\n      item.unitSign = temp.length > 0 ? temp[0].exchangeSign : \"\";\n\n      //品牌\n      if (!item.brandName && item.brandGlobalId) {\n        temp = __WEBPACK_IMPORTED_MODULE_0__lib_utils_ArrayApi__[\"a\" /* default */].getDataByAttr(this.brandDs.getAllData(), \"brandGlobalId\", item.brandGlobalId);\n        item.brandName = temp.length > 0 ? temp[0].brandName : \"\";\n      }\n\n      //factPrice\n      item.factPrice = __WEBPACK_IMPORTED_MODULE_1__lib_utils_money__[\"a\" /* default */].format(item.factPrice);\n\n      this.viewData = item;\n      this.$refs.view.show();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".main-container[data-v-c1536c02]{padding-bottom:30px}.file-sku[data-v-c1536c02]{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.001;cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/account/info.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,mBAAqB,CACtB,AACD,2BACE,kBAAmB,AACnB,MAAS,AACT,OAAU,AACV,SAAY,AACZ,QAAW,AACX,aAAe,AACf,cAAgB,CACjB\",\"file\":\"info.vue\",\"sourcesContent\":[\"\\n.main-container[data-v-c1536c02]{\\n  padding-bottom: 30px;\\n}\\n.file-sku[data-v-c1536c02]{\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  bottom: 0px;\\n  right: 0px;\\n  opacity: 0.001;\\n  cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/39.2ca9bfb34c7cc6a7c9a3.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.10@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1536c02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./info.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"6e30dff9\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c1536c02\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/account/info.vue\n// module id = 1004\n// module chunks = 39","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('div', [_c('sk-data-set', {\n    attrs: {\n      \"auto-create\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": true,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('会员编号'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"required\": \"\",\n      \"label\": _vm.$t('会员姓名'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('会员级别'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('性别'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('销售人'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('接点人'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('服务中心'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('市场角色'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('身份证号'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('手机号码'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('Email'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('地址'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('开户银行'),\n      \"name\": \"itemName\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"label\": _vm.$t('开户姓名'),\n      \"name\": \"itemModel\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"readonly\": !_vm.editable,\n      \"required\": \"\",\n      \"bind\": _vm.queryDs,\n      \"label\": _vm.$t('银行卡号'),\n      \"name\": \"itemName\"\n    }\n  })], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('itemTag')\n    }\n  }, [_c('sk-table', {\n    ref: \"TagTable\",\n    attrs: {\n      \"bind\": _vm.tagDs\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add')\n    },\n    on: {\n      \"click\": _vm.addTags\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"formatter\": _vm.renderItemTagType,\n      \"name\": \"itemTagType\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('tagType')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"beginDate\",\n      \"view-type\": \"time\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('startTime')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"endDate\",\n      \"view-type\": \"time\",\n      \"required\": \"\",\n      \"editable\": false,\n      \"title\": _vm.$t('endTime')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"id\",\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.tagOperation,\n      \"if-hide\": !_vm.editable\n    },\n    on: {\n      \"cell-click\": _vm.clickTagOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemAttr')\n    }\n  }, [_c('sk-table', {\n    ref: \"attrTable\",\n    attrs: {\n      \"bind\": _vm.attrDs\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add'),\n      \"action\": \"add\",\n      \"bind\": _vm.attrDs\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"attributeName\",\n      \"required\": \"\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('attrName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"attributeValue\",\n      \"required\": \"\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('attrContent')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"sort\",\n      \"type\": \"number\",\n      \"required\": \"\",\n      \"min\": 0,\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('sort')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"20px\",\n      \"name\": \"id\",\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.attrOperation,\n      \"if-hide\": !_vm.editable\n    },\n    on: {\n      \"cell-click\": _vm.clickAttrOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemSpec')\n    }\n  }, [_c('sk-table', {\n    ref: \"specTable\",\n    attrs: {\n      \"bind\": _vm.specTypeDs\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"25%\",\n      \"name\": \"specTypeName\",\n      \"editable\": _vm.editable,\n      \"required\": \"\",\n      \"title\": _vm.$t('specName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"specValues\",\n      \"title\": _vm.$t('specContent')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"width\": \"25%\",\n      \"name\": \"crid\",\n      \"if-hide\": !_vm.editable,\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.specOperation\n    },\n    on: {\n      \"cell-click\": _vm.clickSpecOperation\n    }\n  })], 1)]), _vm._v(\" \"), (_vm.editable) ? _c('div', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-top\": \"20px\"\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('add')\n    },\n    on: {\n      \"click\": _vm.addSpecType\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('createSKU')\n    },\n    on: {\n      \"click\": _vm.onClickGenerate\n    }\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('sk-fold', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasBigCatalog),\n      expression: \"hasBigCatalog\"\n    }],\n    attrs: {\n      \"title\": _vm.$t('itemSku')\n    }\n  }, [_c('sk-table', {\n    ref: \"skuTable\",\n    attrs: {\n      \"bind\": _vm.skuDs,\n      \"show-checkbox\": _vm.editable,\n      \"editable\": _vm.editable\n    },\n    on: {\n      \"select\": _vm.onSelectSKU\n    }\n  }, [(_vm.editable) ? _c('div', {\n    attrs: {\n      \"slot\": \"buttons\"\n    },\n    slot: \"buttons\"\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('uploadImg'),\n      \"primary\": \"\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.hasSelectSku),\n      expression: \"hasSelectSku\"\n    }],\n    staticClass: \"file-sku\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/gif, image/jpeg, image/png\"\n    },\n    on: {\n      \"change\": _vm.onChangeSKuPic\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (false),\n      expression: \"false\"\n    }]\n  }, [_c('sk-attach', {\n    ref: \"skuAtta\",\n    attrs: {\n      \"attach-type\": \"img\",\n      \"source\": \"item\",\n      \"height\": 1,\n      \"width\": 1,\n      \"max-files\": 1,\n      \"row-num\": 2,\n      \"label\": _vm.$t('uploadImg'),\n      \"file-size-limit\": 2\n    },\n    on: {\n      \"error\": function($event) {},\n      \"assign-id-updated\": _vm.uploadSkuSuccess\n    }\n  })], 1)]), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('delete'),\n      \"action\": \"delete\",\n      \"bind\": _vm.skuDs\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    ref: \"test\",\n    attrs: {\n      \"class-name\": \"ellipsis3\",\n      \"align\": \"left\",\n      \"name\": \"skuName\",\n      \"width\": \"25%\",\n      \"title\": _vm.$t('skuName')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"skuModel\",\n      \"editable\": _vm.editable,\n      \"title\": _vm.$t('itemModel')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"skuPrice\",\n      \"editable\": _vm.editable,\n      \"edit-type\": \"money\",\n      \"min\": 0.01,\n      \"title\": _vm.$t('price')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"unit\",\n      \"title\": _vm.$t('currency')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"headAttachList\",\n      \"view-type\": \"img\",\n      \"title\": _vm.$t('picture')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"name\": \"crid\",\n      \"if-hide\": !_vm.editable,\n      \"title\": _vm.$t('operation'),\n      \"formatter\": _vm.attrOperation\n    },\n    on: {\n      \"cell-click\": _vm.clickSkuOperation\n    }\n  })], 1)])], 1), _vm._v(\" \"), _c('sk-fixed-bottom', [(_vm.editable) ? _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('submit')\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('view')\n    },\n    on: {\n      \"click\": _vm.viewItem\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c1536c02\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/account/info.vue\n// module id = 1173\n// module chunks = 39","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1536c02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./info.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./info.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1536c02\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./info.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c1536c02\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/account/info.vue\n// module id = 680\n// module chunks = 39","<template>\n  <div class=\"main-container\">\n    <div>\n      <sk-data-set v-model=\"queryDs\" auto-create></sk-data-set>\n\n      <!--<sk-data-set v-model=\"bigCatalogDs\"  :auto-query=\"true\" :query-service=\"baseData.getRootCatalogs\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"catalogDs\" :bind=\"queryDs\" bind-field=\"parentCatalogId\" :query-service=\"baseData.getCatalogsByParentId\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"brandDs\"  :parse-data=\"ctrlBrandData\" auto-query :query-service=\"baseData.getBrands\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"currencyDs\" :auto-query=\"true\" :query-service=\"baseData.getCurrencyList\"></sk-data-set>-->\n\n      <!--<sk-data-set v-model=\"tagDs\" @ready=\"onTagDsReady\" :auto-query=\"false\" :parse-data=\"initTagData\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"attrDs\"  @ready=\"onAttrDsReady\" :parse-data=\"ctrlAttrData\" :bind=\"!!itemId ? null : queryDs\" :query-para=\"{type: itemModule.enumeration.baseInfoType.attr}\" bind-para-key=\"catalogId\" bind-field=\"parentCatalogId\" :query-service=\"itemModule.getItemBaseInfo\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"specTypeDs\" @update=\"onUpdateSpecType\" @remove=\"onUpdateSpecType\" @ready=\"onSpecTypeReady\" :parse-data=\"initSpecTypeData\" :bind=\"!!itemId ? null : queryDs\" :query-para=\"{type: itemModule.enumeration.baseInfoType.spec}\" bind-para-key=\"catalogId\" bind-field=\"parentCatalogId\" :query-service=\"itemModule.getItemBaseInfo\"></sk-data-set>-->\n      <!--<sk-data-set v-model=\"skuDs\"  @ready=\"onSkuDsReady\" :auto-query=\"false\" :parse-data=\"ctrlSkuData\"></sk-data-set>-->\n\n    </div>\n\n    <div style=\"margin-top: 30px;\">\n      <sk-form :bind=\"queryDs\">\n        <sk-fold :title=\"$t('baseInfo')\">\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"true\" required :bind=\"queryDs\" :label=\"$t('会员编号')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input required :label=\"$t('会员姓名')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('会员级别')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('性别')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('销售人')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('接点人')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('服务中心')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('市场角色')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('身份证号')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('手机号码')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('Email')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('地址')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('开户银行')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n            <sk-col :size=\"2\">\n              <sk-text-input :readonly=\"!editable\" required :label=\"$t('开户姓名')\" name=\"itemModel\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n\n          <sk-row>\n            <sk-col :size=\"1\">\n              <sk-text-input :readonly=\"!editable\" required :bind=\"queryDs\" :label=\"$t('银行卡号')\" name=\"itemName\"></sk-text-input>\n            </sk-col>\n          </sk-row>\n        </sk-fold>\n      </sk-form>\n    </div>\n\n    <sk-fold :title=\"$t('itemTag')\">\n      <sk-table ref=\"TagTable\" :bind=\"tagDs\">\n        <div slot=\"buttons\" v-if=\"editable\">\n          <sk-button primary :label=\"$t('add')\" @click=\"addTags\"></sk-button>\n        </div>\n        <div slot=\"row\">\n          <sk-column align=\"center\" width=\"20px\" :formatter=\"renderItemTagType\" name=\"itemTagType\" required :editable=\"false\" :title=\"$t('tagType')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"beginDate\" view-type=\"time\" required :editable=\"false\" :title=\"$t('startTime')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"endDate\" view-type=\"time\" required :editable=\"false\" :title=\"$t('endTime')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"id\" :title=\"$t('operation')\" :formatter=\"tagOperation\" @cell-click=\"clickTagOperation\" :if-hide=\"!editable\"></sk-column>\n        </div>\n      </sk-table>\n      <!--编辑标签-->\n    </sk-fold>\n\n    <sk-fold :title=\"$t('itemAttr')\" v-show=\"hasBigCatalog\">\n      <sk-table ref=\"attrTable\" :bind=\"attrDs\">\n        <div slot=\"buttons\" v-if=\"editable\">\n          <sk-button primary :label=\"$t('add')\" action=\"add\" :bind=\"attrDs\"></sk-button>\n        </div>\n        <div slot=\"row\">\n          <sk-column align=\"center\" width=\"20px\" name=\"attributeName\" required :editable=\"editable\" :title=\"$t('attrName')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"attributeValue\" required :editable=\"editable\" :title=\"$t('attrContent')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"sort\" type=\"number\" required :min=\"0\" :editable=\"editable\" :title=\"$t('sort')\"></sk-column>\n          <sk-column align=\"center\" width=\"20px\" name=\"id\" :title=\"$t('operation')\" :formatter=\"attrOperation\" @cell-click=\"clickAttrOperation\" :if-hide=\"!editable\"></sk-column>\n        </div>\n      </sk-table>\n    </sk-fold>\n\n    <sk-fold :title=\"$t('itemSpec')\" v-show=\"hasBigCatalog\">\n      <sk-table ref=\"specTable\" :bind=\"specTypeDs\">\n        <div slot=\"row\">\n          <sk-column align=\"center\" width=\"25%\" name=\"specTypeName\" :editable=\"editable\" required :title=\"$t('specName')\"></sk-column>\n          <sk-column align=\"center\" name=\"specValues\" :title=\"$t('specContent')\"></sk-column>\n          <sk-column align=\"center\" width=\"25%\" name=\"crid\" :if-hide=\"!editable\" :title=\"$t('operation')\" :formatter=\"specOperation\" @cell-click=\"clickSpecOperation\"></sk-column>\n        </div>\n      </sk-table>\n      <div v-if=\"editable\" style=\"text-align: center;margin-top: 20px;\">\n        <sk-button primary :label=\"$t('add')\" @click=\"addSpecType\"></sk-button>\n        <sk-button primary :label=\"$t('createSKU')\" @click=\"onClickGenerate\"></sk-button>\n      </div>\n      <!--编辑规格-->\n    </sk-fold>\n\n    <sk-fold :title=\"$t('itemSku')\" v-show=\"hasBigCatalog\">\n      <sk-table ref=\"skuTable\" :bind=\"skuDs\" :show-checkbox=\"editable\" :editable=\"editable\" @select=\"onSelectSKU\">\n        <div slot=\"buttons\" v-if=\"editable\">\n          <sk-button :label=\"$t('uploadImg')\" primary>\n            <input v-show=\"hasSelectSku\" class=\"file-sku\" type=\"file\" accept=\"image/gif, image/jpeg, image/png\" @change=\"onChangeSKuPic\">\n            <div v-show=\"false\">\n              <sk-attach @error=\"\"  @assign-id-updated=\"uploadSkuSuccess\" attach-type=\"img\" source=\"item\"  ref=\"skuAtta\" :height=\"1\" :width=\"1\" :max-files=\"1\" :row-num=\"2\" :label=\"$t('uploadImg')\" :file-size-limit=\"2\"></sk-attach>\n            </div>\n          </sk-button>\n          <sk-button :label=\"$t('delete')\" action=\"delete\" :bind=\"skuDs\"></sk-button>\n        </div>\n        <div slot=\"row\">\n          <sk-column ref=\"test\" class-name=\"ellipsis3\" align=\"left\" name=\"skuName\" width=\"25%\" :title=\"$t('skuName')\"></sk-column>\n          <sk-column align=\"center\" name=\"skuModel\" :editable=\"editable\" :title=\"$t('itemModel')\"></sk-column>\n          <sk-column align=\"center\" name=\"skuPrice\" :editable=\"editable\" edit-type=\"money\" :min=\"0.01\" :title=\"$t('price')\"></sk-column>\n          <sk-column align=\"center\" name=\"unit\" :title=\"$t('currency')\"></sk-column>\n          <sk-column align=\"center\" name=\"headAttachList\" view-type=\"img\" :title=\"$t('picture')\"></sk-column>\n          <sk-column align=\"center\" name=\"crid\" :if-hide=\"!editable\" :title=\"$t('operation')\" :formatter=\"attrOperation\" @cell-click=\"clickSkuOperation\"></sk-column>\n        </div>\n      </sk-table>\n    </sk-fold>\n\n    <!--预览手机-->\n    <!--<sk-view ref=\"view\" :view-data=\"viewData\"></sk-view>-->\n\n    <sk-fixed-bottom>\n      <sk-button v-if=\"editable\" primary :label=\"$t('submit')\" @click=\"save\"></sk-button>\n      <sk-button :label=\"$t('view')\" @click=\"viewItem\"></sk-button>\n    </sk-fixed-bottom>\n  </div>\n</template>\n\n\n<script type=\"text/javascript\">\n  import ArrayApi from \"@/lib/utils/ArrayApi\"\n  import Money from \"@/lib/utils/money\"\n\n  var _$id$_ = Math.floor(Math.random() * 100000000000 + 100000000000);\n\n  export default{\n    data(){\n      window.test = this;\n      return {\n        editable: true,\n        queryDs: null, //基本信息\n        hasChangeSpec: false,\n\n        bigCatalogDs: null, //大类\n        catalogDs: null, //小类\n        currencyDs: null,\n        brandDs: null,\n\n        specTypeDs: null, //商品规格类型\n        attrDs: null, //商品属性\n        skuDs: null,\n        tagDs: null,\n\n        deleteAttrData: [],\n        deleteTagData: [],\n        specData: [], //规格数据\n        deleteSkuData: [],\n\n        itemId: this.$route.query.itemId, //查看的itemId\n\n        uploadSuccessNum: 0,\n\n        bigCatalog: \"\", //根据大类控制视图\n\n        defaultBrand: \"\",\n\n        viewData: {},\n\n        hasSelectSku: false\n      };\n    },\n\n    watch: {\n\n    },\n\n    computed: {\n      hasBigCatalog(){\n        return !!this.bigCatalog;\n      }\n    },\n\n    methods: {\n      /***************选择品牌*******************/\n      ctrlBrandData(data){\n        //设置默认值\n        this.defaultBrand = data.defaultBrandGlobalId;\n\n        //返回品牌\n        return data.brandGlobals;\n      },\n\n      /** 标签编辑 **/\n\n      renderItemTagType(v,index,record){\n        return record.data.desc;\n      },\n\n      tagOperation(){\n        return \"<a class='edit'>\" + this.$t('edit') +\"</a>\" + \"<a style='margin-left: 10px;' class='delete'>\" + this.$t('delete') +\"</a>\";\n      },\n\n      onTagDsReady(ds){\n        ds.addEventListener(ds.event.remove, this.deleteTagRow);\n      },\n      deleteTagRow(record, index){\n        let data = record.getData();\n        if (data.itemId){\n          data.deleteFlag = 1;\n          this.deleteTagData.push(data);\n        }\n      },\n\n      clickTagOperation(e, v, name, index, record){\n        let type = e.target.className;\n        if (type === \"delete\"){\n          this.tagDs.remove(index);\n        }else if(type === 'edit'){\n          this.$refs.addTagWin.show(record.data, 'edit', index);\n        }\n      },\n\n\n      addTags(){\n        // 判断最多只能填多少标签 循环剔除deleteFlag = 1的数据\n        let itemTagsData = this.queryDs.getCurrentData(),\n          num = 0;\n        if (!!itemTagsData.itemTagMappings){\n          itemTagsData.itemTagMappings.forEach( item => {\n            if (!item.deleteFlag || item.deleteFlag === 0){\n              num++;\n            }\n          });\n          if (num === 3){\n            this.$store.commit(\"message\", \"最多只能三个标签\");\n            return;\n          }\n        }\n        this.$refs.addTagWin.show({}, 'add');\n      },\n\n      saveTagData(tagData) {\n        tagData.itemId = this.itemId;\n        if (tagData.endTime < tagData.beginTime) {\n          this.$store.commit('message', '结束时间不能小于开始时间');\n          return;\n        }\n        this.tagDs.add(tagData);\n        this.queryDs.getCurrentRecord().setValue(\"itemTagMappings\",  this.tagDs.getAllData());\n      },\n\n      saveEditTagData(tagData, index){\n        let originData = this.queryDs.getCurrentData();\n        tagData.itemId = this.itemId;\n        originData.itemTagMappings[index] = tagData;\n        this.tagDs.setData(originData.itemTagMappings);\n      },\n\n      /**********属性编辑************************/\n      attrOperation(){\n        return \"<a class='delete'>\" + this.$t('delete') + \"</a>\";\n      },\n\n      onAttrDsReady(ds){\n        ds.addEventListener(ds.event.remove, this.deleteAttrRow);\n      },\n      deleteAttrRow(record){\n        let data = record.getData();\n        if (data.itemId){\n          data.deleteFlag = 1;\n          this.deleteAttrData.push(data);\n        }\n      },\n      clickAttrOperation(e, v, name, index, record){\n        let type = e.target.className;\n        if (type === \"delete\"){\n          this.attrDs.remove(index);\n        }\n      },\n      ctrlAttrData(data){\n        let obj, current = this.queryDs.getCurrentData();\n\n        //防止未加载queryDs\n        if (!current){return data;}\n\n        for (var i = 0, l = data.length; i < l; i++) {\n          obj = data[i];\n          if (obj.attributeName == \"商品名称\"){\n            obj.attributeValue = current.itemName;\n          }else if (obj.attributeName == \"商品型号\"){\n            obj.attributeValue = current.itemModel;\n          }\n          delete obj.id;\n        }\n        this.attrData = data;\n        return data;\n      },\n\n      /************spec编辑**************************/\n      addSpecType(){\n        this.specTypeDs.add({\n          crid: this.createId()\n        });\n      },\n\n      initSpecTypeData(data){\n        //如果有itemId说明是查询而来无需处理\n        if (this.itemId){\n          return data;\n        }\n\n        let obj;\n        for (let i = 0, l = data.length; i < l; i++) {\n          obj = data[i];\n          obj.specTypeName = obj.attributeName;\n          obj.specValues = \"\";\n          obj.crid = this.createId();\n        }\n\n        //每次加载都要重新设置sku\n        this.deleteAllSku();\n        this.specData = []; //清楚spec\n\n        return data;\n      },\n\n      //加载specData\n      loadSpecData(specData){\n        let obj;\n\n        //先保存规格数据\n        specData = this.specData = specData || [];\n\n        //分类\n        let classifyData = ArrayApi.classify(specData, \"specName\");\n\n        let id, specTypes = [], kineSpecs, spec; //分类id 防止修改名称\n\n        for (let i = 0, l = classifyData.length; i < l; i++) {\n          obj = classifyData[i];\n          id = this.createId();\n          kineSpecs = obj.data; //类型下的数据\n\n          //创建一个类型\n          specTypes.push({\n            crid: id,\n            specTypeName: obj.specName,\n            specValues: ArrayApi.getFieldValue(kineSpecs, \"specValue\").join(\",\")\n          });\n\n          //给每个类型下面的规格data增加绑定的id\n          for (let i = 0, l = kineSpecs.length; i < l; i++) {\n            spec = kineSpecs[i];\n            spec.bindId = id;\n            spec.crid = this.createId();\n          }\n        }\n        this.specTypeDs.setData(specTypes);\n      },\n\n      //规格数据分类\n      classifySpecData(specData){\n        let obj;\n\n        //先保存规格数据\n        specData = specData || [];\n\n        //分类\n        let classifyData = ArrayApi.classify(specData, \"specName\");\n\n        let id, specTypes = [], itemSpec; //分类id 防止修改名称\n        for (let i = 0, l = classifyData.length; i < l; i++) {\n          obj = classifyData[i];\n          id = this.createId();\n          itemSpec = obj.data; //类型下的数据\n\n          //创建一个类型\n          specTypes.push({\n            crid: id,\n            specTypeName: obj.specName,\n            specValues: ArrayApi.getFieldValue(itemSpec, \"specValue\").join(\",\")\n          });\n\n          //给每个类型下面的规格data增加绑定的id\n          for (let i = 0, l = itemSpec.length; i < l; i++) {\n            itemSpec[i].bindId = id;\n          }\n        }\n        return specTypes;\n      },\n\n      //规格操作\n      specOperation(){\n        return \"<a class='edit'>\" + this.$t('edit') +\"</a>\" + \"<a style='margin-left: 10px;' class='delete'>\" + this.$t('delete') +\"</a>\";\n      },\n\n      //操作规格数据\n      clickSpecOperation(e, v, name, index, record){\n        let type = e.target.className;\n        if (type == \"delete\"){\n          this.deleteSpecByParentId(this.specData, record.getValue(\"crid\"));\n          this.specTypeDs.remove(index);\n        }else if (type == \"edit\"){\n          //每个规格都会有绑定的父级id\n          let parentId = record.getValue(\"crid\");\n\n          //获取此规格的数据\n          let singleSpecData = this.getEditSpecData(this.specData, parentId);\n\n          //再过滤已经删除的数据\n          let pecEditData = this.$base.deepCopy(singleSpecData);\n\n          //设置本次编辑的parentId\n          let specName = record.getValue(\"specTypeName\");\n\n          //显示窗口\n          this.$refs.editSpecWin.show(pecEditData, specName, parentId);\n        }\n      },\n\n      getEditSpecData(specData, bindId){\n        let result = [], spec;\n        for (var i = 0, l = specData.length; i < l; i++) {\n          spec = specData[i];\n          if (spec.bindId == bindId && spec.deleteFlag != 1){\n            result.push(spec);\n          }\n        }\n        return result;\n      },\n\n      deleteSpecByParentId(specData, bindId){\n        let spec;\n        for (let i = 0; i < specData.length; i++) {\n          spec = specData[i];\n          if (spec.bindId == bindId){\n            if (!spec.itemId){\n              specData.splice(i, 1);\n              i --;\n            }else{\n              specData[i].deleteFlag = 1;\n            }\n          }\n        }\n        return specData;\n      },\n\n      /**\n       *\n       * 保存规格非常麻烦\n       * 只有一件事需要做 判断规格的值是否一致\n       * 根据crid来判断是否是编辑原来的值\n       *\n       */\n      saveEditSpecData(newSpecData, parentId){\n        let specData = this.specData, spec, originSpec, crid;\n\n        //移除同一个类型的所有数据\n        for (let i =0; i < specData.length; i ++){\n\n          spec = specData[i];\n          if (spec.bindId == parentId && spec.deleteFlag != 1){\n            specData.splice(i, 1);\n            i --;\n          }\n        }\n\n        //给newSpec添加id\n        for (var i = 0, l = newSpecData.length; i < l; i++) {\n          newSpecData[i].crid = this.createId();\n        }\n\n        //新的规格数据\n        this.specData = specData.concat(newSpecData);\n\n        //展示在表格中 获取未删除的spec\n        specData = ArrayApi.getDataByAttr(newSpecData, \"deleteFlag\", 1, true);\n\n        let specTypeRecords = this.specTypeDs.records, specType, record, specs;\n        for (let i = 0, l = specTypeRecords.length; i < l; i++) {\n          record = specTypeRecords[i];\n\n          if (record.getValue(\"crid\") == parentId){\n            specs = ArrayApi.getFieldValue(specData, \"specValue\");\n            record.setValue(\"specValues\", specs.join(\",\"));\n          }\n        }\n      },\n\n      onSpecTypeReady(ds){\n        ds.addEventListener(ds.event.update, this.saveEditSpecTypeName);\n      },\n\n      //修改specName的时候\n      saveEditSpecTypeName(specTypeName, key, record){\n        if (key == \"specTypeName\"){\n          let specData = ArrayApi.getDataByAttr(this.specData, \"bindId\", record.getValue(\"crid\"));\n          for (let i = 0, l = specData.length; i < l; i++) {\n            specData[i].specName = specTypeName;\n          }\n        }\n      },\n\n      // 更新规格类型\n      onUpdateSpecType(value, key, record){\n        if (key === 'specTypeName'){\n          let specName = this.parseSpecName(value);\n          if (value !== specName) {\n            record.setValue(key, specName);\n          }\n          this.hasChangeSpecData();\n        }\n      },\n\n      // 格式化规格值的问题\n      parseSpecName(specName) {\n        specName = $.trim(specName);\n        specName = specName.replace(/;|:|,|'/ig, \" \");\n        specName = $.trim(specName);\n        return specName;\n      },\n\n      hasChangeSpecData(){\n        this.hasChangeSpec = true;\n      },\n\n      hasGenerateSku(){\n        console.log(\"spec saved\");\n        this.hasChangeSpec = false;\n      },\n\n      createId(){\n        return ++_$id$_;\n      },\n\n\n      /**\n       *\n       * @param record\n       * sku row\n       *\n       */\n      onClickGenerate(){\n        let sku = this.generateSKU();\n        let ds = this.skuDs;\n        let records = ds.records || [];\n\n        for (let i = 0, l = records.length; i < l; i++) {\n          this.deleteSkuRow(records[i]);\n        }\n\n        ds.setData(sku);\n        this.hasGenerateSku();\n      },\n\n      ctrlSkuData(data){\n        let d = this.queryDs.getCurrentData(),\n          specData = this.specData;\n\n        //判断queryDs是否存在数据\n        let sku, mapList, a, b, map, spec;\n        for (var i = 0, l = data.length; i < l; i++) {\n          sku = data[i];\n\n          if (!!d) {\n            if (!sku.skuPrice) {\n              sku.skuPrice = d.factPrice;\n            }\n\n            if (!sku.skuModel) {\n              sku.skuModel = d.itemModel;\n            }\n\n            if (!sku.unit) {\n              sku.unit = d.unit;\n            }\n\n            if (!sku.headAttachList) {\n              sku.headAttachList = this.$base.deepCopy(this.$refs.headPicAttach.viewList);\n            }\n          }else{\n            mapList = data[i].specSkuMappingList;\n            for (a = 0, b = mapList.length; a < b; a++) {\n              map = mapList[a];\n              spec = ArrayApi.getDataByAttr(specData, \"specId\", map.specId)[0];\n\n              if (spec){\n                map.specName = spec.specName;\n                map.specValue = spec.specValue;\n                map.crid = spec.crid;\n              }else{\n                mapList.splice(a, 1);\n                a --;\n                b --;\n              }\n            }\n          }\n        }\n\n        return data;\n      },\n\n      initTagData(data){\n        return data;\n      },\n\n      generateSKU(){\n        let check = this.specTypeDs.sendVerify();\n        if (!check){\n          this.$store.commit(\"message\", this.$t('specTypeComplete'));\n          return;\n        }\n\n        let specData = ArrayApi.getDataByAttr(this.specData, \"deleteFlag\", 1, true); // 先获取所有未删除的spec\n        specData = this.$base.deepCopy(specData);\n\n        let classifyData = ArrayApi.classify(specData, \"bindId\"); //分类\n        let spaceSign = \";\", sku, l;\n\n        if (classifyData.length < 1){\n          return;\n        }\n\n        sku = classifyData[0].data;\n        l = classifyData.length;\n\n        if (l > 1){\n          for (let i = 1; i < l; i++) {\n            sku = combination2Array(sku, classifyData[i].data);\n          }\n        }else{\n          var temp, result = [], s;\n          for (let j = 0, l2 = sku.length; j < l2; j++) {\n            s = sku[j];\n            temp = {\n              skuName: (s.specName || \"unknown name\") + \":\" + s.specValue,\n              specSkuMappingList: [s]\n            };\n            result.push(temp);\n          }\n          sku = result;\n        }\n\n        return sku;\n\n        //排列组合两个数组\n        function combination2Array(arr1, arr2) {\n          if (!arr2 || arr2.length == 0){\n            return arr1;\n          }else{\n            var  result = [], item1, item2, temp;\n            for (var i = 0, l1 = arr1.length; i < l1; i++) {\n              item1 = arr1[i];\n              for (var j = 0, l2 = arr2.length; j < l2; j++) {\n                temp = {\n                  skuName: (item1.skuName) || ( (item1.specName || \"unknown name\") + \":\" + item1.specValue),\n                  specSkuMappingList: item1.specSkuMappingList || [item1]\n                };\n                item2 = arr2[j];\n                temp.skuName += spaceSign + (item2.specName || \"unknown name\") + \":\" + item2.specValue;\n                temp.specSkuMappingList.push(item2);\n                result.push(temp);\n              }\n            }\n            return result;\n          }\n        }\n      },\n\n      onSkuDsReady(ds){\n        ds.addEventListener(ds.event.remove, this.deleteSkuRow);\n      },\n\n      deleteSkuRow(record){\n        let data = record.getData();\n        if (data.itemId){\n          data.deleteFlag = 1;\n          this.deleteSkuData.push(data);\n        }\n      },\n\n      deleteAllSku(){\n        let records = this.skuDs.records;\n        for (var i = 0, l = records.length; i < l; i++) {\n          this.deleteSkuRow(records[i]);\n        }\n        this.skuDs.setData();\n      },\n\n      clickSkuOperation(e, value, name, index, record){\n        let type = e.target.className;\n        if (type == \"delete\"){\n          this.skuDs.remove(index);\n        }\n      },\n\n      onChangeSKuPic(e){\n        this.$refs.skuAtta.controller.selectFile(e.target);\n        this.$refs.skuAtta.save();\n      },\n      uploadSkuSuccess(assignId, list){\n        this.$refs.skuAtta.setValue();\n        let skuList = this.skuDs.getSelectedRecords(), obj;\n        for (let i = 0, l = skuList.length; i < l; i++) {\n          skuList[i].setValue(\"headAssignId\", assignId);\n          skuList[i].setValue(\"headAttachList\", list);\n        }\n        this.$refs.skuTable.selectAll(false);\n      },\n\n      checkSku(){\n        //specList skuList 校验sku\n        //现货区sku库 所有提交的sku必须在库中存在\n        var specData = this.specData,\n          skuName,\n          errorMessage = \"\";\n\n        let skuList = this.skuDs.getAllData(), specSkuMappingList, skuMap, findSpec;\n        for (let i = 0, l = skuList.length; i < l; i++) {\n          specSkuMappingList = skuList[i][\"specSkuMappingList\"];\n\n          for (let a = 0, b = specSkuMappingList.length; a < b; a++) {\n            skuMap = specSkuMappingList[a];\n            findSpec = ArrayApi.getDataByAttr(specData, \"crid\", skuMap.crid)[0];\n\n            if (!findSpec || findSpec.specName != skuMap.specName || findSpec.specValue != skuMap.specValue){\n              console.log(\"检测到第\" + (i + 1) + \"条SKU\" + \"\\\"\" + skuList[i].skuName + \"\\\"\" + \"与规格不匹配，无法提交，请仔细检查确认此条SKU\");\n              errorMessage = this.$t(\"regenerateSku\");\n              break;\n            }\n          }\n        }\n\n        if (this.hasChangeSpec){\n          errorMessage = this.$t(\"regenerateSku\");\n        }\n\n        return errorMessage;\n      },\n\n      //为了控制不能上传图片\n      onSelectSKU(records){\n        this.hasSelectSku = records.length > 0;\n      },\n\n      /***************************提交逻辑***************************/\n\n      uploadAll(){\n        this.uploadSuccessNum = 0;\n\n        //头图上传\n        let temp = this.$refs.headPicAttach;\n        temp.save();\n\n        //详情上传\n        temp = this.$refs.bodyPicAttach;\n        temp.save();\n\n        //视频上传\n        temp = this.$refs.videoPicAttach;\n        temp.save();\n      },\n\n      uploadSuccess(){\n        //头图上传\n        this.uploadSuccessNum ++;\n        if (parseInt(this.uploadSuccessNum) === 3){\n          this.save();\n        }\n      },\n\n      uploadFailed(){\n        //头图上传\n        this.uploadSuccessNum = 0;\n        this.$store.commit(\"hideLoading\");\n      },\n\n      ctrlItemData(data){\n        //设置itemInfo\n        let result = data.item;\n        result.catalogList = data.catalogList;\n        result.parentCatalogId = data.parentCatalogId;\n        result.tag = (result.tag || []).split(\"\\n\");\n\n        //设置specData\n        this.loadSpecData(data.itemSpecList);\n\n        //设置标签表格\n        this.tagDs.setData(data.item.itemTagMappings);\n\n        //设置属性表格\n        this.attrDs.setData(data.itemAttributeList);\n\n        //设置skuData\n        this.skuDs.setData(data.skuList);\n\n        return result;\n      },\n\n      save(){\n        let error;\n\n        //检验queryDs\n        error = this.checkBaseInfo();\n\n        //检验attrDs\n        if (!error){\n          error = !this.checkDs(this.attrDs) ? \"\" : this.$t(\"enterItemAttr\"); //Please enter porduct feature\n        }\n\n        //校验specDs\n        if (!error){\n          error = !this.checkDs(this.specTypeDs) ? \"\" : this.$t(\"enterItemSpec\"); //Please enter porduct feature\n        }\n\n        //检验skuDs\n        if (!error){\n          error = !this.checkDs(this.skuDs) ? \"\" : this.$t(\"enterItemSKU\");\n        }\n\n        //检验sku数据\n        if (!error){\n          error = this.checkSku();\n        }\n\n        if (!!error){\n          this.$store.commit(\"message\", error);\n          return;\n        }else if (this.uploadSuccessNum != 3){\n          this.$store.commit(\"loading\", this.$t('saving'));\n          this.uploadAll();\n          return;\n        }else{\n          this.uploadSuccessNum = 0;\n        }\n\n        let item = this.$base.deepCopy(this.queryDs.getCurrentData());\n\n        item.tag = (item.tag || []).join(\"\\n\");\n\n        //itemAttributeList 商品属性\n        let submitForm = {item: item};\n\n        //submitForm\n        submitForm.itemAttributeList = this.deleteAttrData.concat(this.attrDs.getAllData());\n        submitForm.item.itemTagMappings = this.deleteTagData.concat(this.tagDs.getAllData());\n\n        submitForm.catalogList = item.catalogList;\n        submitForm.parentCatalogId = item.parentCatalogId;\n\n        //itemSpecList 商品规格\n        submitForm.itemSpecList = this.specData;\n\n        //skuList 商品SKU\n        submitForm.skuList = this.deleteSkuData.concat(this.skuDs.getAllData());\n\n        //如果有加载的数据就去加载id\n        itemModule.maintain.execute({\n          data: submitForm,\n          failed: function (msg) {\n            this.$store.commit(\"hideLoading\");\n            this.$store.commit(\"message\", msg);\n          }.bind(this),\n          success: function () {\n            this.$store.commit(\"message\", this.$t('saveSuccess'));\n            this.$store.commit(\"hideLoading\");\n\n            if (!!this.itemId){\n//                            this.clearDeleteData();\n              // TODO: 加标签保存(无刷新下)再删除再添加会出多个标签，需刷新queryDs\n              let name = this.$route.name;\n              this.$store.dispatch('router/reload', name);\n            }else{\n              this.resetPageData();\n            }\n          }.bind(this)\n        });\n      },\n\n      checkDs(ds){\n        let records = ds.records;\n        let checkResult;\n\n        if (!records || records.length < 1){\n          return \"null\";\n        }else{\n          ds.sendVerify();\n          for (let i = 0, l = records.length; i < l; i++) {\n            checkResult = records[i].getVerifyResult();\n            if (!checkResult.ifPassVerify){\n              return \"no pass\";\n            }\n          }\n        }\n      },\n\n      checkBaseInfo(){\n        let data = this.queryDs.getCurrentData(),\n          error;\n        this.checkDs(this.queryDs);\n\n        if(!data.itemName){\n          error = setArror(this.$t(\"itemName\"));\n        }\n        if(!data.itemModel){\n          error = setArror(this.$t(\"itemModel\"));\n        }\n        if(!data.parentCatalogId){\n          error = setArror(this.$t(\"category\"));\n        }\n\n        if(!data.catalogList || data.catalogList.length < 1){\n          error = setArror(this.$t(\"subCategory\"));\n        }\n\n        if(!data.unit){\n          error = setArror(this.$t(\"currency\"));\n        }\n\n        if(!data.factPrice && data.factPrice !== 0) {\n          error = setArror(this.$t(\"price\"));\n        }\n\n        if(!data.tag || data.tag.length < 1) {\n          error = setArror(this.$t(\"keyWords\"));\n        }\n\n        if(this.$refs.headPicAttach.viewList < 1){\n          error = setArror(this.$t(\"itemHeadPic\"));\n        }\n\n        if( this.$refs.bodyPicAttach.viewList < 1){\n          error = setArror(this.$t(\"itemBodyPic\"));\n        }\n\n        function setArror(msg){\n          if (!!error){\n            error += \"、\";\n            msg = msg.toLowerCase();\n          }else{\n            error = \"\";\n          }\n          error += msg;\n          return error;\n        }\n\n        if (error){\n          error = this.$t(\"baseInfoCheckError\", {fields: error})\n        }\n\n        return error;\n      },\n\n      clearDeleteData(){\n        this.deleteAttrData = [];\n        this.deleteSkuData = [];\n        this.deleteTagData = [];\n\n        let specData = this.specData, result = [];\n        for (let i = 0, l = specData.length; i < l; i++) {\n          if (specData[i].deleteFlag != 1){\n            result.push(specData[i]);\n          }\n        }\n        this.specData = result;\n      },\n\n      resetPageData(){\n        //recordid\n        let id = this.queryDs.getCurrentData().brandGlobalId;\n        let brandName = this.queryDs.getCurrentData().brandName;\n        let queryDs = this.queryDs;\n\n        this.$refs.brand_selector.setReadOnly(true);\n        this.$refs.big_catalog_selector.setReadOnly(false);\n\n        //清空数据\n        this.deleteAttrData = [];\n        this.deleteSkuData = [];\n        this.specData = [];\n        this.attrData = [];\n\n        //重置ds\n        this.specTypeDs.reset();\n        this.skuDs.reset();\n        this.attrDs.reset();\n        this.tagDs.reset();\n        queryDs.clearCurrent();\n        queryDs.getCurrentRecord().resetValue(\"brandGlobalId\", id);\n        queryDs.getCurrentRecord().resetValue(\"brandName\", brandName);\n\n        //设置值\n        this.itemId = null;\n        this.uploadSuccessNum = 0;\n\n        //重设brandId\n        this.$refs.brand_selector.setReadOnly(false);\n      },\n\n      viewItem(){\n        let item = this.$base.deepCopy(this.queryDs.getCurrentData());\n\n        //头图\n        let temp;\n        temp = this.$refs.headPicAttach.viewList;\n        if (temp && temp.length > 0){\n          item.headPic = temp[0].src;\n        }\n        temp = this.$refs.bodyPicAttach.viewList;\n        if (temp && temp.length > 0){\n          item.bodyPic = temp;\n        }\n\n        temp = this.$refs.videoPicAttach.viewList;\n        if (temp && temp.length > 0){\n          item.videoPic = temp[0].src;\n        }\n\n        //属性\n        item.attrList = this.attrDs.getAllData();\n\n        //价格\n        temp = ArrayApi.getDataByAttr(this.currencyDs.getAllData(), \"exchangeUnit\", item.unit);\n        item.unitSign = temp.length > 0 ? temp[0].exchangeSign : \"\";\n\n        //品牌\n        if (!item.brandName && item.brandGlobalId){\n          temp = ArrayApi.getDataByAttr(this.brandDs.getAllData(), \"brandGlobalId\", item.brandGlobalId);\n          item.brandName = temp.length > 0 ? temp[0].brandName : \"\";\n        }\n\n        //factPrice\n        item.factPrice = Money.format(item.factPrice);\n\n        this.viewData = item;\n        this.$refs.view.show();\n      }\n    }\n  }\n</script>\n\n\n<style scoped>\n  .main-container{\n    padding-bottom: 30px;\n  }\n  .file-sku{\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    right: 0px;\n    opacity: 0.001;\n    cursor: pointer;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// info.vue?0860f729","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.10@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".main-container[data-v-c1536c02]{padding-bottom:30px}.file-sku[data-v-c1536c02]{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.001;cursor:pointer}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/account/info.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,mBAAqB,CACtB,AACD,2BACE,kBAAmB,AACnB,MAAS,AACT,OAAU,AACV,SAAY,AACZ,QAAW,AACX,aAAe,AACf,cAAgB,CACjB\",\"file\":\"info.vue\",\"sourcesContent\":[\"\\n.main-container[data-v-c1536c02]{\\n  padding-bottom: 30px;\\n}\\n.file-sku[data-v-c1536c02]{\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  bottom: 0px;\\n  right: 0px;\\n  opacity: 0.001;\\n  cursor: pointer;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c1536c02\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/account/info.vue\n// module id = 982\n// module chunks = 39"],"sourceRoot":""}