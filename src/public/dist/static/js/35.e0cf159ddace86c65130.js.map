{"version":3,"sources":["webpack:///static/js/35.e0cf159ddace86c65130.js","webpack:///./src/page/activity/list.vue?8b8f","webpack:///./src/page/activity/list.vue?db1a","webpack:///./src/page/activity/list.vue","webpack:///./src/lib/dataModules/activity.js?511d*******","webpack:///list.vue?9dfb","webpack:///./src/page/activity/list.vue?6933"],"names":["webpackJsonp","1005","module","exports","__webpack_require__","content","i","locals","1174","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","auto-query","query-service","baseData","getAccountGrade","on","load","onLoadGradeInfoDs","_v","ref","auto-create","model","value","callback","$$v","queryDs","expression","vendorCountries","vendorCountriesDs","query-bind","pagination","page-size","queryPara","queryActivityConfig","activity","getActivityList","onLoadList","activityItemDs","title","$t","bind","size","readonly","storeId","countryId","label","name","option-bind","display-field","value-field","hintText","valueType","format","domProps","innerHTML","_s","action","primary","click","$event","activityUp","activityDown","_e","showCheckbox","slot","width","align","formatter","renderIndex","view-type","renderName","forActivityName","cell-click","goActivityDetail","forActivityType","formatTime","renderOnSale","renderState","forOperate","doOperation","staticRenderFns","685","injectStyle","ssrContext","Component","719","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__","config","getStoreNodes","url","getStoreNodesWithActivityCount","getCurrentActivitysByStoreId","params","deleteActivity","activityId","saveOrUpdateActivity","contentType","order","offset","limit","storeType","getActivityById","getStoreByStoreId","paras","findActivityItemDetail","getItemsByQueryParams","itemName","itemModel","changeToOnLine","activityIds","changeToOffLine","deleteByIds","insertItem","itemIds","removeItem","getActivitySignList","method","getSkusByItemId","itemId","getBenefitsByActivityId","saveActivityBenefitMappings","saveActivityItemMappings","getItemsByActivityId","getActivityStoreMappingsTreeByActivityId","saveActivityStoreMappings","getBenefitArgProperties","benefitType","initQueryActivityDate","924","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__","__WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__","data","window","test","currentData","gradeData","queryType","queryData","methods","records","getData","countryAuthList","query","para","lastQueryPara","v","time","Date","y","getFullYear","M","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","index","parseInt","record","enName","countryName","status","shelfFlag","e","type","target","className","$store","dispatch","getValue","confirm","delItem","msg","innerText","classType","commit","message","ok","execute","success","selectItem","$refs","activitysListTable","getSelectData","array","length","push","join","selectAll","created","computed","canEdit","hasBrandGlobal","hasCountry","983","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/35.e0cf159ddace86c65130.js","sourcesContent":["webpackJsonp([35],{\n\n/***/ 1005:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(983);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"641f0eae\", content, true, {});\n\n/***/ }),\n\n/***/ 1174:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"activity-list\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"auto-query\": \"\",\n      \"query-service\": _vm.baseData.getAccountGrade\n    },\n    on: {\n      \"load\": _vm.onLoadGradeInfoDs\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    ref: \"table\",\n    attrs: {\n      \"auto-create\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"query-service\": _vm.baseData.vendorCountries,\n      \"auto-query\": \"\"\n    },\n    model: {\n      value: (_vm.vendorCountriesDs),\n      callback: function($$v) {\n        _vm.vendorCountriesDs = $$v\n      },\n      expression: \"vendorCountriesDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": false,\n      \"query-bind\": _vm.queryDs,\n      \"pagination\": \"\",\n      \"page-size\": \"10\",\n      \"queryPara\": _vm.queryActivityConfig,\n      \"query-service\": _vm.activity.getActivityList\n    },\n    on: {\n      \"load\": _vm.onLoadList\n    },\n    model: {\n      value: (_vm.activityItemDs),\n      callback: function($$v) {\n        _vm.activityItemDs = $$v\n      },\n      expression: \"activityItemDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-fold', {\n    staticClass: \"baseInfo\",\n    attrs: {\n      \"title\": _vm.$t('activityBaseInfo')\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-select', {\n    attrs: {\n      \"readonly\": !!_vm.storeId,\n      \"value\": _vm.countryId,\n      \"label\": _vm.$t('countryArea'),\n      \"name\": \"countryId\",\n      \"option-bind\": _vm.vendorCountriesDs,\n      \"display-field\": \"countryName\",\n      \"value-field\": \"countryId\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"hintText\": _vm.$t('activityEventName'),\n      \"label\": _vm.$t('activityEventName'),\n      \"name\": \"activeName\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"hintText\": _vm.$t('activityActivityAddress'),\n      \"label\": _vm.$t('activityActivityAddress'),\n      \"name\": \"address\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-date-picker', {\n    attrs: {\n      \"name\": \"beginTime\",\n      \"valueType\": \"string\",\n      \"format\": \"yyyy-MM-dd\",\n      \"label\": _vm.$t('activityBeginDate'),\n      \"hintText\": _vm.$t('activityBeginDate')\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('h5', {\n    staticClass: \"sub-title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.$t('activityIsDisplay'))\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"shelfFlagOn\",\n      \"label\": _vm.$t('online')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"shelfFlagOff\",\n      \"label\": _vm.$t('offline')\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('h5', {\n    staticClass: \"sub-title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.$t('status'))\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"notOpen\",\n      \"label\": _vm.$t('activityNotStarted')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"processing\",\n      \"label\": _vm.$t('activityInProgress')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"finished\",\n      \"label\": _vm.$t('activityFinished')\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    staticClass: \"btn-group\",\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('search'),\n      \"bind\": _vm.activityItemDs,\n      \"action\": \"query\",\n      \"primary\": \"\"\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('clear'),\n      \"action\": \"reset\"\n    }\n  })], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sk-row', [(_vm.canEdit) ? _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('batchOnline'),\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.activityUp($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('batchOffline'),\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.activityDown($event)\n      }\n    }\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('sk-table', {\n    ref: \"activitysListTable\",\n    attrs: {\n      \"bind\": _vm.activityItemDs,\n      \"showCheckbox\": \"\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"name\": \"index\",\n      \"title\": _vm.$t('lineNo'),\n      \"width\": \"60px\",\n      \"align\": \"center\",\n      \"formatter\": _vm.renderIndex\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"attachList\",\n      \"view-type\": \"img\",\n      \"title\": _vm.$t('thImg'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderName,\n      \"name\": \"country\",\n      \"title\": _vm.$t('countryArea'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityName\",\n      \"formatter\": _vm.forActivityName,\n      \"title\": _vm.$t('activityEventName')\n    },\n    on: {\n      \"cell-click\": _vm.goActivityDetail\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityType\",\n      \"formatter\": _vm.forActivityType,\n      \"title\": _vm.$t('activityType')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityAddress\",\n      \"title\": _vm.$t('activityActivityAddress')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.formatTime,\n      \"name\": \"beginTime\",\n      \"title\": _vm.$t('startDate'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.formatTime,\n      \"name\": \"endTime\",\n      \"title\": _vm.$t('expireDate'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderOnSale,\n      \"name\": \"shelfStatus\",\n      \"title\": _vm.$t('onDisplay'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderState,\n      \"name\": \"state\",\n      \"title\": _vm.$t('status'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.forOperate,\n      \"name\": \"shelfFlag\",\n      \"title\": _vm.$t('operation'),\n      \"align\": \"center\"\n    },\n    on: {\n      \"cell-click\": _vm.doOperation\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 685:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1005)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(924),\n  /* template */\n  __webpack_require__(1174),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c1d7d402\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 719:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__ = __webpack_require__(38);\n\n\nvar config = {\n\n    /**获取活动树结构***/\n    getStoreNodes: {\n        url: \"/store/getSubStoreNodes\"\n    },\n\n    /**新的获取活动树结构***/\n    getStoreNodesWithActivityCount: {\n        url: \"/activity/getSubStoreNodesWithActivityCount\"\n    },\n\n    // 获取当前门店的所有参加的活动\n    getCurrentActivitysByStoreId: {\n        url: \"/activity/getCurrentActivitysByStoreId\",\n        params: {\n            storeId: \"\"\n        }\n    },\n\n    // 删除活动\n    deleteActivity: {\n        url: \"/activity/deleteActivity\",\n        params: {\n            activityId: \"\"\n        }\n    },\n\n    /** 活动上新 **/\n    saveOrUpdateActivity: {\n        url: \"/activity/saveOrUpdateActivity\",\n        contentType: \"json\",\n        params: {\n            activity: \"\"\n        }\n    },\n\n    /** 获取活动列表 **/\n    getActivityList: {\n        url: \"/activity/getActivitiesByIds\",\n        params: {\n            order: \"asc\",\n            offset: 0,\n            limit: 10,\n            storeType: 1\n        }\n    },\n\n    /** 通过活动名获取活动信息 **/\n    getActivityById: {\n        url: \"/activity/getActivityById\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    /** 根据storeId 查询信息 **/\n    getStoreByStoreId: {\n        url: \"/store/getStoreByStoreId\",\n        paras: {\n            storeId: \"\"\n        }\n    },\n\n    /** 获取活动已经关联的商品 **/\n    findActivityItemDetail: {\n        url: \"/activity/findActivityItemDetail\",\n        params: {\n            activityId: \"storeId\"\n        }\n    },\n\n    /** 获取可添加的商品 **/\n    getItemsByQueryParams: {\n        url: \"/item/getItemsByQueryParams\",\n        params: {\n            storeId: \"storeId\",\n            order: \"asc\",\n            itemName: \"itemName\",\n            itemModel: \"itemModel\"\n        }\n    },\n\n    /** 活动上架 **/\n    changeToOnLine: {\n        url: \"/activity/changeToOnLine\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n    /** 活动下架 **/\n    changeToOffLine: {\n        url: \"/activity/changeToOffLine\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n    /** 删除活动 **/\n    deleteByIds: {\n        url: \"/activity/deleteByIds\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n    /** 添加关联活动商品 **/\n    insertItem: {\n        url: \"/activity/saveActivityItems\",\n        params: {\n            activityId: \"\",\n            itemIds: \"\"\n        }\n    },\n\n    /** 删除关联活动商品 **/\n    removeItem: {\n        url: \"/activity/deleteActivityItems\",\n        params: {\n            activityId: \"\",\n            itemIds: \"\"\n        }\n    },\n\n    /** 签到人数浏览 **/\n    getActivitySignList: {\n        url: \"/activitySign/getActivitySignListByActivityId\",\n        method: \"get\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    /** 获取SKU详情 **/\n    getSkusByItemId: {\n        url: \"/sku/getSkusByItemId\",\n        params: {\n            itemId: \"itemId\"\n        }\n    },\n\n    getBenefitsByActivityId: {\n        url: \"/activity/getBenefitsByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    saveActivityBenefitMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityBenefitMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    saveActivityItemMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityItemMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    getItemsByActivityId: {\n        url: \"/activity/getItemsByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    getActivityStoreMappingsTreeByActivityId: {\n        url: \"/activity/getActivityStoreMappingsTreeByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    saveActivityStoreMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityStoreMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    getBenefitArgProperties: {\n        url: \"/activity/getBenefitArgProperties\",\n        params: {\n            benefitType: \"benefitType\"\n        }\n    },\n\n    initQueryActivityDate: {\n        url: \"/activity/getActivityInitDateScope\"\n    }\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__[\"a\" /* createDataModule */])(config, \"activity\"));\n\n/***/ }),\n\n/***/ 924:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__ = __webpack_require__(719);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        window.test = this;\n        return {\n            queryDs: null,\n            vendorCountriesDs: null,\n            baseData: __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__[\"a\" /* default */],\n            activityItemDs: null,\n            activity: __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */],\n            currentData: {},\n            queryActivityConfig: {\n                storeType: 1\n            },\n\n            gradeData: null,\n            queryType: \"brand\",\n            queryData: {},\n            countryId: \"\",\n            storeId: \"\"\n        };\n    },\n\n\n    methods: {\n        //加载账号级别 品牌 国家 门店 (权限问题暂时不做)\n        onLoadGradeInfoDs: function onLoadGradeInfoDs(records) {\n            var data = this.gradeData = records[0].getData();\n            //全球的权限没有 countryId 和 storeId\n\n            this.countryId = data.countryId;\n            this.storeId = data.storeId;\n\n            if (this.storeId) {\n                this.countryId = data.countryAuthList[0];\n            }\n\n            this.activityItemDs.query({\n                countryId: data.countryId,\n                storeId: data.storeId\n            });\n        },\n        onLoadList: function onLoadList() {\n            var para = this.activityItemDs.lastQueryPara,\n                queryType = void 0;\n\n            if (para.countryId) {\n                queryType = \"country\";\n            } else {\n                queryType = \"brand\";\n            }\n\n            this.queryType = queryType;\n            this.queryData = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, para);\n        },\n\n\n        formatTime: function formatTime(v) {\n            var time = new Date(v),\n                y = time.getFullYear(),\n                M = time.getMonth() + 1,\n                d = time.getDate(),\n                h = time.getHours(),\n                m = time.getMinutes(),\n                s = time.getSeconds();\n            M = M < 10 ? \"0\" + M : M;\n            d = d < 10 ? \"0\" + d : d;\n            h = h < 10 ? \"0\" + h : h;\n            m = m < 10 ? \"0\" + m : m;\n            s = s < 10 ? \"0\" + s : s;\n            return y + \"-\" + M + \"-\" + d;\n        },\n        renderIndex: function renderIndex(v, index) {\n            return parseInt(index + 1);\n        },\n        renderName: function renderName(v, index, record) {\n            if (!!v) {\n                return v.enName + \" \" + v.countryName;\n            } else {\n                return \"Global 全球\";\n            }\n        },\n        renderState: function renderState(v) {\n            switch (v) {\n                case \"PROCESS\":\n                    return this.$t('activityInProgress');\n                case \"COMING\":\n                    return this.$t('activityNotStarted');\n                default:\n                    return this.$t('activityFinished');\n            }\n        },\n        renderOnSale: function renderOnSale(v, index, record) {\n            var status = record.data.shelfFlag;\n            if (!!status && status == \"ONLINE\") {\n                return this.$t('onlineAlready');\n            } else if (!!status && status == \"OFFLINE\") {\n                return this.$t('offlineAlready');\n            } else {\n                return \"-\";\n            }\n        },\n\n        //初始化按钮\n        forOperate: function forOperate(v) {\n            if (!!v && v == \"OFFLINE\") {\n                return \"<a class='edit' title=''>\" + this.$t('edit') + \"</a><br/><a class='sell' title=''>\" + this.$t('online') + \"</a><br/><a class='delItem' title=''>\" + this.$t('delete') + \"</a><br/><a class='signNo' title=''>\" + this.$t('activityCheckInList') + \"</a>\";\n            } else {\n                return \"<a class='edit' title=''>\" + this.$t('edit') + \"</a><br/><a class='unSell' title=''>\" + this.$t('offline') + \"</a><br/><a class='delItem' title=''>\" + this.$t('delete') + \"</a><br/><a class='signNo' title=''>\" + this.$t('activityCheckInList') + \"</a>\";\n            }\n        },\n\n        //按钮分配事件\n        doOperation: function doOperation(e, v, name, index, record) {\n            var type = e.target.className;\n            switch (type) {\n                case 'edit':\n                    this.$store.dispatch('router/push', {\n                        name: \"page.activity.edit\",\n                        title: '活动编辑',\n                        query: { type: type, activityId: record.getValue(\"activityId\") }\n                    });\n                    break;\n                case 'signNo':\n                    this.$store.dispatch('router/push', {\n                        name: \"page.activity.signIn\",\n                        title: '签到统计',\n                        query: { type: type, activityId: record.getValue(\"activityId\") }\n                    });\n                    break;\n                case 'sell':\n                case 'unSell':\n                    this.confirm(e, record);\n                    break;\n                case 'delItem':\n                    this.delItem(record);\n                    break;\n\n            }\n        },\n        forActivityName: function forActivityName(v, index, record) {\n            return \"<a class='goActivityDetail' title='' activityId='\" + record.getValue(\"activityId\") + \"'>\" + v + \"</a>\";\n        },\n        forActivityType: function forActivityType(v, index, record) {\n            return v === \"BRAND\" ? \"BRAND/品牌\" : \"COUPON/优惠券\";\n        },\n        goActivityDetail: function goActivityDetail(e, v, name, index, record) {\n            this.$store.dispatch('router/push', {\n                name: \"page.activity.edit\",\n                title: '活动编辑',\n                query: { type: \"edit\", activityId: record.getValue(\"activityId\") }\n            });\n        },\n\n        //弹窗处理上下架(单个)\n        confirm: function confirm(e, record) {\n            var msg = e.target.innerText + \"?\";\n            var classType = e.target.className;\n            var data = {\n                activityIds: record.data.activityId\n            };\n            this.$store.commit(\"confirm\", {\n                message: msg,\n                ok: function () {\n                    //这里确定上下架请求\n                    if (classType == \"sell\") {\n                        __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */].changeToOnLine.execute({\n                            data: data,\n                            success: function () {\n                                this.activityItemDs.query();\n                            }.bind(this)\n                        });\n                    } else if (classType == \"unSell\") {\n                        __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */].changeToOffLine.execute({\n                            data: data,\n                            success: function () {\n                                this.activityItemDs.query();\n                            }.bind(this)\n                        });\n                    }\n                }.bind(this)\n            });\n        },\n\n\n        //批量上架(批量)\n        activityUp: function activityUp() {\n            var selectItem = this.$refs.activitysListTable.getSelectData(),\n                array = [],\n                activityIds = \"\";\n            for (var i = 0; i < selectItem.length; i++) {\n                array.push(selectItem[i].activityId);\n            }\n            if (array.length == 0) {\n                this.$store.commit(\"message\", this.$t('noOnDisplay'));\n                return;\n            }\n            activityIds = array.join(\",\");\n            this.$store.commit(\"confirm\", {\n                message: this.$t('activityConfirmOnDisplay'),\n                ok: function () {\n                    __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */].changeToOnLine.execute({\n                        data: {\n                            activityIds: activityIds\n                        },\n                        success: function (data) {\n                            this.$store.commit(\"message\", this.$t('online'));\n                            this.$refs.activitysListTable.selectAll(false);\n                            this.activityItemDs.query();\n                        }.bind(this)\n                    });\n                }.bind(this)\n            });\n        },\n\n\n        //批量下架(批量)\n        activityDown: function activityDown() {\n            var selectItem = this.$refs.activitysListTable.getSelectData(),\n                array = [],\n                activityIds = \"\";\n            for (var i = 0; i < selectItem.length; i++) {\n                array.push(selectItem[i].activityId);\n            }\n            if (array.length == 0) {\n                this.$store.commit(\"message\", this.$t('noDownDisplay'));\n                return;\n            }\n            activityIds = array.join(\",\");\n            this.$store.commit(\"confirm\", {\n                message: this.$t('activityConfirmOffDisplay'),\n                ok: function () {\n                    __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */].changeToOffLine.execute({\n                        data: {\n                            activityIds: activityIds\n                        },\n                        success: function (data) {\n                            this.$store.commit(\"message\", this.$t('offline'));\n                            this.$refs.activitysListTable.selectAll(false);\n                            this.activityItemDs.query();\n                        }.bind(this)\n                    });\n                }.bind(this)\n            });\n        },\n\n\n        //删除活动\n        delItem: function delItem(record) {\n            /** 活动需下架后才能删除 **/\n            var shelfFlag = record.data.shelfFlag;\n            if (shelfFlag == \"ONLINE\") {\n                this.$store.commit(\"message\", this.$t('activityDeleteTrip'));\n                return;\n            }\n            var data = {\n                activityIds: record.data.activityId\n            };\n            this.$store.commit(\"confirm\", {\n                message: this.$t('DeleteNow'),\n                ok: function () {\n                    __WEBPACK_IMPORTED_MODULE_2__lib_dataModules_activity__[\"a\" /* default */].deleteByIds.execute({\n                        data: data,\n                        success: function () {\n                            this.activityItemDs.query();\n                        }.bind(this)\n                    });\n                }.bind(this)\n            });\n        }\n    },\n\n    created: function created() {},\n\n\n    computed: {\n        canEdit: function canEdit() {\n            var gradeData = this.gradeData;\n            var queryData = this.queryData;\n            var queryType = this.queryType;\n\n            if (queryType && gradeData) {\n                //全球权限进来\n                if (gradeData.hasBrandGlobal) {\n                    return true;\n                } else if (gradeData.hasCountry) {\n\n                    //国家权限进来\n                    if (queryData.countryId == gradeData.countryId) {\n                        return true;\n                    }\n                } else if (gradeData.storeId) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 983:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".slideUp-enter-active[data-v-c1d7d402],.slideUp-leave-active[data-v-c1d7d402]{transition:all .5s;opacity:1}.slideUp-enter[data-v-c1d7d402],.slideUp-leave-active[data-v-c1d7d402]{opacity:0}.title[data-v-c1d7d402]{padding-bottom:10px;border-bottom:1px solid #000}.btn-group[data-v-c1d7d402]{text-align:right;padding-top:50px}.baseInfo[data-v-c1d7d402]{margin-bottom:40px}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/activity/list.vue\"],\"names\":[],\"mappings\":\"AAKA,8EAEE,mBAAqB,AACrB,SAAW,CACZ,AACD,uEAEE,SAAW,CACZ,AACD,wBACE,oBAAqB,AACrB,4BAA8B,CAC/B,AACD,4BACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,2BACE,kBAAoB,CACrB\",\"file\":\"list.vue\",\"sourcesContent\":[\"\\n.activity-list[data-v-c1d7d402] {\\n  /*width: 80%;*/\\n  /*margin: 0 auto;*/\\n}\\n.slideUp-enter-active[data-v-c1d7d402],\\n.slideUp-leave-active[data-v-c1d7d402] {\\n  transition: all 0.5s;\\n  opacity: 1;\\n}\\n.slideUp-enter[data-v-c1d7d402],\\n.slideUp-leave-active[data-v-c1d7d402] {\\n  opacity: 0;\\n}\\n.title[data-v-c1d7d402] {\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #000;\\n}\\n.btn-group[data-v-c1d7d402] {\\n  text-align: right;\\n  padding-top: 50px;\\n}\\n.baseInfo[data-v-c1d7d402] {\\n  margin-bottom: 40px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/35.e0cf159ddace86c65130.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.10@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1d7d402\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"641f0eae\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c1d7d402\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/activity/list.vue\n// module id = 1005\n// module chunks = 35","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"activity-list\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"auto-query\": \"\",\n      \"query-service\": _vm.baseData.getAccountGrade\n    },\n    on: {\n      \"load\": _vm.onLoadGradeInfoDs\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    ref: \"table\",\n    attrs: {\n      \"auto-create\": \"\"\n    },\n    model: {\n      value: (_vm.queryDs),\n      callback: function($$v) {\n        _vm.queryDs = $$v\n      },\n      expression: \"queryDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"query-service\": _vm.baseData.vendorCountries,\n      \"auto-query\": \"\"\n    },\n    model: {\n      value: (_vm.vendorCountriesDs),\n      callback: function($$v) {\n        _vm.vendorCountriesDs = $$v\n      },\n      expression: \"vendorCountriesDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": false,\n      \"query-bind\": _vm.queryDs,\n      \"pagination\": \"\",\n      \"page-size\": \"10\",\n      \"queryPara\": _vm.queryActivityConfig,\n      \"query-service\": _vm.activity.getActivityList\n    },\n    on: {\n      \"load\": _vm.onLoadList\n    },\n    model: {\n      value: (_vm.activityItemDs),\n      callback: function($$v) {\n        _vm.activityItemDs = $$v\n      },\n      expression: \"activityItemDs\"\n    }\n  }), _vm._v(\" \"), _c('sk-fold', {\n    staticClass: \"baseInfo\",\n    attrs: {\n      \"title\": _vm.$t('activityBaseInfo')\n    }\n  }, [_c('sk-form', {\n    attrs: {\n      \"bind\": _vm.queryDs\n    }\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-select', {\n    attrs: {\n      \"readonly\": !!_vm.storeId,\n      \"value\": _vm.countryId,\n      \"label\": _vm.$t('countryArea'),\n      \"name\": \"countryId\",\n      \"option-bind\": _vm.vendorCountriesDs,\n      \"display-field\": \"countryName\",\n      \"value-field\": \"countryId\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"hintText\": _vm.$t('activityEventName'),\n      \"label\": _vm.$t('activityEventName'),\n      \"name\": \"activeName\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-text-input', {\n    attrs: {\n      \"hintText\": _vm.$t('activityActivityAddress'),\n      \"label\": _vm.$t('activityActivityAddress'),\n      \"name\": \"address\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('sk-date-picker', {\n    attrs: {\n      \"name\": \"beginTime\",\n      \"valueType\": \"string\",\n      \"format\": \"yyyy-MM-dd\",\n      \"label\": _vm.$t('activityBeginDate'),\n      \"hintText\": _vm.$t('activityBeginDate')\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('h5', {\n    staticClass: \"sub-title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.$t('activityIsDisplay'))\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"shelfFlagOn\",\n      \"label\": _vm.$t('online')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"shelfFlagOff\",\n      \"label\": _vm.$t('offline')\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 2\n    }\n  }, [_c('h5', {\n    staticClass: \"sub-title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.$t('status'))\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"notOpen\",\n      \"label\": _vm.$t('activityNotStarted')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"processing\",\n      \"label\": _vm.$t('activityInProgress')\n    }\n  }), _vm._v(\" \"), _c('sk-checkbox', {\n    attrs: {\n      \"name\": \"finished\",\n      \"label\": _vm.$t('activityFinished')\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    staticClass: \"btn-group\",\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('search'),\n      \"bind\": _vm.activityItemDs,\n      \"action\": \"query\",\n      \"primary\": \"\"\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('clear'),\n      \"action\": \"reset\"\n    }\n  })], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('sk-row', [(_vm.canEdit) ? _c('sk-col', {\n    attrs: {\n      \"size\": 1\n    }\n  }, [_c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('batchOnline'),\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.activityUp($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('sk-button', {\n    attrs: {\n      \"label\": _vm.$t('batchOffline'),\n      \"primary\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.activityDown($event)\n      }\n    }\n  })], 1) : _vm._e()], 1), _vm._v(\" \"), _c('sk-table', {\n    ref: \"activitysListTable\",\n    attrs: {\n      \"bind\": _vm.activityItemDs,\n      \"showCheckbox\": \"\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"row\"\n    },\n    slot: \"row\"\n  }, [_c('sk-column', {\n    attrs: {\n      \"name\": \"index\",\n      \"title\": _vm.$t('lineNo'),\n      \"width\": \"60px\",\n      \"align\": \"center\",\n      \"formatter\": _vm.renderIndex\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"attachList\",\n      \"view-type\": \"img\",\n      \"title\": _vm.$t('thImg'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderName,\n      \"name\": \"country\",\n      \"title\": _vm.$t('countryArea'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityName\",\n      \"formatter\": _vm.forActivityName,\n      \"title\": _vm.$t('activityEventName')\n    },\n    on: {\n      \"cell-click\": _vm.goActivityDetail\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityType\",\n      \"formatter\": _vm.forActivityType,\n      \"title\": _vm.$t('activityType')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"name\": \"activityAddress\",\n      \"title\": _vm.$t('activityActivityAddress')\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.formatTime,\n      \"name\": \"beginTime\",\n      \"title\": _vm.$t('startDate'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.formatTime,\n      \"name\": \"endTime\",\n      \"title\": _vm.$t('expireDate'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderOnSale,\n      \"name\": \"shelfStatus\",\n      \"title\": _vm.$t('onDisplay'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.renderState,\n      \"name\": \"state\",\n      \"title\": _vm.$t('status'),\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('sk-column', {\n    attrs: {\n      \"formatter\": _vm.forOperate,\n      \"name\": \"shelfFlag\",\n      \"title\": _vm.$t('operation'),\n      \"align\": \"center\"\n    },\n    on: {\n      \"cell-click\": _vm.doOperation\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c1d7d402\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/activity/list.vue\n// module id = 1174\n// module chunks = 35","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1d7d402\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1d7d402\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-c1d7d402\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/activity/list.vue\n// module id = 685\n// module chunks = 35","import {createDataModule} from \"@/lib/dataModules/BaseDataCenter\"\n\nconst config = {\n    \n    /**获取活动树结构***/\n    getStoreNodes: {\n        url: \"/store/getSubStoreNodes\"\n    },\n\n    /**新的获取活动树结构***/\n    getStoreNodesWithActivityCount: {\n        url: \"/activity/getSubStoreNodesWithActivityCount\"\n    },\n\n    // 获取当前门店的所有参加的活动\n    getCurrentActivitysByStoreId: {\n        url: \"/activity/getCurrentActivitysByStoreId\",\n        params: {\n            storeId: \"\"\n        }\n    },\n    \n    // 删除活动\n    deleteActivity: {\n        url: \"/activity/deleteActivity\",\n        params: {\n            activityId: \"\"\n        }\n    },\n    \n    /** 活动上新 **/\n    saveOrUpdateActivity: {\n        url: \"/activity/saveOrUpdateActivity\",\n        contentType: \"json\",\n        params: {\n            activity: \"\"\n        }\n    },\n\n    /** 获取活动列表 **/\n    getActivityList: {\n        url: \"/activity/getActivitiesByIds\",\n        params: {\n            order: \"asc\",\n            offset: 0,\n            limit: 10,\n            storeType: 1\n        }\n    },\n\n    /** 通过活动名获取活动信息 **/\n    getActivityById: {\n        url: \"/activity/getActivityById\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    /** 根据storeId 查询信息 **/\n    getStoreByStoreId:{\n        url: \"/store/getStoreByStoreId\",\n        paras: {\n            storeId: \"\"\n        }\n    },\n\n    /** 获取活动已经关联的商品 **/\n    findActivityItemDetail: {\n        url: \"/activity/findActivityItemDetail\",\n        params: {\n            activityId: \"storeId\",\n        }\n    },\n\n    /** 获取可添加的商品 **/\n    getItemsByQueryParams: {\n        url: \"/item/getItemsByQueryParams\",\n        params: {\n            storeId: \"storeId\",\n            order: \"asc\",\n            itemName: \"itemName\",\n            itemModel: \"itemModel\"\n        }\n    },\n\n    /** 活动上架 **/\n    changeToOnLine: {\n        url: \"/activity/changeToOnLine\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n    /** 活动下架 **/\n    changeToOffLine: {\n        url: \"/activity/changeToOffLine\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n    /** 删除活动 **/\n    deleteByIds: {\n        url: \"/activity/deleteByIds\",\n        params: {\n            activityIds: \"activityIds\"\n        }\n    },\n\n     /** 添加关联活动商品 **/\n     insertItem: {\n        url: \"/activity/saveActivityItems\",\n        params: {\n            activityId: \"\",\n            itemIds: \"\"\n        }\n     },\n\n    /** 删除关联活动商品 **/\n    removeItem: {\n        url: \"/activity/deleteActivityItems\",\n        params: {\n            activityId: \"\",\n            itemIds: \"\"\n        }\n    },\n\n    /** 签到人数浏览 **/\n    getActivitySignList: {\n        url: \"/activitySign/getActivitySignListByActivityId\",\n        method: \"get\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n\n    /** 获取SKU详情 **/\n    getSkusByItemId: {\n        url: \"/sku/getSkusByItemId\",\n        params: {\n            itemId: \"itemId\"\n        }\n    },\n    \n    getBenefitsByActivityId: {\n        url: \"/activity/getBenefitsByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    saveActivityBenefitMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityBenefitMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    \n    saveActivityItemMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityItemMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    getItemsByActivityId: {\n        url: \"/activity/getItemsByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    \n    getActivityStoreMappingsTreeByActivityId: {\n        url: \"/activity/getActivityStoreMappingsTreeByActivityId\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    saveActivityStoreMappings: {\n        contentType: \"json\",\n        url: \"/activity/saveActivityStoreMappings\",\n        params: {\n            activityId: \"activityId\"\n        }\n    },\n    \n    getBenefitArgProperties: {\n        url: \"/activity/getBenefitArgProperties\",\n        params: {\n            benefitType: \"benefitType\"\n        }\n    },\n\n    initQueryActivityDate: {\n        url: \"/activity/getActivityInitDateScope\"\n    }\n};\nexport default createDataModule(config, \"activity\")\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/dataModules/activity.js","<template>\n    <div class=\"activity-list\">\n        <sk-data-set auto-query @load=\"onLoadGradeInfoDs\" :query-service=\"baseData.getAccountGrade\"></sk-data-set>\n        <sk-data-set ref=\"table\" v-model=\"queryDs\" auto-create></sk-data-set>\n        <sk-data-set v-model=\"vendorCountriesDs\" :query-service=\"baseData.vendorCountries\" auto-query></sk-data-set>\n        <sk-data-set v-model=\"activityItemDs\" @load=\"onLoadList\" :auto-query=\"false\" :query-bind=\"queryDs\" pagination page-size=\"10\"\n                     :queryPara=\"queryActivityConfig\" :query-service=\"activity.getActivityList\"></sk-data-set>\n\n        <sk-fold :title=\"$t('activityBaseInfo')\" class=\"baseInfo\">\n            <sk-form :bind=\"queryDs\">\n                <sk-row>\n                    <sk-col :size=\"2\">\n                        <sk-select :readonly=\"!!storeId\" :value=\"countryId\" :label=\"$t('countryArea')\" name=\"countryId\" :option-bind=\"vendorCountriesDs\"\n                                   display-field=\"countryName\" value-field=\"countryId\"></sk-select>\n                    </sk-col>\n                    <sk-col :size=\"2\">\n                        <sk-text-input :hintText=\"$t('activityEventName')\" :label=\"$t('activityEventName')\" name=\"activeName\"></sk-text-input>\n                    </sk-col>\n\n                </sk-row>\n\n                <sk-row>\n                    <sk-col :size=\"2\">\n                        <sk-text-input :hintText=\"$t('activityActivityAddress')\" :label=\"$t('activityActivityAddress')\" name=\"address\"></sk-text-input>\n                    </sk-col>\n                    <sk-col :size=\"2\">\n                        <sk-date-picker name=\"beginTime\" valueType=\"string\" format=\"yyyy-MM-dd\" :label=\"$t('activityBeginDate')\" :hintText=\"$t('activityBeginDate')\"></sk-date-picker>\n                    </sk-col>\n                    <!--<sk-col :size=\"2\">-->\n                        <!--<sk-date-picker bind-min-date=\"startDate\" name=\"endDate\" label=\" \" bind-by-min=\"startDate\" :hintText=\"$t('endTime')\"></sk-date-picker>-->\n                    <!--</sk-col>-->\n                </sk-row>\n\n                <sk-row>\n                    <sk-col :size=\"2\">\n                        <h5 class=\"sub-title\" v-html=\"$t('activityIsDisplay')\"></h5>\n                        <sk-checkbox name=\"shelfFlagOn\" :label=\"$t('online')\"></sk-checkbox>\n                        <sk-checkbox name=\"shelfFlagOff\" :label=\"$t('offline')\"></sk-checkbox>\n                    </sk-col>\n\n                    <sk-col :size=\"2\">\n                        <h5 class=\"sub-title\" v-html=\"$t('status')\"></h5>\n                        <sk-checkbox name=\"notOpen\" :label=\"$t('activityNotStarted')\"></sk-checkbox>\n                        <sk-checkbox name=\"processing\" :label=\"$t('activityInProgress')\"></sk-checkbox>\n                        <sk-checkbox name=\"finished\" :label=\"$t('activityFinished')\"></sk-checkbox>\n                    </sk-col>\n                </sk-row>\n\n                <sk-row>\n                    <sk-col :size=\"1\" class=\"btn-group\">\n                        <sk-button :label=\"$t('search')\" :bind=\"activityItemDs\" action=\"query\" primary></sk-button>\n                        <sk-button :label=\"$t('clear')\" action=\"reset\"></sk-button>\n                    </sk-col>\n                </sk-row>\n            </sk-form>\n        </sk-fold>\n\n        <sk-row>\n            <sk-col :size=\"1\" v-if=\"canEdit\">\n                <sk-button :label=\"$t('batchOnline')\" primary @click=\"activityUp($event)\"></sk-button>\n                <sk-button :label=\"$t('batchOffline')\" primary @click=\"activityDown($event)\"></sk-button>\n            </sk-col>\n        </sk-row>\n        <sk-table :bind=\"activityItemDs\" ref=\"activitysListTable\" showCheckbox>\n            <div slot=\"row\">\n                <sk-column name=\"index\" :title=\"$t('lineNo')\" width=\"60px\" align=\"center\" :formatter=\"renderIndex\"></sk-column>\n                <sk-column name=\"attachList\" view-type=\"img\" :title=\"$t('thImg')\" align=\"center\"></sk-column>\n                <sk-column :formatter=\"renderName\" name=\"country\" :title=\"$t('countryArea')\" align=\"center\"></sk-column>\n                <sk-column name=\"activityName\" :formatter=\"forActivityName\" @cell-click=\"goActivityDetail\" :title=\"$t('activityEventName')\"></sk-column>\n                <sk-column name=\"activityType\" :formatter=\"forActivityType\" :title=\"$t('activityType')\"></sk-column>\n                <sk-column name=\"activityAddress\" :title=\"$t('activityActivityAddress')\"></sk-column>\n                <sk-column :formatter=\"formatTime\" name=\"beginTime\" :title=\"$t('startDate')\" align=\"center\"></sk-column>\n                <sk-column :formatter=\"formatTime\" name=\"endTime\" :title=\"$t('expireDate')\" align=\"center\"></sk-column>\n                <sk-column :formatter=\"renderOnSale\" name=\"shelfStatus\" :title=\"$t('onDisplay')\" align=\"center\"></sk-column>\n                <sk-column :formatter=\"renderState\" name=\"state\" :title=\"$t('status')\" align=\"center\"></sk-column>\n                <sk-column :formatter=\"forOperate\" @cell-click=\"doOperation\" name=\"shelfFlag\" :title=\"$t('operation')\" align=\"center\"></sk-column>\n            </div>\n        </sk-table>\n    </div>\n\n</template>\n\n<script>\n    import baseData from \"@/lib/dataModules/baseData\"\n    import activity from \"@/lib/dataModules/activity\"\n\n    export default {\n        data(){\n            window.test = this;\n            return {\n                queryDs: null,\n                vendorCountriesDs: null,\n                baseData: baseData,\n                activityItemDs: null,\n                activity: activity,\n                currentData: {},\n                queryActivityConfig: {\n                    storeType: 1\n                },\n\n                gradeData: null,\n                queryType: \"brand\",\n                queryData: {},\n                countryId: \"\",\n                storeId: \"\"\n            }\n        },\n\n        methods: {\n            //加载账号级别 品牌 国家 门店 (权限问题暂时不做)\n            onLoadGradeInfoDs(records){\n                var data = this.gradeData = records[0].getData();\n                //全球的权限没有 countryId 和 storeId\n\n                this.countryId = data.countryId;\n                this.storeId = data.storeId;\n\n                if (this.storeId){\n                    this.countryId = data.countryAuthList[0];\n                }\n\n                this.activityItemDs.query({\n                    countryId: data.countryId,\n                    storeId: data.storeId\n                });\n            },\n\n            onLoadList(){\n                let para = this.activityItemDs.lastQueryPara, queryType;\n\n                if(para.countryId){\n                    queryType = \"country\";\n                }else{\n                    queryType = \"brand\";\n                }\n\n                this.queryType = queryType;\n                this.queryData = Object.assign({}, para);\n            },\n\n            formatTime: function(v){\n                let time = new Date(v),\n                    y = time.getFullYear(),\n                    M = time.getMonth() + 1,\n                    d = time.getDate(),\n                    h = time.getHours(),\n                    m = time.getMinutes(),\n                    s = time.getSeconds();\n                M = M < 10? \"0\" + M : M;\n                d = d < 10? \"0\" + d : d;\n                h = h < 10? \"0\" + h : h;\n                m = m < 10? \"0\" + m : m;\n                s = s < 10? \"0\" + s : s;\n                return y + \"-\" + M + \"-\" + d;\n            },\n            renderIndex(v, index){\n                return parseInt(index + 1);\n            },\n            renderName(v,index,record){\n                if (!!v) {\n                    return v.enName + \" \" + v.countryName;\n                }else {\n                    return \"Global 全球\";\n                }\n            },\n            renderState(v){\n                switch(v){\n                    case \"PROCESS\":\n                        return this.$t('activityInProgress');\n                    case \"COMING\":\n                        return this.$t('activityNotStarted');\n                    default:\n                        return this.$t('activityFinished');\n                }\n            },\n            renderOnSale(v,index,record){\n                let status = record.data.shelfFlag;\n                if ( !!status && status == \"ONLINE\"){\n                    return this.$t('onlineAlready');\n                } else if ( !!status && status ==\"OFFLINE\" ){\n                    return this.$t('offlineAlready');\n                } else{\n                    return \"-\";\n                }\n            },\n            //初始化按钮\n            forOperate (v){\n                if ( !!v && v == \"OFFLINE\"){\n                    return \"<a class='edit' title=''>\"+this.$t('edit')+\"</a><br/><a class='sell' title=''>\"+this.$t('online')+\"</a><br/><a class='delItem' title=''>\"+this.$t('delete')+\"</a><br/><a class='signNo' title=''>\"+this.$t('activityCheckInList')+\"</a>\"\n                }else{\n                    return \"<a class='edit' title=''>\"+this.$t('edit')+\"</a><br/><a class='unSell' title=''>\"+this.$t('offline')+\"</a><br/><a class='delItem' title=''>\"+this.$t('delete')+\"</a><br/><a class='signNo' title=''>\"+this.$t('activityCheckInList')+\"</a>\"\n                }\n            },\n            //按钮分配事件\n            doOperation(e, v, name, index, record){\n                let type = e.target.className;\n                switch (type){\n                    case 'edit':\n                        this.$store.dispatch('router/push', {\n                            name: \"page.activity.edit\",\n                            title: '活动编辑',\n                            query: {type: type, activityId: record.getValue(\"activityId\")}\n                        });\n                        break;\n                    case 'signNo':\n                        this.$store.dispatch('router/push', {\n                            name: \"page.activity.signIn\",\n                            title: '签到统计',\n                            query: {type: type, activityId: record.getValue(\"activityId\")}\n                        });\n                        break;\n                    case 'sell':\n                    case 'unSell':\n                        this.confirm(e, record);\n                        break;\n                    case 'delItem':\n                        this.delItem(record);\n                        break;\n\n                }\n            },\n            forActivityName(v, index, record) {\n                return \"<a class='goActivityDetail' title='' activityId='\"+ record.getValue(\"activityId\") +\"'>\"+v+\"</a>\"\n            },\n            forActivityType(v, index, record) {\n                return v === \"BRAND\" ? \"BRAND/品牌\" : \"COUPON/优惠券\";\n            },\n            goActivityDetail(e, v, name, index, record){\n                this.$store.dispatch('router/push', {\n                    name: \"page.activity.edit\",\n                    title: '活动编辑',\n                    query: {type: \"edit\", activityId: record.getValue(\"activityId\")}\n                })\n            },\n            //弹窗处理上下架(单个)\n            confirm(e, record){\n                let msg = e.target.innerText + \"?\";\n                let classType = e.target.className;\n                let data = {\n                    activityIds: record.data.activityId\n                };\n                this.$store.commit(\"confirm\",{\n                    message: msg,\n                    ok: function(){\n                        //这里确定上下架请求\n                        if ( classType == \"sell\" ){\n                            activity.changeToOnLine.execute({\n                                data,\n                                success: function(){\n                                    this.activityItemDs.query();\n                                }.bind(this)\n                            })\n                        }else if ( classType == \"unSell\" ){\n                            activity.changeToOffLine.execute({\n                                data,\n                                success: function(){\n                                    this.activityItemDs.query();\n                                }.bind(this)\n                            })\n                        }\n                    }.bind(this)\n                });\n            },\n\n            //批量上架(批量)\n            activityUp(){\n                let selectItem = this.$refs.activitysListTable.getSelectData(),\n                    array = [],\n                    activityIds = \"\";\n                for( let i = 0; i < selectItem.length; i++){\n                    array.push(selectItem[i].activityId);\n                }\n                if (array.length == 0){\n                    this.$store.commit(\"message\",this.$t('noOnDisplay'));\n                    return;\n                }\n                activityIds = array.join(\",\");\n                this.$store.commit(\"confirm\",{\n                    message: this.$t('activityConfirmOnDisplay'),\n                    ok: function(){\n                        activity.changeToOnLine.execute({\n                            data: {\n                                activityIds: activityIds\n                            },\n                            success:function(data){\n                                this.$store.commit(\"message\",this.$t('online'));\n                                this.$refs.activitysListTable.selectAll(false);\n                                this.activityItemDs.query();\n                            }.bind(this)\n                        })\n                    }.bind(this)\n                });\n            },\n\n            //批量下架(批量)\n            activityDown(){\n                let selectItem = this.$refs.activitysListTable.getSelectData(),\n                    array = [],\n                    activityIds = \"\";\n                for( let i = 0; i < selectItem.length; i++){\n                    array.push(selectItem[i].activityId);\n                }\n                if (array.length == 0){\n                    this.$store.commit(\"message\",this.$t('noDownDisplay'));\n                    return;\n                }\n                activityIds = array.join(\",\");\n                this.$store.commit(\"confirm\",{\n                    message:this.$t('activityConfirmOffDisplay'),\n                    ok: function(){\n                        activity.changeToOffLine.execute({\n                            data: {\n                                activityIds: activityIds\n                            },\n                            success:function(data){\n                                this.$store.commit(\"message\",this.$t('offline'));\n                                this.$refs.activitysListTable.selectAll(false);\n                                this.activityItemDs.query();\n                            }.bind(this)\n                        })\n                    }.bind(this)\n                });\n            },\n\n            //删除活动\n            delItem(record){\n                /** 活动需下架后才能删除 **/\n                let shelfFlag = record.data.shelfFlag;\n                if ( shelfFlag == \"ONLINE\" ){\n                    this.$store.commit(\"message\",this.$t('activityDeleteTrip'));\n                    return;\n                }\n                let data = {\n                    activityIds: record.data.activityId\n                };\n                this.$store.commit(\"confirm\",{\n                    message: this.$t('DeleteNow'),\n                    ok: function(){\n                        activity.deleteByIds.execute({\n                            data,\n                            success: function(){\n                                this.activityItemDs.query();\n                            }.bind(this)\n                        })\n                    }.bind(this)\n                });\n            }\n\n        },\n\n        created(){\n\n        },\n\n        computed: {\n            canEdit(){\n                let gradeData = this.gradeData;\n                let queryData = this.queryData;\n                let queryType = this.queryType;\n\n                if (queryType && gradeData){\n                    //全球权限进来\n                    if (gradeData.hasBrandGlobal){\n                        return true;\n\n                    }else if (gradeData.hasCountry){\n\n                        //国家权限进来\n                        if (queryData.countryId == gradeData.countryId){\n                            return true\n                        }\n                    }else if (gradeData.storeId){\n                        return true\n                    }\n                }\n\n                return false;\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .activity-list {\n        /*width: 80%;*/\n        /*margin: 0 auto;*/\n    }\n    .slideUp-enter-active,\n    .slideUp-leave-active {\n        transition: all 0.5s;\n        opacity: 1;\n    }\n\n    .slideUp-enter,\n    .slideUp-leave-active {\n        opacity: 0;\n    }\n\n    .title {\n        padding-bottom: 10px;\n        border-bottom: 1px solid #000;\n    }\n\n    .btn-group {\n        text-align: right;\n        padding-top: 50px;\n    }\n\n    .baseInfo {\n        margin-bottom: 40px;\n    }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// list.vue?4af41b42","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.10@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".slideUp-enter-active[data-v-c1d7d402],.slideUp-leave-active[data-v-c1d7d402]{transition:all .5s;opacity:1}.slideUp-enter[data-v-c1d7d402],.slideUp-leave-active[data-v-c1d7d402]{opacity:0}.title[data-v-c1d7d402]{padding-bottom:10px;border-bottom:1px solid #000}.btn-group[data-v-c1d7d402]{text-align:right;padding-top:50px}.baseInfo[data-v-c1d7d402]{margin-bottom:40px}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/activity/list.vue\"],\"names\":[],\"mappings\":\"AAKA,8EAEE,mBAAqB,AACrB,SAAW,CACZ,AACD,uEAEE,SAAW,CACZ,AACD,wBACE,oBAAqB,AACrB,4BAA8B,CAC/B,AACD,4BACE,iBAAkB,AAClB,gBAAkB,CACnB,AACD,2BACE,kBAAoB,CACrB\",\"file\":\"list.vue\",\"sourcesContent\":[\"\\n.activity-list[data-v-c1d7d402] {\\n  /*width: 80%;*/\\n  /*margin: 0 auto;*/\\n}\\n.slideUp-enter-active[data-v-c1d7d402],\\n.slideUp-leave-active[data-v-c1d7d402] {\\n  transition: all 0.5s;\\n  opacity: 1;\\n}\\n.slideUp-enter[data-v-c1d7d402],\\n.slideUp-leave-active[data-v-c1d7d402] {\\n  opacity: 0;\\n}\\n.title[data-v-c1d7d402] {\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #000;\\n}\\n.btn-group[data-v-c1d7d402] {\\n  text-align: right;\\n  padding-top: 50px;\\n}\\n.baseInfo[data-v-c1d7d402] {\\n  margin-bottom: 40px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c1d7d402\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/activity/list.vue\n// module id = 983\n// module chunks = 35"],"sourceRoot":""}