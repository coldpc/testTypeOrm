webpackJsonp([33],{1003:function(e,t,r){var a=r(981);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(2)("e9caf9f0",a,!0,{})},1171:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-container"},[r("sk-data-set",{attrs:{"auto-query":"","query-service":e.baseData.getAccountGrade},on:{load:e.onLoadGradeInfoDs}}),e._v(" "),r("sk-data-set",{attrs:{"auto-create":""},model:{value:e.queryDs,callback:function(t){e.queryDs=t},expression:"queryDs"}}),e._v(" "),r("sk-data-set",{attrs:{"query-service":e.baseData.vendorCountries,"auto-query":""},model:{value:e.vendorCountriesDs,callback:function(t){e.vendorCountriesDs=t},expression:"vendorCountriesDs"}}),e._v(" "),r("sk-data-set",{attrs:{"query-service":e.baseData.getStoreByCountry,bind:e.queryDs,"bind-field":"countryId"},model:{value:e.storeDs,callback:function(t){e.storeDs=t},expression:"storeDs"}}),e._v(" "),r("sk-data-set",{attrs:{"data-source":e.orderTypesData},model:{value:e.orderType,callback:function(t){e.orderType=t},expression:"orderType"}}),e._v(" "),r("sk-data-set",{attrs:{"data-source":e.orderStatusData},model:{value:e.orderStatus,callback:function(t){e.orderStatus=t},expression:"orderStatus"}}),e._v(" "),r("sk-data-set",{attrs:{"query-service":e.baseData.getRootCatalogs,"auto-query":""},model:{value:e.rootCatalogs,callback:function(t){e.rootCatalogs=t},expression:"rootCatalogs"}}),e._v(" "),r("sk-data-set",{attrs:{bind:e.queryDs,"bind-field":"rootCatalogId","bind-para-key":"parentCatalogId","query-service":e.baseData.getCatalogsByParentId},model:{value:e.catalogs,callback:function(t){e.catalogs=t},expression:"catalogs"}}),e._v(" "),r("sk-data-set",{attrs:{bind:e.queryDs,pagination:"","page-size":"10","query-service":e.order.queryOrderList,queryPara:e.queryConfig,"query-bind":e.queryDs,"auto-query":!1},model:{value:e.queryOrderList,callback:function(t){e.queryOrderList=t},expression:"queryOrderList"}}),e._v(" "),r("sk-data-set",{attrs:{"query-service":e.baseData.getCurrencyList,"auto-query":""},model:{value:e.currencyDs,callback:function(t){e.currencyDs=t},expression:"currencyDs"}}),e._v(" "),r("sk-fold",{attrs:{title:e.$t("queryPara")}},[r("sk-form",{attrs:{bind:e.queryDs}},[r("sk-row",{attrs:{gutter:""}},[r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("countryArea"),bind:e.queryDs,name:"countryId","option-bind":e.vendorCountriesDs,"display-field":"countryName","value-field":"countryId",readonly:!!e.limit.countryId}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("store"),bind:e.queryDs,name:"storeId","option-bind":e.storeDs,"display-field":"storeName","value-field":"storeId",readonly:!!e.limit.storeId}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("orderOrderType"),bind:e.queryDs,"null-title":"全部 All",name:"deliveryType","option-bind":e.orderType,"display-field":"display","value-field":"deliveryType"}})],1)],1),e._v(" "),r("sk-row",[r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("orderOrderStatus"),bind:e.queryDs,name:"orderVendorStatus","option-bind":e.orderStatus,"display-field":"display","value-field":"statusVal"}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("productCategoryFilter"),bind:e.queryDs,name:"rootCatalogId","option-bind":e.rootCatalogs,"display-field":"catalogName","value-field":"catalogId"}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-select",{attrs:{value:"",label:e.$t("subFilter"),bind:e.queryDs,name:"catalogId","option-bind":e.catalogs,"display-field":"catalogName","value-field":"catalogId"}})],1)],1),e._v(" "),r("sk-row",[r("sk-col",{attrs:{size:3}},[r("sk-text-input",{attrs:{value:"","hint-text":e.$t("productCode"),label:e.$t("productCode"),bind:e.queryDs,name:"itemModel","option-bind":e.itemModel}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-text-input",{attrs:{value:"","hint-text":e.$t("productName"),label:e.$t("productName"),bind:e.queryDs,name:"itemName","option-bind":e.itemName}})],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-col",{staticClass:"col-sm-12 control-label"},[r("span",{domProps:{innerHTML:e._s(e.$t("orderArrivalDate"))}})]),e._v(" "),r("div",{staticClass:"col-sm-5"},[r("sk-date-picker",{attrs:{name:"beginDate",bind:e.queryDs,valueType:"string",format:"yyyy-MM-dd","option-bind":e.datePicker,"hint-text":e.$t("startDate")}})],1),e._v(" "),r("div",{staticClass:"col-sm-2 time-diver-icon"},[e._v("\n                        ～\n                    ")]),e._v(" "),r("div",{staticClass:"col-sm-5"},[r("sk-date-picker",{attrs:{name:"endDate",bind:e.queryDs,valueType:"string",format:"yyyy-MM-dd","option-bind":e.datePicker,"bind-min-date":"beginDate","hint-text":e.$t("endDate")}})],1)],1),e._v(" "),r("sk-col",{attrs:{size:3}},[r("sk-text-input",{attrs:{value:"","hint-text":e.$t("orderNo"),label:e.$t("orderNo"),bind:e.queryDs,name:"orderNo","option-bind":e.orderNo}})],1),e._v(" "),r("sk-col",{staticStyle:{"text-align":"right","padding-top":"20px"},attrs:{size:3}},[r("sk-button",{attrs:{label:e.$t("search"),bind:e.queryOrderList,action:"query",primary:""}}),e._v(" "),r("sk-button",{attrs:{label:e.$t("clear"),action:"reset"}})],1)],1)],1)],1),e._v(" "),r("sk-row",[r("sk-col",{attrs:{size:1}},[r("sk-button",{attrs:{label:e.$t("batchPass"),primary:""},on:{click:e.batchOrderPassed}})],1)],1),e._v(" "),r("sk-table",{ref:"orderListTable",attrs:{bind:e.queryOrderList,selectable:"","show-checkbox":!e.limitFlag}},[r("div",{attrs:{slot:"row"},slot:"row"},[r("sk-column",{attrs:{formatter:e.orderIndex,name:"No",title:e.$t("lineNo"),align:"center",width:"60px"}}),e._v(" "),r("sk-column",{attrs:{formatter:e.transCountry,name:"store",title:e.$t("countryArea"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{name:"orderNo",width:"200px",title:e.$t("orderNo"),formatter:e.forOrderDetail},on:{"cell-click":e.goOrderDetail}}),e._v(" "),r("sk-column",{attrs:{formatter:e.renderStoreName,name:"storeName",title:e.$t("activityStoreEventName")}}),e._v(" "),r("sk-column",{attrs:{formatter:e.renderUserName,name:"orderContact",title:e.$t("name"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{name:"deliveryTime","view-type":"time",title:e.$t("appointmentDate"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{formatter:e.renderOrderState,name:"orderStatus",title:e.$t("orderOrderStatus"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{formatter:e.tranOrderType,name:"deliveryType",title:e.$t("orderOrderType"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{formatter:e.confirmShopping,name:"confirmShopping",title:e.$t("confirmShopping"),align:"center"}}),e._v(" "),r("sk-column",{attrs:{"if-hide":e.limitFlag,formatter:e.tranOperate,name:"auditStatus",title:e.$t("operation"),align:"center"},on:{"cell-click":e.doOperation}})],1)]),e._v(" "),r("sk-win",{ref:"confirmOrder",attrs:{width:"400px",title:e.$t("orderConfirm")}},[r("h4",{staticClass:"confirm-title",domProps:{innerHTML:e._s(e.$t("total"))}}),e._v(" "),r("div",{staticClass:"confirm-price"},[r("sk-select",{attrs:{value:"",label:e.$t("currency"),bind:e.queryDs,name:"unit","option-bind":e.currencyDs,"display-field":"exchangeSign","value-field":"exchangeUnit"}}),e._v(" "),r("sk-text-input",{attrs:{value:"","hint-text":e.$t("price"),label:e.$t("price"),bind:e.queryDs,name:"purchaseMoney",type:"number"}})],1),e._v(" "),r("div",{staticClass:"confirm-btn"},[r("sk-button",{attrs:{primary:"",label:e.$t("submit")},on:{click:e.confirmOrderComplete}})],1)])],1)},staticRenderFns:[]}},698:function(e,t,r){function a(e){r(1003)}var o=r(0)(r(941),r(1171),a,"data-v-b954fda8",null);e.exports=o.exports},746:function(e,t,r){"use strict";var a=r(38),o={enumeration:{deliverType:{hotel:"HOTEL_DELIVERY",store:"STORE_DELIVERY"},shoppingType:{reserve:"NO",online:"YES"},storeDeliveryFlag:{nonsupport:"OPPOSE_HOME",support:"SUPPORT_HOME"}},getItems:{url:"/item/getItemsByQueryParams",paras:{rootCatalogId:"",countryId:103e3,order:"asc",offset:0,limit:10,storeId:""}},queryOrderList:{url:"/orderHead/queryVendorOrderPageList",paras:{offset:0,limit:10}},queryByOrderScheduleNo:{url:"/order/queryByOrderScheduleNo",params:{orderScheduleNo:""}},getInfo:{url:"/orderHead/getOrderDetail",params:{orderNo:""}},saveArriveTime:{url:"/orderHead/modifyScheduleDate",params:{orderNo:"",deliveryTimeStr:""}},queryScheduleDetailByBrandIdScheduleNo:{url:"/order/queryScheduleDetailByBrandIdScheduleNo",params:{orderScheduleNo:""}},getItemPicListByBrandIdScheduleNo:{url:"/order/getItemPicListByBrandIdScheduleNo",params:{orderScheduleNo:""}},queryChat:{url:"/orderHead/getOrderChatsByOrderNo",params:{orderNo:"",pageSize:""}},saveOrderChat:{url:"/orderHead/saveOrderChat",params:{orderNo:"",chatText:"",imgAssignId:""}},orderPassed:{url:"/orderHead/orderPassed",params:{orderNo:""}},orderRefuse:{url:"/orderHead/orderRefuse",params:{orderNo:""}},queryOrderDelivery:{url:"/orderHead/queryOrderDelivery",params:{orderNo:""}},batchOrderPassed:{url:"/orderHead/batchOrderPassed",params:{orderNo:""}},confirmOrderSchedule:{url:"/orderHead/confirmOrder",params:{orderNo:"",confirmShopping:"",confirmAmount:"",confirmUnit:""}},confirmDeliver:{url:"/orderHead/confirmDeliver",params:{orderNo:"",deliveryName:"",deliveryMobile:"",deliveryRemark:""}}};t.a=r.i(a.a)(o,"order")},941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(129),o=r(133),s=r.n(o),i=r(746),n=r(141),d=r.n(n),l=r(136),c=r.n(l);t.default={components:{SkCol:c.a,SkRow:d.a,SkDatePicker:s.a},data:function(){return window.test=this,{orderTypesData:[{deliveryType:"STORE_DELIVERY",display:"预约到店",enName:"Shop in Store"},{deliveryType:"HOTEL_DELIVERY",display:"送货上门",enName:"Deliver Home"}],queryDs:null,vendorCountriesDs:null,currencyDs:null,storeDs:null,baseData:a.a,order:i.a,confirmOrderNo:"",orderType:null,orderStatus:null,orderStatusData:[{statusVal:"PENDING",display:"待审核",enName:"Pending"},{statusVal:"VERIFIED",display:"已通过",enName:"Verified"},{statusVal:"DELIVERED",display:"已发货",enName:"Delivered"},{statusVal:"CONFIRMED",display:"已确认",enName:"Confirmed"},{statusVal:"REFUSED",display:"已拒绝",enName:"Refused"},{statusVal:"CANCELED",display:"已取消",enName:"Canceled"}],queryConfig:{},limit:{countryId:"",storeId:""},orderNo:null,rootCatalogs:null,catalogs:null,datePicker:null,itemModel:null,itemName:null,queryOrderList:null,limitFlag:!1}},created:function(){},methods:{onLoadGradeInfoDs:function(e){var t=this.gradeData=e[0].getData();!0===t.hasBrandGlobal?this.limitFlag=!1:t.hasCountry?this.limit.countryId=t.countryId:t.hasStore&&(this.limit.storeId=t.storeId,this.limit.countryId=t.countryAuthList[0]);var r=this.$base.deepCopy(this.limit);this.queryDs.setData(r),this.queryOrderList.query(r)},forOrderDetail:function(e,t,r){return"<a class='goOrderDetail' title='' orderNo='"+r.getValue("orderNo")+"'>"+e+"</a>"},goOrderDetail:function(e,t,r,a,o){var s={};s=this.limitFlag?{type:"detail",orderNo:o.getValue("orderNo")}:{orderNo:o.getValue("orderNo")},this.$store.dispatch("router/push",{title:"订单详情",name:"page.order.detail",query:s})},orderIndex:function(e,t,r){return t+1},transCountry:function(e,t,r){return e.countryName+" "+e.cityName},renderUserName:function(e,t,r){return e?e.contactName:""},renderStoreName:function(e,t,r){return r.data.store.storeName},transTime:function(e){var t=e?new Date(e):"";return t?t.toISOString().substring(0,16).replace("T"," "):"-"},renderOrderState:function(e,t,r){var a=r.data.orderStatus,o={CANCEL:"orderCanceledStatus",COMPLETED:"verified",RECEIPT_REFUSE:"orderConfirmStatus",RECEIPT_INIT:"verified",SEND_GOODS:"Delivered",ACCEPT_ORDER:"verified",PAID:"pending",SUBMIT:"submit"};if("CANCEL"==a&&"STORE_CANCEL"==r.data.orderCancelType)return this.$t("refused");for(var s in o)if(s==a)return this.$t(o[s]);return"-"},tranOrderType:function(e,t,r){switch(e){case"STORE_DELIVERY":return this.$t("shopInStore");case"HOTEL_DELIVERY":return this.$t("shopToHome")}},confirmShopping:function(e,t,r){switch(e){case"PURCHASED":return this.$t("orderConfirmStatus");case"NOT_PURCHASED":default:return this.$t("orderNotConfirmStatus")}},tranOperate:function(e,t,r){var a=r.data.deliveryType,o=r.data.confirmShopping,s=r.data.orderStatus,i="";return i=i.concat("<a class='look' title=''>"+this.$t("orderDetails")+"</a><br>"),"PAID"==s&&(i=i.concat("<a class='audit' title=''>"+this.$t("checkAudit")+"</a><br>")),"HOTEL_DELIVERY"==a&&"ACCEPT_ORDER"==s&&(i=i.concat("<a class='audit' title=''>"+this.$t("delivery")+"</a><br>")),"PURCHASED"!=o&&(i=i.concat("<a class='confirm' title='' data-order-no="+r.data.orderNo+">"+this.$t("orderConfirm")+"</a>")),i},doOperation:function(e,t,r,a,o){var s=e.target.className;this.$refs.table;switch(s){case"look":case"audit":this.$store.dispatch("router/push",{title:"订单详情",name:"page.order.detail",query:{orderNo:o.getValue("orderNo"),type:s}});break;case"confirm":this.orderPass(e)}},orderPass:function(e){this.confirmOrderNo=e.target.dataset.orderNo,this.$store.commit("confirm",{message:this.$t("orderCompleted"),ok:function(){this.$refs.confirmOrder.show()}.bind(this)})},batchOrderPassed:function(){for(var e=this.$refs.orderListTable.getSelectData(),t=[],r="",a=0;a<e.length;a++)t.push(e[a].orderNo);if(0===t.length)return void this.$store.commit("message",this.$t("pleaseSelectOrder"));r=t.join(","),this.$store.commit("confirm",{message:this.$t("iSsubmit"),ok:function(){i.a.batchOrderPassed.execute({data:{orderNos:r},success:function(){this.$store.commit("message",this.$t("orderPassed")),this.$refs.orderListTable.selectAll(!1),this.queryOrderList.query()}.bind(this)})}.bind(this)})},confirmOrderComplete:function(){var e=this.queryDs.getCurrentData();i.a.confirmOrderSchedule.execute({data:{confirmAmount:e.purchaseMoney,confirmUnit:e.unit,orderNo:this.confirmOrderNo,confirmShopping:"PURCHASED"},success:function(){this.$store.commit("message",this.$t("orderPassed")),this.$refs.confirmOrder.hide(),this.queryOrderList.query()}.bind(this)})}}}},981:function(e,t,r){t=e.exports=r(1)(!0),t.push([e.i,".main-container[data-v-b954fda8]{width:90%;max-width:1300px;margin:auto}.col-sm-2[data-v-b954fda8]{width:16.66666667%;float:left}.col-sm-4[data-v-b954fda8]{width:33.33333333%;float:left}.col-sm-5[data-v-b954fda8]{width:41.66666667%;float:left}.col-sm-8[data-v-b954fda8]{width:66.66666667%;float:left}.col-sm-12[data-v-b954fda8]{width:100%;float:left}.time-diver-icon[data-v-b954fda8]{font-size:20px;text-align:center;padding-top:10px}.form-group[data-v-b954fda8]{padding-left:40px!important;box-sizing:border-box}.control-label[data-v-b954fda8]{height:24px;line-height:24px;font-size:13px;color:rgba(0,0,0,.54)}.form-btns[data-v-b954fda8]{text-align:right}.confirm-title[data-v-b954fda8]{text-align:center}.confirm-btn[data-v-b954fda8]{margin-top:10px;text-align:center}","",{version:3,sources:["F:/project/vueMuseUI-master/src/page/order/orderList.vue"],names:[],mappings:"AACA,iCACE,UAAW,AACX,iBAAkB,AAClB,WAAa,CACd,AACD,2BACE,mBAAoB,AACpB,UAAY,CACb,AACD,2BACE,mBAAoB,AACpB,UAAY,CACb,AACD,2BACE,mBAAoB,AACpB,UAAY,CACb,AACD,2BACE,mBAAoB,AACpB,UAAY,CACb,AACD,4BACE,WAAY,AACZ,UAAY,CACb,AACD,kCACE,eAAgB,AAChB,kBAAmB,AACnB,gBAAkB,CACnB,AACD,6BACE,4BAA8B,AAC9B,qBAAuB,CACxB,AACD,gCACE,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,qBAA2B,CAC5B,AACD,4BACE,gBAAkB,CACnB,AACD,gCACE,iBAAmB,CACpB,AACD,8BACE,gBAAiB,AACjB,iBAAmB,CACpB",file:"orderList.vue",sourcesContent:["\n.main-container[data-v-b954fda8] {\n  width: 90%;\n  max-width: 1300px;\n  margin: auto;\n}\n.col-sm-2[data-v-b954fda8] {\n  width: 16.66666667%;\n  float: left;\n}\n.col-sm-4[data-v-b954fda8] {\n  width: 33.33333333%;\n  float: left;\n}\n.col-sm-5[data-v-b954fda8] {\n  width: 41.66666667%;\n  float: left;\n}\n.col-sm-8[data-v-b954fda8] {\n  width: 66.66666667%;\n  float: left;\n}\n.col-sm-12[data-v-b954fda8] {\n  width: 100%;\n  float: left;\n}\n.time-diver-icon[data-v-b954fda8] {\n  font-size: 20px;\n  text-align: center;\n  padding-top: 10px;\n}\n.form-group[data-v-b954fda8] {\n  padding-left: 40px !important;\n  box-sizing: border-box;\n}\n.control-label[data-v-b954fda8] {\n  height: 24px;\n  line-height: 24px;\n  font-size: 13px;\n  color: rgba(0, 0, 0, 0.54);\n}\n.form-btns[data-v-b954fda8] {\n  text-align: right;\n}\n.confirm-title[data-v-b954fda8] {\n  text-align: center;\n}\n.confirm-btn[data-v-b954fda8] {\n  margin-top: 10px;\n  text-align: center;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=33.437c5ee158f305b94023.js.map