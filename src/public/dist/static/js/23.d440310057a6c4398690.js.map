{"version":3,"sources":["webpack:///static/js/23.d440310057a6c4398690.js","webpack:///./src/page/item/plugins/assignDetail.vue","webpack:///./src/page/item/assignDetail.vue?4565","webpack:///./src/page/item/plugins/assignDetail.vue?a3a7","webpack:///./src/page/item/assignDetail.vue","webpack:///./src/lib/dataModules/item.js?fdeb********","webpack:///assignDetail.vue","webpack:///assignDetail.vue?a4c9","webpack:///./src/page/item/plugins/assignDetail.vue?042b","webpack:///./src/page/item/plugins/assignDetail.vue?4d3a"],"names":["webpackJsonp","1130","module","exports","__webpack_require__","injectStyle","ssrContext","Component","1138","render","_vm","this","_h","$createElement","_c","_self","attrs","name","editable","staticRenderFns","1144","staticClass","query-para","itemId","storeId","countryId","query-mask","info","$t","query-service","itemModule","getItemAssignDetail","auto-query","on","load","loadAssignDetail","_v","baseData","getVendorGrade","model","value","callback","$$v","vendorGradeDs","expression","title","size","label","item","itemName","itemModel","parentCatalogName","subCategoryDisplay","unit","storePrice","remark","_s","assignedData","length","_l","index","storeAssignDtos","click","$event","expandView","directives","rawName","expanded","id","crid","icon","_e","country","countryName","enName","assignStoryNum","onStoreNum","cancelAssignOneCountry","store","ind","key","colspan","shelfFlag","height","offline","online","deleteItem","staticStyle","text-align","vendorGradeData","hasStore","padding-bottom","type","primary","gotoAssignStore","gotoAssignCountry","width","storeName","690","718","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__","config","enumeration","baseInfoType","attr","spec","getItems","url","paras","rootCatalogId","order","offset","limit","getItemsForActivitySelect","deleteByIds","event","params","itemIds","cancelAssign","getItemsOrderBySort","catalogId","batchUpdateItemSort","itemListString","getItemBaseInfo","getItemById","maintain","contentType","getAssignCountryDetail","assignCountry","unAssignCountry","getAssignStoreDetail","assignStore","hasShelfFlag","itemList","optStores","unAssignStore","i","930","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue__","__WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue___default","n","components","sk-assign-detail","a","data","938","__WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__","__WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__","window","test","$route","query","unAssignData","rowExpandedController","created","methods","onLoadVendorData","records","getData","catalogNameList","join","unAssignDtos","assignedDtos","sequence","parseInt","Math","random","l","execute","storeItemId","success","refreshAssignItem","bind","num","obj","$set","splice","countryItemId","toggleRow","$store","dispatch","ids","968","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","990","content","locals"],"mappings":"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","file":"static/js/23.d440310057a6c4398690.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ 1130:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(990)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(938),\n  /* template */\n  __webpack_require__(1144),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2dcb080c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 1138:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-reload', {\n    attrs: {\n      \"name\": \"page.item.assignDetail\"\n    }\n  }, [_c('sk-assign-detail', {\n    attrs: {\n      \"editable\": true\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 1144:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('div', {\n    staticClass: \"data-sets-con\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"query-para\": {\n        itemId: this.itemId,\n        storeId: this.storeId,\n        countryId: this.countryId\n      },\n      \"query-mask\": {\n        info: _vm.$t('loading')\n      },\n      \"query-service\": _vm.itemModule.getItemAssignDetail,\n      \"auto-query\": \"\"\n    },\n    on: {\n      \"load\": _vm.loadAssignDetail\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": false,\n      \"query-service\": _vm.baseData.getVendorGrade\n    },\n    model: {\n      value: (_vm.vendorGradeDs),\n      callback: function($$v) {\n        _vm.vendorGradeDs = $$v\n      },\n      expression: \"vendorGradeDs\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('itemName'),\n      \"value\": _vm.item.itemName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('itemModel'),\n      \"value\": _vm.item.itemModel\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('category'),\n      \"value\": _vm.item.parentCatalogName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('subCategory'),\n      \"value\": _vm.item.subCategoryDisplay\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('currency'),\n      \"value\": _vm.item.unit\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('price'),\n      \"value\": _vm.item.storePrice\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('tag'),\n      \"value\": _vm.item.itemName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('remark'),\n      \"value\": _vm.item.remark\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('assignInfo')\n    }\n  }, [_c('table', {\n    staticClass: \"view-table parent-td assigned-table\"\n  }, [_c('thead', [_c('td', {\n    staticClass: \"expand-td\"\n  }), _vm._v(\" \"), _c('td', {\n    staticClass: \"index-td\"\n  }, [_vm._v(\"NO\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"country-td\"\n  }, [_vm._v(_vm._s(_vm.$t('assignCountryNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"store-td\"\n  }, [_vm._v(_vm._s(_vm.$t('assignStoreNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"on-store-td\"\n  }, [_vm._v(_vm._s(_vm.$t('onlineStoreNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"option-td\"\n  }, [_vm._v(_vm._s(_vm.$t('operation')))])]), _vm._v(\" \"), (_vm.assignedData && _vm.assignedData.length > 0) ? _c('tbody', [_vm._l((_vm.assignedData), function(item, index) {\n    return [_c('tr', [_c('td', {\n      staticClass: \"expand-td\"\n    }, [(item && item.storeAssignDtos && item.storeAssignDtos.length > 0) ? _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.expandView(index, item)\n        }\n      }\n    }, [_c('mu-icon-button', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (!item.expanded),\n        expression: \"!item.expanded\"\n      }],\n      attrs: {\n        \"id\": 'expanded-btn-' + item.crid,\n        \"icon\": \"add\"\n      }\n    }), _vm._v(\" \"), _c('mu-icon-button', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (item.expanded),\n        expression: \"item.expanded\"\n      }],\n      attrs: {\n        \"id\": 'unexpanded-btn-' + item.crid,\n        \"icon\": \"remove\"\n      }\n    })], 1) : _vm._e()]), _vm._v(\" \"), _c('td', {\n      staticClass: \"index-td\"\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"country-td\"\n    }, [_vm._v(_vm._s(!!item.country ? (item.country.countryName + \" \" + item.country.enName) : \"\"))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"store-td\"\n    }, [_vm._v(_vm._s(item.assignStoryNum))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"on-store-td\"\n    }, [_vm._v(_vm._s(item.onStoreNum))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"option-td\"\n    }, [_c('a', {\n      on: {\n        \"click\": function($event) {\n          _vm.cancelAssignOneCountry(index, item)\n        }\n      }\n    }, [_vm._v(_vm._s(_vm.$t('delete')))])])]), _vm._v(\" \"), (item.expanded) ? _vm._l((item.storeAssignDtos), function(store, ind) {\n      return _c('tr', {\n        key: 'child' + ind,\n        staticClass: \"expand-child-row\",\n        attrs: {\n          \"id\": 'expand-child-row-' + item.crid\n        }\n      }, [_c('td', {\n        staticClass: \"expand-td\"\n      }), _vm._v(\" \"), _c('td', {\n        staticClass: \"index-td\"\n      }, [_vm._v(_vm._s((index + 1) + '.' + (ind + 1)))]), _vm._v(\" \"), _c('td', {\n        staticClass: \"country-td\"\n      }, [_vm._v(_vm._s(!!store.store ? (store.store.storeName) : \"\"))]), _vm._v(\" \"), _c('td', {\n        attrs: {\n          \"colspan\": \"2\"\n        }\n      }, [(store.shelfFlag == 'ONLINE') ? _c('span', [_vm._v(_vm._s(_vm.$t('online')))]) : _c('span', [_vm._v(_vm._s(_vm.$t('offline')))])]), _vm._v(\" \"), _c('td', {\n        staticClass: \"option-td\",\n        attrs: {\n          \"height\": \"1px\"\n        }\n      }, [(store.shelfFlag == 'ONLINE') ? _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.offline(index, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('offline')))]) : _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.online(index, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('online')))]), _vm._v(\" \"), (store.shelfFlag == 'OFFLINE') ? _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.deleteItem(index, ind, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('delete')))]) : _vm._e()])])\n    }) : _vm._e()]\n  })], 2) : _c('tbody', [_c('tr', [_c('td', {\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"colspan\": \"6\"\n    }\n  }, [_vm._v(_vm._s(_vm.$t('noData')))])])])])]), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('unAssignInfo')\n    }\n  }, [(!_vm.vendorGradeData.hasStore) ? _c('div', {\n    staticStyle: {\n      \"padding-bottom\": \"10px\"\n    }\n  }, [(_vm.type == 'country') ? _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('assign')\n    },\n    on: {\n      \"click\": _vm.gotoAssignStore\n    }\n  }) : _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('assign')\n    },\n    on: {\n      \"click\": _vm.gotoAssignCountry\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"width\": \"100\"\n    }\n  }, [_c('table', {\n    staticClass: \"view-table\"\n  }, [_c('thead', [_c('td', {\n    staticClass: \"index-td\"\n  }, [_vm._v(\"NO\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"name-td\"\n  }, [_vm._v(_vm._s(_vm.$t('countryArea')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"name-td\"\n  }, [_vm._v(_vm._s(_vm.$t('store')))])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.unAssignData), function(item, index) {\n    return _c('tr', [_c('td', {\n      staticClass: \"index-td\"\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"name-td\"\n    }, [_vm._v(_vm._s(item.country.countryName + \" \" + item.country.enName))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"name-td\"\n    }, [_vm._v(_vm._s(item.store.storeName))])])\n  }))])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 690:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(930),\n  /* template */\n  __webpack_require__(1138),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 718:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__ = __webpack_require__(38);\n\n\nvar config = {\n    enumeration: {\n        baseInfoType: {\n            attr: \"ATTRIBUTE\", //属性\n            spec: \"SPEC\" //规格\n        }\n    },\n\n    //商品列表查询\n    getItems: {\n        url: \"/item/getItemsByQueryParams\",\n        paras: {\n            rootCatalogId: \"\",\n            countryId: 103000,\n            order: \"asc\",\n            offset: 0,\n            limit: 10,\n            storeId: \"\"\n        }\n    },\n\n    getItemsForActivitySelect: {\n        url: \"/item/getItemsForActivitySelect\",\n        paras: {}\n    },\n\n    //删除商品\n    deleteByIds: {\n        url: \"/item/deleteByIds\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //上架\n    online: {\n        url: \"/item/changeToOnLine\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //下架\n    offline: {\n        url: \"/item/changeToOffLine\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //取消分配\n    cancelAssign: {\n        url: \"/item/assignCancel\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    getItemsOrderBySort: {\n        url: \"/item/getItemsOrderBySort\",\n        event: \"\",\n        params: {\n            rootCatalogId: \"\",\n            catalogId: \"\"\n        }\n    },\n\n    //提交排序\n    batchUpdateItemSort: {\n        url: \"/item/batchUpdateItemSort\",\n        params: {\n            itemListString: \"\"\n        }\n    },\n\n    //获取商品基本属性 通过大类 商品上新用\n    getItemBaseInfo: {\n        url: \"/itemAttributeMaster/queryByTypeAndCatalogIdOrderBySort\",\n        params: { catalogId: \"\", type: \"\" }\n    },\n\n    //获取商品\n    getItemById: {\n        url: \"/item/getItemSaveOrInsert\",\n        event: \"\",\n        params: {\n            itemId: \"\"\n        }\n    },\n\n    //商品上新或者保存\n    maintain: {\n        url: \"/item/saveOrInsert\",\n        contentType: 'application/json',\n        params: {}\n    },\n\n    //查询分配国家的详情 itemIds\n    getAssignCountryDetail: {\n        url: \"/itemAssigned/getCountryTodoAssigned\",\n        params: { itemIds: \"\" }\n    },\n\n    //分配国家\n    assignCountry: {\n        contentType: \"json\",\n        url: \"/itemAssigned/countryAssigned\",\n        params: {}\n    },\n\n    //取消分配国家\n    unAssignCountry: {\n        contentType: \"json\",\n        url: \"/itemAssigned/countryUnAssigned\",\n        params: {}\n    },\n\n    //查询分配门店的详情\n    getAssignStoreDetail: {\n        url: \"/itemAssigned/getStoreTodoAssigned\",\n        itemIds: \"\"\n    },\n\n    //分配门店\n    assignStore: {\n        contentType: \"json\",\n        url: \"/itemAssigned/storeAssigned\",\n        params: {\n            hasShelfFlag: \"\",\n            itemList: \"\",\n            optStores: \"\"\n        }\n    },\n\n    //取消分配门店\n    unAssignStore: {\n        contentType: \"json\",\n        url: \"/itemAssigned/storeUnAssigned\",\n        params: {\n            hasShelfFlag: \"\",\n            itemList: \"\",\n            optStores: \"\"\n        }\n    },\n\n    //获取商品分配详情\n    getItemAssignDetail: {\n        url: \"/itemAssigned/getItemAssignsDetail\",\n        params: { itemId: '' }\n    },\n\n    //取消商品分配到某个国家 countryItemId\n    cancelAssignOneCountry: {\n        url: \"/itemAssigned/unAssignedCountry\",\n        paras: { itemIds: \"\" }\n    }\n\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__lib_dataModules_BaseDataCenter__[\"a\" /* createDataModule */])(config, \"order\"));\n\n/***/ }),\n\n/***/ 930:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue__ = __webpack_require__(1130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue__);\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    components: { \"sk-assign-detail\": __WEBPACK_IMPORTED_MODULE_0__plugins_assignDetail_vue___default.a },\n    data: function data() {\n        return {};\n    }\n});\n\n/***/ }),\n\n/***/ 938:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__ = __webpack_require__(718);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_utils_ArrayApi__ = __webpack_require__(39);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        window.test = this;\n        return {\n            itemId: this.$route.query.itemId,\n            type: this.$route.query.type,\n            storeId: this.$route.query.storeId,\n            countryId: this.$route.query.countryId,\n\n            item: {},\n\n            assignedData: {},\n            unAssignData: {},\n\n            vendorGradeData: {},\n            vendorGradeDs: null,\n\n            rowExpandedController: {},\n\n            itemModule: __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__[\"a\" /* default */],\n            baseData: __WEBPACK_IMPORTED_MODULE_1__lib_dataModules_baseData__[\"a\" /* default */]\n        };\n    },\n    created: function created() {},\n\n\n    methods: {\n        //加载账号权限数据\n        onLoadVendorData: function onLoadVendorData(records) {\n            this.vendorGradeData = records[0].getData();\n        },\n\n\n        //加载数据\n        loadAssignDetail: function loadAssignDetail(records) {\n            var data = records[0].getData();\n            this.item = data.item;\n            this.item.subCategoryDisplay = this.item.catalogNameList.join(\",\");\n\n            this.unAssignData = data.unAssignDtos;\n\n            var assignedData = this.assignedData = data.assignedDtos;\n            var sequence = parseInt(Math.random() * 10000) + 10000;\n            for (var i = 0, l = assignedData.length; i < l; i++) {\n                assignedData[i].crid = sequence + 1;\n            }\n\n            //查询账号权限\n            this.vendorGradeDs.query({\n                storeId: data.item.storeId\n            });\n\n            return data;\n        },\n\n\n        //上架\n        online: function online(index, store) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__[\"a\" /* default */].online.execute({\n                data: {\n                    itemIds: store.storeItemId\n                },\n                success: function () {\n                    store.shelfFlag = \"ONLINE\";\n                    this.refreshAssignItem(index);\n                    store = null;\n                    index = null;\n                }.bind(this)\n            });\n        },\n\n\n        //下架\n        offline: function offline(index, store) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__[\"a\" /* default */].offline.execute({\n                data: {\n                    itemIds: store.storeItemId\n                },\n                success: function () {\n                    store.shelfFlag = \"OFFLINE\";\n                    this.refreshAssignItem(index, store);\n                    store = null;\n                    index = null;\n                }.bind(this)\n            });\n        },\n        refreshAssignItem: function refreshAssignItem(index, store) {\n            var data = this.assignedData[index],\n                num = 0,\n                obj = void 0;\n\n            store = data.storeAssignDtos || [];\n\n            //重新计算上下架数量 onStoreNum\n            for (var i = 0, l = store.length; i < l; i++) {\n                obj = store[i];\n                if (obj.shelfFlag == \"ONLINE\") {\n                    num++;\n                }\n            }\n            data.onStoreNum = num;\n            data.assignStoryNum = store.length;\n\n            this.$set(this.assignedData, index, data);\n        },\n\n\n        //删除商品\n        deleteItem: function deleteItem(index, ind, store) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__[\"a\" /* default */].deleteByIds.execute({\n                data: {\n                    itemIds: store.storeItemId\n                },\n                success: function () {\n                    var item = this.assignedData[index];\n                    item.storeAssignDtos.splice(ind, 1);\n                    this.refreshAssignItem(index);\n                    store = null;\n                    index = null;\n                    ind = null;\n                }.bind(this)\n            });\n        },\n\n\n        //删除分配的国家\n        cancelAssignOneCountry: function cancelAssignOneCountry(index, item) {\n            __WEBPACK_IMPORTED_MODULE_0__lib_dataModules_item__[\"a\" /* default */].cancelAssignOneCountry.execute({\n                data: {\n                    itemIds: item.countryItemId\n                },\n                success: function () {\n                    this.assignedData.splice(index, 1);\n                }.bind(this)\n            });\n        },\n        toggleRow: function toggleRow(index, item) {\n            item.expanded = true;\n            this.$set(this.assignedData, index, item);\n        },\n        expandView: function expandView(index, item) {\n            item.expanded = !item.expanded;\n            this.$set(this.assignedData, index, item);\n        },\n        gotoAssignStore: function gotoAssignStore() {\n            this.$store.dispatch('router/push', {\n                title: '分配门店',\n                query: {\n                    ids: this.itemId\n                },\n                name: \"page.item.assignStore\"\n            });\n        },\n        gotoAssignCountry: function gotoAssignCountry() {\n            this.$store.dispatch('router/push', {\n                title: '分配国家',\n                query: {\n                    ids: this.itemId\n                },\n                name: \"page.item.assignCountry\"\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 968:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".view-table[data-v-2dcb080c]{border-collapse:collapse;table-layout:fixed;width:100%}.view-table td[data-v-2dcb080c]{border:1px solid #eee;border-left:none;border-right:none;border-collapse:collapse;padding:10px}.view-table .index-td[data-v-2dcb080c]{width:80px}.view-table .parent-td[data-v-2dcb080c]{padding:0;border:none}.view-table .child-table:last-child td[data-v-2dcb080c]{border-bottom:none}.base-info-item[data-v-2dcb080c]{line-height:30px}.base-info-item+.base-info-item[data-v-2dcb080c]{margin-top:10px}.assigned-table[data-v-2dcb080c]{border-top:1px solid #eee}.assigned-table .expand-td[data-v-2dcb080c]{padding:0;text-align:center}.assigned-table .expand-td[data-v-2dcb080c],.assigned-table .index-td[data-v-2dcb080c]{width:100px}.assigned-table .name-td[data-v-2dcb080c],.assigned-table .on-store-td[data-v-2dcb080c],.assigned-table .store-td[data-v-2dcb080c]{width:150px}.assigned-table .option-td[data-v-2dcb080c]{width:200px}.assigned-table td[data-v-2dcb080c]{height:50px}.assigned-table thead td[data-v-2dcb080c]{border:none}.assigned-table a+a[data-v-2dcb080c]{margin-left:10px}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/item/plugins/assignDetail.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,yBAA0B,AAC1B,mBAAoB,AACpB,UAAY,CACb,AACD,gCACE,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,yBAA0B,AAC1B,YAAc,CACf,AACD,uCACE,UAAY,CACb,AACD,wCACE,UAAW,AACX,WAAa,CACd,AACD,wDACE,kBAAoB,CACrB,AACD,iCACE,gBAAkB,CACnB,AACD,iDACE,eAAiB,CAClB,AACD,iCACE,yBAA2B,CAC5B,AACD,4CACE,UAAa,AACb,iBAAmB,CACpB,AACD,uFACE,WAAa,CACd,AACD,mIACE,WAAa,CACd,AACD,4CACE,WAAa,CACd,AACD,oCACE,WAAa,CACd,AACD,0CACE,WAAa,CACd,AACD,qCACE,gBAAkB,CACnB\",\"file\":\"assignDetail.vue\",\"sourcesContent\":[\"\\n.view-table[data-v-2dcb080c] {\\n  border-collapse: collapse;\\n  table-layout: fixed;\\n  width: 100%;\\n}\\n.view-table td[data-v-2dcb080c] {\\n  border: 1px solid #eee;\\n  border-left: none;\\n  border-right: none;\\n  border-collapse: collapse;\\n  padding: 10px;\\n}\\n.view-table .index-td[data-v-2dcb080c] {\\n  width: 80px;\\n}\\n.view-table .parent-td[data-v-2dcb080c] {\\n  padding: 0;\\n  border: none;\\n}\\n.view-table .child-table:last-child td[data-v-2dcb080c] {\\n  border-bottom: none;\\n}\\n.base-info-item[data-v-2dcb080c] {\\n  line-height: 30px;\\n}\\n.base-info-item + .base-info-item[data-v-2dcb080c] {\\n  margin-top: 10px;\\n}\\n.assigned-table[data-v-2dcb080c] {\\n  border-top: 1px solid #eee;\\n}\\n.assigned-table .expand-td[data-v-2dcb080c] {\\n  padding: 0px;\\n  text-align: center;\\n}\\n.assigned-table .expand-td[data-v-2dcb080c], .assigned-table .index-td[data-v-2dcb080c] {\\n  width: 100px;\\n}\\n.assigned-table .name-td[data-v-2dcb080c], .assigned-table .store-td[data-v-2dcb080c], .assigned-table .on-store-td[data-v-2dcb080c] {\\n  width: 150px;\\n}\\n.assigned-table .option-td[data-v-2dcb080c] {\\n  width: 200px;\\n}\\n.assigned-table td[data-v-2dcb080c] {\\n  height: 50px;\\n}\\n.assigned-table thead td[data-v-2dcb080c] {\\n  border: none;\\n}\\n.assigned-table a + a[data-v-2dcb080c] {\\n  margin-left: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 990:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(968);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"1b4759bc\", content, true, {});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/23.d440310057a6c4398690.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2dcb080c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./assignDetail.vue\")\n}\nvar Component = require(\"!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./assignDetail.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2dcb080c\\\",\\\"hasScoped\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./assignDetail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-2dcb080c\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/item/plugins/assignDetail.vue\n// module id = 1130\n// module chunks = 23","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-reload', {\n    attrs: {\n      \"name\": \"page.item.assignDetail\"\n    }\n  }, [_c('sk-assign-detail', {\n    attrs: {\n      \"editable\": true\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-25031e7d\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/item/assignDetail.vue\n// module id = 1138\n// module chunks = 23","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"main-container\"\n  }, [_c('div', {\n    staticClass: \"data-sets-con\"\n  }, [_c('sk-data-set', {\n    attrs: {\n      \"query-para\": {\n        itemId: this.itemId,\n        storeId: this.storeId,\n        countryId: this.countryId\n      },\n      \"query-mask\": {\n        info: _vm.$t('loading')\n      },\n      \"query-service\": _vm.itemModule.getItemAssignDetail,\n      \"auto-query\": \"\"\n    },\n    on: {\n      \"load\": _vm.loadAssignDetail\n    }\n  }), _vm._v(\" \"), _c('sk-data-set', {\n    attrs: {\n      \"auto-query\": false,\n      \"query-service\": _vm.baseData.getVendorGrade\n    },\n    model: {\n      value: (_vm.vendorGradeDs),\n      callback: function($$v) {\n        _vm.vendorGradeDs = $$v\n      },\n      expression: \"vendorGradeDs\"\n    }\n  })], 1), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('baseInfo')\n    }\n  }, [_c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('itemName'),\n      \"value\": _vm.item.itemName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('itemModel'),\n      \"value\": _vm.item.itemModel\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('category'),\n      \"value\": _vm.item.parentCatalogName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('subCategory'),\n      \"value\": _vm.item.subCategoryDisplay\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('currency'),\n      \"value\": _vm.item.unit\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"base-info-item\"\n  }, [_c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('price'),\n      \"value\": _vm.item.storePrice\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('tag'),\n      \"value\": _vm.item.itemName\n    }\n  })], 1), _vm._v(\" \"), _c('sk-col', {\n    attrs: {\n      \"size\": 3\n    }\n  }, [_c('sk-text-view', {\n    attrs: {\n      \"label\": _vm.$t('remark'),\n      \"value\": _vm.item.remark\n    }\n  })], 1)], 1)], 1)]), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('assignInfo')\n    }\n  }, [_c('table', {\n    staticClass: \"view-table parent-td assigned-table\"\n  }, [_c('thead', [_c('td', {\n    staticClass: \"expand-td\"\n  }), _vm._v(\" \"), _c('td', {\n    staticClass: \"index-td\"\n  }, [_vm._v(\"NO\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"country-td\"\n  }, [_vm._v(_vm._s(_vm.$t('assignCountryNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"store-td\"\n  }, [_vm._v(_vm._s(_vm.$t('assignStoreNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"on-store-td\"\n  }, [_vm._v(_vm._s(_vm.$t('onlineStoreNum')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"option-td\"\n  }, [_vm._v(_vm._s(_vm.$t('operation')))])]), _vm._v(\" \"), (_vm.assignedData && _vm.assignedData.length > 0) ? _c('tbody', [_vm._l((_vm.assignedData), function(item, index) {\n    return [_c('tr', [_c('td', {\n      staticClass: \"expand-td\"\n    }, [(item && item.storeAssignDtos && item.storeAssignDtos.length > 0) ? _c('span', {\n      on: {\n        \"click\": function($event) {\n          _vm.expandView(index, item)\n        }\n      }\n    }, [_c('mu-icon-button', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (!item.expanded),\n        expression: \"!item.expanded\"\n      }],\n      attrs: {\n        \"id\": 'expanded-btn-' + item.crid,\n        \"icon\": \"add\"\n      }\n    }), _vm._v(\" \"), _c('mu-icon-button', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (item.expanded),\n        expression: \"item.expanded\"\n      }],\n      attrs: {\n        \"id\": 'unexpanded-btn-' + item.crid,\n        \"icon\": \"remove\"\n      }\n    })], 1) : _vm._e()]), _vm._v(\" \"), _c('td', {\n      staticClass: \"index-td\"\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"country-td\"\n    }, [_vm._v(_vm._s(!!item.country ? (item.country.countryName + \" \" + item.country.enName) : \"\"))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"store-td\"\n    }, [_vm._v(_vm._s(item.assignStoryNum))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"on-store-td\"\n    }, [_vm._v(_vm._s(item.onStoreNum))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"option-td\"\n    }, [_c('a', {\n      on: {\n        \"click\": function($event) {\n          _vm.cancelAssignOneCountry(index, item)\n        }\n      }\n    }, [_vm._v(_vm._s(_vm.$t('delete')))])])]), _vm._v(\" \"), (item.expanded) ? _vm._l((item.storeAssignDtos), function(store, ind) {\n      return _c('tr', {\n        key: 'child' + ind,\n        staticClass: \"expand-child-row\",\n        attrs: {\n          \"id\": 'expand-child-row-' + item.crid\n        }\n      }, [_c('td', {\n        staticClass: \"expand-td\"\n      }), _vm._v(\" \"), _c('td', {\n        staticClass: \"index-td\"\n      }, [_vm._v(_vm._s((index + 1) + '.' + (ind + 1)))]), _vm._v(\" \"), _c('td', {\n        staticClass: \"country-td\"\n      }, [_vm._v(_vm._s(!!store.store ? (store.store.storeName) : \"\"))]), _vm._v(\" \"), _c('td', {\n        attrs: {\n          \"colspan\": \"2\"\n        }\n      }, [(store.shelfFlag == 'ONLINE') ? _c('span', [_vm._v(_vm._s(_vm.$t('online')))]) : _c('span', [_vm._v(_vm._s(_vm.$t('offline')))])]), _vm._v(\" \"), _c('td', {\n        staticClass: \"option-td\",\n        attrs: {\n          \"height\": \"1px\"\n        }\n      }, [(store.shelfFlag == 'ONLINE') ? _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.offline(index, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('offline')))]) : _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.online(index, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('online')))]), _vm._v(\" \"), (store.shelfFlag == 'OFFLINE') ? _c('a', {\n        on: {\n          \"click\": function($event) {\n            _vm.deleteItem(index, ind, store)\n          }\n        }\n      }, [_vm._v(_vm._s(_vm.$t('delete')))]) : _vm._e()])])\n    }) : _vm._e()]\n  })], 2) : _c('tbody', [_c('tr', [_c('td', {\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"colspan\": \"6\"\n    }\n  }, [_vm._v(_vm._s(_vm.$t('noData')))])])])])]), _vm._v(\" \"), _c('sk-fold', {\n    attrs: {\n      \"title\": _vm.$t('unAssignInfo')\n    }\n  }, [(!_vm.vendorGradeData.hasStore) ? _c('div', {\n    staticStyle: {\n      \"padding-bottom\": \"10px\"\n    }\n  }, [(_vm.type == 'country') ? _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('assign')\n    },\n    on: {\n      \"click\": _vm.gotoAssignStore\n    }\n  }) : _c('sk-button', {\n    attrs: {\n      \"primary\": \"\",\n      \"label\": _vm.$t('assign')\n    },\n    on: {\n      \"click\": _vm.gotoAssignCountry\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('sk-row', [_c('sk-col', {\n    attrs: {\n      \"width\": \"100\"\n    }\n  }, [_c('table', {\n    staticClass: \"view-table\"\n  }, [_c('thead', [_c('td', {\n    staticClass: \"index-td\"\n  }, [_vm._v(\"NO\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"name-td\"\n  }, [_vm._v(_vm._s(_vm.$t('countryArea')))]), _vm._v(\" \"), _c('td', {\n    staticClass: \"name-td\"\n  }, [_vm._v(_vm._s(_vm.$t('store')))])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.unAssignData), function(item, index) {\n    return _c('tr', [_c('td', {\n      staticClass: \"index-td\"\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"name-td\"\n    }, [_vm._v(_vm._s(item.country.countryName + \" \" + item.country.enName))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"name-td\"\n    }, [_vm._v(_vm._s(item.store.storeName))])])\n  }))])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-2dcb080c\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/item/plugins/assignDetail.vue\n// module id = 1144\n// module chunks = 23","var Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./assignDetail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25031e7d\\\",\\\"hasScoped\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./assignDetail.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/item/assignDetail.vue\n// module id = 690\n// module chunks = 23","import {createDataModule} from \"@/lib/dataModules/BaseDataCenter\"\n\nvar config = {\n    enumeration: {\n        baseInfoType: {\n            attr: \"ATTRIBUTE\", //属性\n            spec: \"SPEC\" //规格\n        }\n    },\n\n    //商品列表查询\n    getItems: {\n        url: \"/item/getItemsByQueryParams\",\n        paras: {\n            rootCatalogId: \"\",\n            countryId: 103000,\n            order: \"asc\",\n            offset: 0,\n            limit: 10,\n            storeId: \"\"\n        }\n    },\n    \n    getItemsForActivitySelect: {\n        url: \"/item/getItemsForActivitySelect\",\n        paras: {}\n    },\n\n    //删除商品\n    deleteByIds: {\n        url: \"/item/deleteByIds\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //上架\n    online: {\n        url: \"/item/changeToOnLine\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //下架\n    offline: {\n        url: \"/item/changeToOffLine\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    //取消分配\n    cancelAssign: {\n        url: \"/item/assignCancel\",\n        event: \"\",\n        params: {\n            itemIds: \"itemIds\"\n        }\n    },\n\n    getItemsOrderBySort: {\n        url: \"/item/getItemsOrderBySort\",\n        event: \"\",\n        params: {\n            rootCatalogId: \"\",\n            catalogId: \"\"\n        }\n    },\n\n    //提交排序\n    batchUpdateItemSort: {\n        url: \"/item/batchUpdateItemSort\",\n        params: {\n            itemListString: \"\"\n        }\n    },\n\n    //获取商品基本属性 通过大类 商品上新用\n    getItemBaseInfo: {\n        url: \"/itemAttributeMaster/queryByTypeAndCatalogIdOrderBySort\",\n        params: {catalogId: \"\", type: \"\"}\n    },\n\n    //获取商品\n    getItemById: {\n        url: \"/item/getItemSaveOrInsert\",\n        event: \"\",\n        params: {\n            itemId: \"\"\n        }\n    },\n\n    //商品上新或者保存\n    maintain: {\n        url: \"/item/saveOrInsert\",\n        contentType: 'application/json',\n        params: {}\n    },\n\n    //查询分配国家的详情 itemIds\n    getAssignCountryDetail: {\n        url: \"/itemAssigned/getCountryTodoAssigned\",\n        params: {itemIds:\"\"}\n    },\n\n    //分配国家\n    assignCountry: {\n        contentType: \"json\",\n        url: \"/itemAssigned/countryAssigned\",\n        params: {}\n    },\n\n    //取消分配国家\n    unAssignCountry: {\n        contentType: \"json\",\n        url: \"/itemAssigned/countryUnAssigned\",\n        params: {}\n    },\n\n    //查询分配门店的详情\n    getAssignStoreDetail: {\n        url: \"/itemAssigned/getStoreTodoAssigned\",\n        itemIds:\"\"\n    },\n\n    //分配门店\n    assignStore: {\n        contentType: \"json\",\n        url: \"/itemAssigned/storeAssigned\",\n        params: {\n            hasShelfFlag: \"\",\n            itemList: \"\",\n            optStores: \"\"\n        }\n    },\n\n    //取消分配门店\n    unAssignStore: {\n        contentType: \"json\",\n        url: \"/itemAssigned/storeUnAssigned\",\n        params: {\n            hasShelfFlag: \"\",\n            itemList: \"\",\n            optStores: \"\"\n        }\n    },\n\n    //获取商品分配详情\n    getItemAssignDetail: {\n        url: \"/itemAssigned/getItemAssignsDetail\",\n        params: {itemId:''}\n    },\n\n    //取消商品分配到某个国家 countryItemId\n    cancelAssignOneCountry: {\n        url: \"/itemAssigned/unAssignedCountry\",\n        paras: {itemIds:\"\"}\n    }\n\n};\n\nexport default createDataModule(config, \"order\");\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/dataModules/item.js","<template>\n    <sk-reload name=\"page.item.assignDetail\">\n        <sk-assign-detail :editable=\"true\"></sk-assign-detail>\n    </sk-reload>\n</template>\n\n<script type=\"text/javascript\">\n    import assignDetail from \"./plugins/assignDetail.vue\"\n    \n    export default {\n        components: {\"sk-assign-detail\": assignDetail},\n        data(){\n            return {\n            }\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// assignDetail.vue?912a496c","<template>\n    <div class=\"main-container\">\n        <div class=\"data-sets-con\">\n            <sk-data-set :query-para=\"{itemId: this.itemId, storeId: this.storeId, countryId: this.countryId}\" :query-mask=\"{info: $t('loading')}\"\n                         :query-service=\"itemModule.getItemAssignDetail\" auto-query\n                         @load=\"loadAssignDetail\"></sk-data-set>\n            \n            <sk-data-set v-model=\"vendorGradeDs\" :auto-query=\"false\" :query-service=\"baseData.getVendorGrade\"></sk-data-set>\n        </div>\n        \n        <sk-fold :title=\"$t('baseInfo')\">\n            <div class=\"base-info-item\">\n                <sk-row>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('itemName')\" :value=\"item.itemName\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('itemModel')\" :value=\"item.itemModel\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" ></sk-col>\n                </sk-row>\n            </div>\n    \n            <div class=\"base-info-item\">\n                <sk-row>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('category')\" :value=\"item.parentCatalogName\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('subCategory')\" :value=\"item.subCategoryDisplay\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('currency')\" :value=\"item.unit\"></sk-text-view>\n                    </sk-col>\n                </sk-row>\n            </div>\n    \n            <div class=\"base-info-item\">\n                <sk-row>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('price')\" :value=\"item.storePrice\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('tag')\" :value=\"item.itemName\"></sk-text-view>\n                    </sk-col>\n                    <sk-col :size=\"3\" >\n                        <sk-text-view :label=\"$t('remark')\" :value=\"item.remark\"></sk-text-view>\n                    </sk-col>\n                </sk-row>\n            </div>\n        </sk-fold>\n        \n        <sk-fold :title=\"$t('assignInfo')\">\n            <table class=\"view-table parent-td assigned-table\">\n                <thead>\n                    <td class=\"expand-td\"></td>\n                    <td class=\"index-td\">NO</td>\n                    <td class=\"country-td\">{{$t('assignCountryNum')}}</td>\n                    <td class=\"store-td\">{{$t('assignStoreNum')}}</td>\n                    <td class=\"on-store-td\">{{$t('onlineStoreNum')}}</td>\n                    <td class=\"option-td\">{{$t('operation')}}</td>\n                </thead>\n                <tbody v-if=\"assignedData && assignedData.length > 0\">\n                    <template class=\"parent-row\" v-for=\"(item,index) in assignedData\">\n                        <tr>\n                            <td class=\"expand-td\">\n                                <span v-if=\"item && item.storeAssignDtos && item.storeAssignDtos.length > 0\" @click=\"expandView(index, item)\">\n                                    <mu-icon-button :id=\"'expanded-btn-' + item.crid\" v-show=\"!item.expanded\" icon=\"add\"></mu-icon-button>\n                                    <mu-icon-button :id=\"'unexpanded-btn-' + item.crid\" v-show=\"item.expanded\" icon=\"remove\"></mu-icon-button>\n                                </span>\n                            </td>\n                            <td class=\"index-td\">{{index + 1}}</td>\n                            <td class=\"country-td\">{{!!item.country ? (item.country.countryName + \" \" + item.country.enName) : \"\"}}</td>\n                            <td class=\"store-td\">{{item.assignStoryNum}}</td>\n                            <td class=\"on-store-td\">{{item.onStoreNum}}</td>\n                            <td class=\"option-td\">\n                                <!--<a @click=\"toggleRow(index,item)\">查看门店</a>-->\n                                <a @click=\"cancelAssignOneCountry(index,item)\">{{$t('delete')}}</a>\n                            </td>\n                        </tr>\n                        <template v-if=\"item.expanded\">\n                            <tr :id=\"'expand-child-row-' + item.crid\" class=\"expand-child-row\" v-for=\"(store, ind) in item.storeAssignDtos\" :key=\"'child' + ind\">\n                                <td class=\"expand-td\"></td>\n                                <td class=\"index-td\">{{(index + 1) + '.' + (ind + 1)}}</td>\n                                <td class=\"country-td\">{{!!store.store ? (store.store.storeName ) : \"\"}}</td>\n                                <td colspan=\"2\">\n                                    <span v-if=\"store.shelfFlag=='ONLINE'\">{{$t('online')}}</span>\n                                    <span v-else>{{$t('offline')}}</span>\n                                </td>\n                                <td height=\"1px\" class=\"option-td\">\n                                    <a v-if=\"store.shelfFlag=='ONLINE'\" @click=\"offline(index,store)\">{{$t('offline')}}</a>\n                                    <a v-else @click=\"online(index,store)\">{{$t('online')}}</a>\n                                    <a v-if=\"store.shelfFlag=='OFFLINE'\" @click=\"deleteItem(index,ind,store)\">{{$t('delete')}}</a>\n                                </td>\n                            </tr>\n                        </template>\n                    </template>\n                </tbody>\n                <tbody v-else>\n                    <tr>\n                        <td style=\"text-align: center\" colspan=\"6\">{{$t('noData')}}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </sk-fold>\n        \n        <sk-fold :title=\"$t('unAssignInfo')\">\n            <div style=\"padding-bottom: 10px;\" v-if=\"!vendorGradeData.hasStore\">\n                <!--分配门店-->\n                <sk-button v-if=\"type == 'country'\" primary :label=\"$t('assign')\" @click=\"gotoAssignStore\"></sk-button>\n                <!--分配国家-->\n                <sk-button v-else primary :label=\"$t('assign')\" @click=\"gotoAssignCountry\"></sk-button>\n            </div>\n            <sk-row>\n                <sk-col width=\"100\">\n                    <table class=\"view-table\">\n                        <thead>\n                            <td class=\"index-td\">NO</td>\n                            <td class=\"name-td\">{{$t('countryArea')}}</td>\n                            <td class=\"name-td\">{{$t('store')}}</td>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(item,index) in unAssignData\">\n                                <td class=\"index-td\">{{index + 1}}</td>\n                                <td class=\"name-td\">{{item.country.countryName + \" \" + item.country.enName}}</td>\n                                <td class=\"name-td\">{{item.store.storeName}}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </sk-col>\n            </sk-row>\n        </sk-fold>\n    </div>\n</template>\n\n\n<script type=\"text/javascript\">\n    import itemModule from \"@/lib/dataModules/item\"\n    import baseData from \"@/lib/dataModules/baseData\"\n    import ArrayApi from \"@/lib/utils/ArrayApi\"\n    \n    export default{\n        data(){\n            window.test = this;\n            return {\n                itemId: this.$route.query.itemId,\n                type: this.$route.query.type,\n                storeId: this.$route.query.storeId,\n                countryId: this.$route.query.countryId,\n                \n                item: {},\n                \n                assignedData: {},\n                unAssignData: {},\n    \n                vendorGradeData: {},\n                vendorGradeDs: null,\n                \n                rowExpandedController: {},\n    \n                itemModule,\n                baseData\n            };\n        },\n        \n        created(){\n        },\n        \n        methods: {\n            //加载账号权限数据\n            onLoadVendorData(records){\n                this.vendorGradeData = records[0].getData();\n            },\n            \n            //加载数据\n            loadAssignDetail(records){\n                let data = records[0].getData();\n                this.item = data.item;\n                this.item.subCategoryDisplay = this.item.catalogNameList.join(\",\");\n                \n                this.unAssignData = data.unAssignDtos;\n                \n                let assignedData = this.assignedData = data.assignedDtos;\n                let sequence = parseInt(Math.random() * 10000) + 10000;\n                for (let i = 0, l = assignedData.length; i < l; i++) {\n                    assignedData[i].crid = sequence + 1;\n                }\n                \n                //查询账号权限\n                this.vendorGradeDs.query({\n                    storeId: data.item.storeId\n                });\n                \n                return data;\n            },\n    \n            //上架\n            online(index, store){\n                itemModule.online.execute({\n                    data: {\n                        itemIds: store.storeItemId\n                    },\n                    success: function () {\n                        store.shelfFlag = \"ONLINE\";\n                        this.refreshAssignItem(index);\n                        store = null;\n                        index = null;\n                    }.bind(this)\n                });\n            },\n    \n            //下架\n            offline(index, store){\n                itemModule.offline.execute({\n                    data: {\n                        itemIds: store.storeItemId\n                    },\n                    success: function () {\n                        store.shelfFlag = \"OFFLINE\";\n                        this.refreshAssignItem(index, store);\n                        store = null;\n                        index = null;\n                    }.bind(this)\n                });\n            },\n            \n            refreshAssignItem(index, store){\n                let data = this.assignedData[index], num = 0, obj;\n                \n                store = data.storeAssignDtos || [];\n                \n                //重新计算上下架数量 onStoreNum\n                for (let i = 0, l = store.length; i < l; i++) {\n                    obj = store[i];\n                    if (obj.shelfFlag == \"ONLINE\"){\n                        num ++;\n                    }\n                }\n                data.onStoreNum = num;\n                data.assignStoryNum = store.length;\n                \n                this.$set(this.assignedData, index, data);\n            },\n    \n            //删除商品\n            deleteItem(index, ind, store) {\n                itemModule.deleteByIds.execute({\n                    data: {\n                        itemIds: store.storeItemId\n                    },\n                    success: function () {\n                        let item = this.assignedData[index];\n                        item.storeAssignDtos.splice(ind, 1);\n                        this.refreshAssignItem(index);\n                        store = null;\n                        index = null;\n                        ind = null;\n                    }.bind(this)\n                });\n            },\n            \n            //删除分配的国家\n            cancelAssignOneCountry(index, item){\n                itemModule.cancelAssignOneCountry.execute({\n                    data: {\n                        itemIds: item.countryItemId\n                    },\n                    success: function () {\n                        this.assignedData.splice(index,1)\n                    }.bind(this)\n                });\n            },\n    \n            toggleRow(index, item){\n                item.expanded = true;\n                this.$set(this.assignedData, index, item);\n            },\n    \n            expandView(index, item){\n                item.expanded = !item.expanded;\n                this.$set(this.assignedData, index, item);\n            },\n    \n            gotoAssignStore(){\n                this.$store.dispatch('router/push', {\n                    title: '分配门店',\n                    query: {\n                        ids: this.itemId\n                    },\n                    name: \"page.item.assignStore\"\n                });\n            },\n    \n            gotoAssignCountry(){\n                this.$store.dispatch('router/push', {\n                    title: '分配国家',\n                    query: {\n                        ids: this.itemId\n                    },\n                    name: \"page.item.assignCountry\"\n                });\n            }\n        }\n    }\n</script>\n\n\n<style lang=\"scss\" scoped>\n    .view-table{\n        border-collapse: collapse;\n        table-layout: fixed;\n        width: 100%;\n    }\n    .view-table{\n        td{\n            border: 1px solid #eee;\n            border-left: none;\n            border-right: none;\n            border-collapse: collapse;\n            padding: 10px;\n        }\n        .index-td{\n            width: 80px;\n        }\n        .parent-td{\n            padding: 0;\n            border: none;\n        }\n        .child-table:last-child td{\n            border-bottom: none;\n        }\n    }\n    .base-info-item{\n        line-height: 30px;\n    }\n    .base-info-item + .base-info-item{\n        margin-top: 10px;\n    }\n    .assigned-table{\n        border-top: 1px solid #eee;\n    }\n    .assigned-table{\n        .expand-td{\n            padding: 0px;\n            text-align: center;\n        }\n        .expand-td, .index-td{\n            width: 100px;\n        }\n        .name-td, .store-td, .on-store-td{\n            width: 150px;\n        }\n        .option-td{\n            width: 200px;\n        }\n        td{\n            height: 50px;\n        }\n        thead td{\n            border: none;\n        }\n        a + a{\n            margin-left: 10px;\n        }\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// assignDetail.vue?669db41a","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.10@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".view-table[data-v-2dcb080c]{border-collapse:collapse;table-layout:fixed;width:100%}.view-table td[data-v-2dcb080c]{border:1px solid #eee;border-left:none;border-right:none;border-collapse:collapse;padding:10px}.view-table .index-td[data-v-2dcb080c]{width:80px}.view-table .parent-td[data-v-2dcb080c]{padding:0;border:none}.view-table .child-table:last-child td[data-v-2dcb080c]{border-bottom:none}.base-info-item[data-v-2dcb080c]{line-height:30px}.base-info-item+.base-info-item[data-v-2dcb080c]{margin-top:10px}.assigned-table[data-v-2dcb080c]{border-top:1px solid #eee}.assigned-table .expand-td[data-v-2dcb080c]{padding:0;text-align:center}.assigned-table .expand-td[data-v-2dcb080c],.assigned-table .index-td[data-v-2dcb080c]{width:100px}.assigned-table .name-td[data-v-2dcb080c],.assigned-table .on-store-td[data-v-2dcb080c],.assigned-table .store-td[data-v-2dcb080c]{width:150px}.assigned-table .option-td[data-v-2dcb080c]{width:200px}.assigned-table td[data-v-2dcb080c]{height:50px}.assigned-table thead td[data-v-2dcb080c]{border:none}.assigned-table a+a[data-v-2dcb080c]{margin-left:10px}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/page/item/plugins/assignDetail.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,yBAA0B,AAC1B,mBAAoB,AACpB,UAAY,CACb,AACD,gCACE,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,yBAA0B,AAC1B,YAAc,CACf,AACD,uCACE,UAAY,CACb,AACD,wCACE,UAAW,AACX,WAAa,CACd,AACD,wDACE,kBAAoB,CACrB,AACD,iCACE,gBAAkB,CACnB,AACD,iDACE,eAAiB,CAClB,AACD,iCACE,yBAA2B,CAC5B,AACD,4CACE,UAAa,AACb,iBAAmB,CACpB,AACD,uFACE,WAAa,CACd,AACD,mIACE,WAAa,CACd,AACD,4CACE,WAAa,CACd,AACD,oCACE,WAAa,CACd,AACD,0CACE,WAAa,CACd,AACD,qCACE,gBAAkB,CACnB\",\"file\":\"assignDetail.vue\",\"sourcesContent\":[\"\\n.view-table[data-v-2dcb080c] {\\n  border-collapse: collapse;\\n  table-layout: fixed;\\n  width: 100%;\\n}\\n.view-table td[data-v-2dcb080c] {\\n  border: 1px solid #eee;\\n  border-left: none;\\n  border-right: none;\\n  border-collapse: collapse;\\n  padding: 10px;\\n}\\n.view-table .index-td[data-v-2dcb080c] {\\n  width: 80px;\\n}\\n.view-table .parent-td[data-v-2dcb080c] {\\n  padding: 0;\\n  border: none;\\n}\\n.view-table .child-table:last-child td[data-v-2dcb080c] {\\n  border-bottom: none;\\n}\\n.base-info-item[data-v-2dcb080c] {\\n  line-height: 30px;\\n}\\n.base-info-item + .base-info-item[data-v-2dcb080c] {\\n  margin-top: 10px;\\n}\\n.assigned-table[data-v-2dcb080c] {\\n  border-top: 1px solid #eee;\\n}\\n.assigned-table .expand-td[data-v-2dcb080c] {\\n  padding: 0px;\\n  text-align: center;\\n}\\n.assigned-table .expand-td[data-v-2dcb080c], .assigned-table .index-td[data-v-2dcb080c] {\\n  width: 100px;\\n}\\n.assigned-table .name-td[data-v-2dcb080c], .assigned-table .store-td[data-v-2dcb080c], .assigned-table .on-store-td[data-v-2dcb080c] {\\n  width: 150px;\\n}\\n.assigned-table .option-td[data-v-2dcb080c] {\\n  width: 200px;\\n}\\n.assigned-table td[data-v-2dcb080c] {\\n  height: 50px;\\n}\\n.assigned-table thead td[data-v-2dcb080c] {\\n  border: none;\\n}\\n.assigned-table a + a[data-v-2dcb080c] {\\n  margin-left: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2dcb080c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/item/plugins/assignDetail.vue\n// module id = 968\n// module chunks = 23","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.10@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2dcb080c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./assignDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"1b4759bc\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2dcb080c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/page/item/plugins/assignDetail.vue\n// module id = 990\n// module chunks = 23"],"sourceRoot":""}