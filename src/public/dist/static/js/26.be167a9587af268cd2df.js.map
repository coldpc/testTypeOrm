{"version":3,"sources":["webpack:///static/js/26.be167a9587af268cd2df.js","webpack:///./src/components/skirt/Viewer.vue?7a39","webpack:///./src/components/skirt/Viewer.vue","webpack:///./src/page/test/ds.vue?c26c","webpack:///./src/components/skirt/Viewer.vue?37e5","webpack:///./src/page/test/ds.vue","webpack:///Viewer.vue","webpack:///ds.vue","webpack:///./src/components/skirt/Viewer.vue?5f1c"],"names":["webpackJsonp","1000","module","exports","__webpack_require__","content","i","locals","1128","injectStyle","ssrContext","Component","1145","render","_vm","this","_h","$createElement","_self","_c","ref","attrs","width","height","src","staticRenderFns","1165","scopedSlots","_u","key","fn","props","alt","on","click","show","_v","name","after-enter","onViewerEnter","staticClass","style","left","top","hide","$event","stopPropagation","load","onLoadImg","_e","711","917","__webpack_exports__","Object","defineProperty","value","data","ifShow","img","naturalWidth","naturalHeight","w","h","created","type","String","default","computed","_ref","marginLeft","marginTop","methods","e","target","setInitView","el","viewer","offsetWidth","offsetHeight","parseInt","console","log","maxWidth","maxHeight","imgWidth","imgHeight","onScroll","initEvent","window","addEventListener","954","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer__","__WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer___default","n","component","a","test","978","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/26.be167a9587af268cd2df.js","sourcesContent":["webpackJsonp([26],{\n\n/***/ 1000:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(978);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"a392c35e\", content, true, {});\n\n/***/ }),\n\n/***/ 1128:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1000)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(917),\n  /* template */\n  __webpack_require__(1165),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-78072576\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 1145:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-viewer', {\n    ref: \"v\",\n    attrs: {\n      \"width\": \"100px\",\n      \"height\": \"100px\",\n      \"src\": \"http://img.yaok.com/user/2017-07-13/2017071323432553952622667177.jpg\"\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 1165:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-location', {\n    scopedSlots: _vm._u([{\n      key: \"location\",\n      fn: function(props) {\n        return [_c('img', {\n          attrs: {\n            \"src\": _vm.src,\n            \"alt\": \"\"\n          },\n          on: {\n            \"click\": _vm.show\n          }\n        }), _vm._v(\" \"), _c('transition', {\n          attrs: {\n            \"name\": \"fade\"\n          },\n          on: {\n            \"after-enter\": _vm.onViewerEnter\n          }\n        }, [(_vm.ifShow) ? _c('div', {\n          staticClass: \"sk-viewer-wrapper\",\n          style: ({\n            left: props.left,\n            top: props.top\n          }),\n          on: {\n            \"click\": _vm.hide\n          }\n        }, [_c('img', {\n          staticClass: \"viewer-content\",\n          style: (_vm.style),\n          attrs: {\n            \"src\": _vm.src,\n            \"alt\": \"\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.stopPropagation();\n            },\n            \"load\": _vm.onLoadImg\n          }\n        })]) : _vm._e()])]\n      }\n    }])\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 711:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(954),\n  /* template */\n  __webpack_require__(1145),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 917:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: \"sk-viewer\",\n\n    data: function data() {\n        return {\n            ifShow: false,\n            img: null,\n            naturalWidth: 0,\n            naturalHeight: 0,\n\n            w: \"1\",\n            h: \"1\"\n        };\n    },\n    created: function created() {},\n\n\n    props: {\n        src: { type: String },\n        width: { type: String, default: \"100%\" },\n        height: { type: String, default: \"auto\" }\n    },\n    computed: {\n        style: function style() {\n            var _ref = [this.w, this.h, {}],\n                w = _ref[0],\n                h = _ref[1],\n                style = _ref[2];\n\n\n            style = {\n                width: w + 'px',\n                height: h + 'px',\n                marginLeft: w / -2 + \"px\",\n                marginTop: h / -2 + \"px\"\n            };\n\n            return style;\n        }\n    },\n\n    methods: {\n        show: function show() {\n            this.ifShow = true;\n        },\n        hide: function hide() {\n            this.ifShow = false;\n        },\n        onLoadImg: function onLoadImg(e) {\n            debugger;\n            var img = this.img = e.target;\n            this.naturalWidth = img.naturalWidth;\n            this.naturalHeight = img.naturalHeight;\n            this.setInitView();\n        },\n        onViewerEnter: function onViewerEnter(el) {\n            var viewer = this.viewer = {\n                width: el.offsetWidth,\n                height: el.offsetHeight\n            };\n\n            var maxWidth = parseInt(viewer.width * 0.4);\n            var maxHeight = parseInt(viewer.height * 0.4);\n\n            //maxWidth / maxHeight * this.naturalWidth\n            console.log(\"viewer:\", viewer);\n            this.setInitView();\n        },\n        setInitView: function setInitView() {\n            var viewer = this.viewer;\n            var img = this.img;\n\n            if (viewer && img) {\n                var maxWidth = parseInt(viewer.width * 0.4);\n                var maxHeight = parseInt(viewer.height * 0.4);\n\n                var imgWidth = this.naturalWidth;\n                var imgHeight = this.naturalHeight;\n\n                imgWidth = imgWidth > maxWidth ? maxWidth : imgWidth;\n                imgHeight = imgHeight * imgWidth / this.naturalWidth;\n\n                if (imgHeight > maxHeight) {\n                    imgHeight = maxHeight;\n                    imgWidth = imgHeight * this.naturalWidth / this.naturalHeight;\n                }\n\n                this.w = imgWidth;\n                this.h = imgHeight;\n            }\n        },\n        onScroll: function onScroll(e) {\n            console.log(e);\n        },\n        initEvent: function initEvent() {\n            window.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 954:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer__ = __webpack_require__(1128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer__);\n//\n//\n//\n//\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].component(__WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer___default.a.name, __WEBPACK_IMPORTED_MODULE_1__components_skirt_Viewer___default.a);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: \"sk-data-set\",\n    data: function data() {\n        window.test = this;\n        return {};\n    },\n    created: function created() {},\n\n\n    methods: {}\n});\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".sk-viewer-wrapper[data-v-78072576]{bottom:0;position:fixed;right:0;background-color:rgba(0,0,0,.2)}img[data-v-78072576]{width:100%}.viewer-content[data-v-78072576]{top:50%;left:50%;position:absolute}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/components/skirt/Viewer.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,SAAY,AACZ,eAAgB,AAChB,QAAW,AACX,+BAAqC,CACtC,AACD,qBACE,UAAY,CACb,AACD,iCACE,QAAS,AACT,SAAU,AACV,iBAAmB,CACpB\",\"file\":\"Viewer.vue\",\"sourcesContent\":[\"\\n.sk-viewer-wrapper[data-v-78072576] {\\n  bottom: 0px;\\n  position: fixed;\\n  right: 0px;\\n  background-color: rgba(0, 0, 0, 0.2);\\n}\\nimg[data-v-78072576] {\\n  width: 100%;\\n}\\n.viewer-content[data-v-78072576] {\\n  top: 50%;\\n  left: 50%;\\n  position: absolute;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/26.be167a9587af268cd2df.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.10@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-78072576\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./Viewer.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"a392c35e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-78072576\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/skirt/Viewer.vue\n// module id = 1000\n// module chunks = 26","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-78072576\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./Viewer.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./Viewer.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-78072576\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./Viewer.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-78072576\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/skirt/Viewer.vue\n// module id = 1128\n// module chunks = 26","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-viewer', {\n    ref: \"v\",\n    attrs: {\n      \"width\": \"100px\",\n      \"height\": \"100px\",\n      \"src\": \"http://img.yaok.com/user/2017-07-13/2017071323432553952622667177.jpg\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-2faa614d\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/test/ds.vue\n// module id = 1145\n// module chunks = 26","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('sk-location', {\n    scopedSlots: _vm._u([{\n      key: \"location\",\n      fn: function(props) {\n        return [_c('img', {\n          attrs: {\n            \"src\": _vm.src,\n            \"alt\": \"\"\n          },\n          on: {\n            \"click\": _vm.show\n          }\n        }), _vm._v(\" \"), _c('transition', {\n          attrs: {\n            \"name\": \"fade\"\n          },\n          on: {\n            \"after-enter\": _vm.onViewerEnter\n          }\n        }, [(_vm.ifShow) ? _c('div', {\n          staticClass: \"sk-viewer-wrapper\",\n          style: ({\n            left: props.left,\n            top: props.top\n          }),\n          on: {\n            \"click\": _vm.hide\n          }\n        }, [_c('img', {\n          staticClass: \"viewer-content\",\n          style: (_vm.style),\n          attrs: {\n            \"src\": _vm.src,\n            \"alt\": \"\"\n          },\n          on: {\n            \"click\": function($event) {\n              $event.stopPropagation();\n            },\n            \"load\": _vm.onLoadImg\n          }\n        })]) : _vm._e()])]\n      }\n    }])\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-78072576\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/skirt/Viewer.vue\n// module id = 1165\n// module chunks = 26","var Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./ds.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2faa614d\\\",\\\"hasScoped\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./ds.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/test/ds.vue\n// module id = 711\n// module chunks = 26","<template>\n    <sk-location>\n        <template slot=\"location\" scope=\"props\">\n            <img :src=\"src\" alt=\"\" @click=\"show\">\n            <transition name=\"fade\" @after-enter=\"onViewerEnter\">\n                <div v-if=\"ifShow\" class=\"sk-viewer-wrapper\" :style=\"{left: props.left, top: props.top}\" @click=\"hide\">\n                    <img class=\"viewer-content\" :src=\"src\" alt=\"\" @click.stop @load=\"onLoadImg\" :style=\"style\">\n                </div>\n            </transition>\n        </template>\n    </sk-location>\n</template>\n\n<script>\n    export default{\n        name: \"sk-viewer\",\n        \n        data(){\n            return {\n                ifShow: false,\n                img: null,\n                naturalWidth: 0,\n                naturalHeight: 0,\n                \n                w: \"1\",\n                h: \"1\"\n            };\n        },\n        \n        created(){\n            \n        },\n        \n        props: {\n            src: {type: String},\n            width: {type: String, default: \"100%\"},\n            height: {type: String, default: \"auto\"}\n        },\n        computed: {\n            style(){\n                let [w, h, style] = [this.w, this.h, {}];\n                \n                style = {\n                    width: w + 'px',\n                    height: h + 'px',\n                    marginLeft: w / -2 + \"px\",\n                    marginTop: h / -2 + \"px\"\n                };\n                \n                return style;\n            }\n        },\n        \n        methods: {\n            show(){\n                this.ifShow = true;\n            },\n            hide(){\n                this.ifShow = false;\n            },\n    \n            onLoadImg(e){\n                debugger;\n                let img = this.img = e.target;\n                this.naturalWidth = img.naturalWidth;\n                this.naturalHeight = img.naturalHeight;\n                this.setInitView();\n            },\n    \n            onViewerEnter(el){\n                let viewer = this.viewer = {\n                    width: el.offsetWidth,\n                    height: el.offsetHeight\n                };\n                \n                let maxWidth = parseInt(viewer.width * 0.4);\n                let maxHeight = parseInt(viewer.height * 0.4);\n                \n                //maxWidth / maxHeight * this.naturalWidth\n                console.log(\"viewer:\", viewer);\n                this.setInitView();\n            },\n            \n            setInitView(){\n                let viewer = this.viewer;\n                let img = this.img;\n                \n                if (viewer && img){\n                    let maxWidth = parseInt(viewer.width * 0.4);\n                    let maxHeight = parseInt(viewer.height * 0.4);\n                    \n                    let imgWidth = this.naturalWidth;\n                    let imgHeight = this.naturalHeight;\n    \n                    imgWidth = imgWidth > maxWidth ? maxWidth : imgWidth;\n                    imgHeight = imgHeight  * imgWidth / this.naturalWidth;\n    \n                    if(imgHeight > maxHeight){\n                        imgHeight = maxHeight;\n                        imgWidth = imgHeight  * this.naturalWidth / this.naturalHeight;\n                    }\n                    \n                    this.w = imgWidth;\n                    this.h = imgHeight;\n                }\n            },\n    \n            onScroll(e){\n                console.log(e);\n            },\n            \n            initEvent(){\n                window.addEventListener(\"scroll\", this.onScroll);\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .sk-viewer-wrapper{\n        bottom: 0px;\n        position: fixed;\n        right: 0px;\n        background-color: rgba(0,0,0,0.2);\n    }\n    img{\n        width: 100%;\n    }\n    .viewer-content{\n        top: 50%;\n        left: 50%;\n        position: absolute;\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// Viewer.vue?94acad20","<template>\n    <sk-viewer ref=\"v\" width=\"100px\" height=\"100px\" src=\"http://img.yaok.com/user/2017-07-13/2017071323432553952622667177.jpg\"></sk-viewer>\n</template>\n\n<script type=\"text/javascript\">\n    import Vue from \"vue\"\n    import Viewer from \"@/components/skirt/Viewer\"\n\n    Vue.component(Viewer.name, Viewer);\n\n    export default {\n        name: \"sk-data-set\",\n        data(){\n            window.test = this;\n            return {};\n        },\n\n        created(){\n           \n        },\n\n        methods: {\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ds.vue?497196da","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.10@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".sk-viewer-wrapper[data-v-78072576]{bottom:0;position:fixed;right:0;background-color:rgba(0,0,0,.2)}img[data-v-78072576]{width:100%}.viewer-content[data-v-78072576]{top:50%;left:50%;position:absolute}\", \"\", {\"version\":3,\"sources\":[\"F:/project/vueMuseUI-master/src/components/skirt/Viewer.vue\"],\"names\":[],\"mappings\":\"AACA,oCACE,SAAY,AACZ,eAAgB,AAChB,QAAW,AACX,+BAAqC,CACtC,AACD,qBACE,UAAY,CACb,AACD,iCACE,QAAS,AACT,SAAU,AACV,iBAAmB,CACpB\",\"file\":\"Viewer.vue\",\"sourcesContent\":[\"\\n.sk-viewer-wrapper[data-v-78072576] {\\n  bottom: 0px;\\n  position: fixed;\\n  right: 0px;\\n  background-color: rgba(0, 0, 0, 0.2);\\n}\\nimg[data-v-78072576] {\\n  width: 100%;\\n}\\n.viewer-content[data-v-78072576] {\\n  top: 50%;\\n  left: 50%;\\n  position: absolute;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-78072576\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/skirt/Viewer.vue\n// module id = 978\n// module chunks = 26"],"sourceRoot":""}