webpackJsonp([13,16],{1163:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sk-reload",{attrs:{name:"page.store.storeItems"}},[s("sk-store-items")],1)},staticRenderFns:[]}},678:function(t,e,s){function r(t){s(850)}var o=s(0)(s(837),s(884),r,"data-v-30ded662",null);t.exports=o.exports},706:function(t,e,s){var r=s(0)(s(949),s(1163),null,null,null);t.exports=r.exports},720:function(t,e,s){"use strict";var r=s(38),o={getAllContryList:{url:"/country/getAllContryList"},queryStoreList:{url:"/store/queryStoreListByParams",paras:{order:"asc",offset:0,limit:10,countryId:"",activeName:"",address:"",auditStatus:"",openFlag:"",storeType:0}},getStoreByStoreId:{url:"/store/getStoreByStoreId",paras:{storeId:""}},getStoreListItems:{url:"/item/getStoreListItemsByQueryParams"},getItems:{url:"/item/getItemsByQueryParams"},saveOrUpdateStore:{url:"/store/saveOrUpdateStore"},relateItems:{url:"/itemAssigned/itemsStoreAssigned",event:"",params:{storeId:"storeId",itemIds:"itemIds"}},deleteRelatedProducts:{url:"/itemStoreMapping/deleteRelatedProductsByActivityOrStoreId"},storeOpenOrClose:{url:"/store/updateOpenFlagByStoreIds",storeIds:"storeIds",openFlag:"openFlag"},storeService:{url:"/storeServeConfig/queryStoreServeConfigs"},storeListItem:{url:"/storeListItemConfig/queryByPage",params:{storeId:"storeId"}},addStoreItem:{url:"/storeListItemConfig/saveOrUpdate",params:{storeId:"storeId",linkBizIds:"linkBizIds"}},deleteStoreItem:{url:"/storeListItemConfig/delete",params:{storeId:"storeId",linkBizIds:"linkBizIds"}},sortItem:{url:"/storeListItemConfig/sort",contentType:"application/json",params:{storeListItemConfigs:"storeListItemConfigs"}}};e.a=s.i(r.a)(o,"store")},831:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(s(10),s(720));e.default={data:function(){return window.selectStoreItem=this,{store:r.a,storeId:null,hasLoadData:!1}},created:function(){},methods:{show:function(t){this.storeId=t,this.storeItemInfo.query(),this.$refs.win.show()},hide:function(){this.$refs.win.hide()},forName:function(t,e,s){return"<a class='goItem' itemId='"+s.getValue("itemId")+"' title=''>"+t+"</a>"},goItem:function(t,e,s,r,o){this.$router.push({name:"page.item.maintain",query:{type:"detail",itemId:o.getValue("itemId")}})},addItems:function(){var t=this,e=this.$refs.storeItemTable.getSelectData();if(0===e.length)return void this.$store.commit("message",this.$t("noItemTrip"));var s=[];e.forEach(function(t){s.push(t.itemId)}),s=s.join(","),r.a.addStoreItem.execute({data:{storeId:this.storeId,linkBizIds:s},success:function(e){t.hide(),t.$store.commit("message",t.$t("orderPassed")),t.$emit("addItemSuccess")}})},storeInfoParams:function(){return{storeId:this.$route.query.storeId}}}}},837:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(130),o=s.n(r),a=(s(129),s(720)),i=s(879),n=s.n(i);e.default={components:{"sk-select-store-items":n.a},data:function(){return{store:a.a,queryDs:null,storeId:this.$route.query.storeId}},methods:{parseLoadData:function(t){var e=[];return t.items.forEach(function(t){t.item.storeListItemConfigId=t.storeListItemConfigId,t.item.storeListItemConfigIdSort=t.sort,e.push(t.item)}),e},forName:function(t,e,s){return"<a class='goItem' itemId='"+s.getValue("itemId")+"' title=''>"+t+"</a>"},forCountry:function(t){return t.city.countryName},forCity:function(t){return t.city.cityName},forStoreName:function(t){return t.storeName},goItem:function(t,e,s,r,o){this.$store.dispatch("router/push",{name:"page.item.maintain",title:"商品详情",query:{type:"detail",itemId:o.getValue("itemId")}})},addItems:function(){this.$refs.selectItem.show(this.storeId)},addItemSuccess:function(){this.queryDs.query()},saveSort:function(){var t=this,e=this.queryDs.getAllData(),s=[];e.forEach(function(t){s.push({storeListItemConfigId:t.storeListItemConfigId,sort:t.storeListItemConfigIdSort})}),a.a.sortItem.execute({data:o()(s),success:function(){t.$store.commit("message",t.$t("orderPassed")),t.queryDs.query()}})},deleteItem:function(t){this.$store.commit("confirm",{message:this.$t("DeleteNow"),ok:function(){var e=this,s=t.data.storeListItemConfigId;a.a.deleteStoreItem.execute({data:{store:this.storeId,storeListItemConfigId:s},success:function(){e.$store.commit("message",e.$t("orderPassed")),e.queryDs.query()}})}.bind(this)})},onClickOperationCell:function(t,e,s,r,o){switch(t.target.className){case"delete":this.deleteItem(o)}},forOperate:function(t){return"<a class='delete'>"+this.$t("delete")+"</a>"}}}},844:function(t,e,s){e=t.exports=s(1)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"storeItemsPlugin.vue",sourceRoot:""}])},846:function(t,e,s){e=t.exports=s(1)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"selectStoreItem.vue",sourceRoot:""}])},850:function(t,e,s){var r=s(844);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(2)("8fbc5c84",r,!0,{})},852:function(t,e,s){var r=s(846);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(2)("f91edaa8",r,!0,{})},879:function(t,e,s){function r(t){s(852)}var o=s(0)(s(831),s(887),r,null,null);t.exports=o.exports},884:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-container"},[s("sk-data-set",{attrs:{"query-service":t.store.storeListItem,"query-para":{storeId:this.storeId},"parse-data":t.parseLoadData,"auto-query":""},model:{value:t.queryDs,callback:function(e){t.queryDs=e},expression:"queryDs"}}),t._v(" "),s("sk-fold",{attrs:{title:this.$t("product")}},[s("sk-row",[s("sk-col",{attrs:{size:1}},[s("sk-button",{attrs:{label:t.$t("activityAddProduct"),primary:""},on:{click:t.addItems}}),t._v(" "),s("sk-button",{attrs:{label:t.$t("saveSort"),primary:""},on:{click:t.saveSort}})],1)],1),t._v(" "),s("sk-table",{ref:"storeItemTable",attrs:{bind:t.queryDs}},[s("div",{attrs:{slot:"row"},slot:"row"},[s("sk-column",{attrs:{viewType:"img",name:"headAttacheList",title:t.$t("thImg"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{formatter:t.forName,name:"itemName",title:t.$t("productName")},on:{"cell-click":t.goItem}}),t._v(" "),s("sk-column",{attrs:{name:"itemModel",title:t.$t("productCode")}}),t._v(" "),s("sk-column",{attrs:{name:"store",formatter:t.forCountry,title:t.$t("country")}}),t._v(" "),s("sk-column",{attrs:{name:"store",formatter:t.forCity,title:t.$t("city")}}),t._v(" "),s("sk-column",{attrs:{name:"store",formatter:t.forStoreName,title:t.$t("store")}}),t._v(" "),s("sk-column",{attrs:{name:"catalogMappingList",title:t.$t("productCategory")}}),t._v(" "),s("sk-column",{attrs:{name:"unit",title:t.$t("currency"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{name:"storePrice",title:t.$t("productPrice"),"view-type":"money",align:"center"}}),t._v(" "),s("sk-column",{attrs:{name:"storeListItemConfigIdSort",type:"text",editable:"",title:t.$t("sort"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{name:"activityBenefitId",title:t.$t("operation"),align:"center",formatter:t.forOperate},on:{"cell-click":t.onClickOperationCell}})],1)])],1),t._v(" "),s("sk-select-store-items",{ref:"selectItem",on:{addItemSuccess:t.addItemSuccess}})],1)},staticRenderFns:[]}},887:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sk-win",{ref:"win",attrs:{title:t.$t("addStoreProduct"),"small-title":t.specName,width:"800px",height:"800px"}},[s("sk-data-set",{attrs:{"auto-query":!1,"query-service":t.store.getItems,"page-size":"10","parse-query-para":t.storeInfoParams,pagination:""},model:{value:t.storeItemInfo,callback:function(e){t.storeItemInfo=e},expression:"storeItemInfo"}}),t._v(" "),s("sk-fold",{attrs:{title:t.$t("product")}},[s("sk-row",[s("sk-col",{attrs:{size:1}},[s("sk-button",{attrs:{label:t.$t("submit"),primary:""},on:{click:t.addItems}})],1)],1),t._v(" "),s("sk-table",{ref:"storeItemTable",attrs:{bind:t.storeItemInfo,selectable:"",showCheckbox:""}},[s("div",{attrs:{slot:"row"},slot:"row"},[s("sk-column",{attrs:{viewType:"img",name:"headAttacheList",title:t.$t("thImg"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{formatter:t.forName,name:"itemName",title:t.$t("productName")},on:{"cell-click":t.goItem}}),t._v(" "),s("sk-column",{attrs:{name:"itemModel",title:t.$t("productCode")}}),t._v(" "),s("sk-column",{attrs:{formatter:t.forCatalog,name:"catalogMappingList",title:t.$t("productCategory")}}),t._v(" "),s("sk-column",{attrs:{name:"unit",title:t.$t("currency"),align:"center"}}),t._v(" "),s("sk-column",{attrs:{name:"storePrice",title:t.$t("productPrice"),"view-type":"money",align:"center"}})],1)])],1)],1)},staticRenderFns:[]}},949:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(678),o=s.n(r);e.default={components:{"sk-store-items":o.a},data:function(){return{}},computed:{},methods:{}}}});
//# sourceMappingURL=13.258c12a33dec7dbb962e.js.map