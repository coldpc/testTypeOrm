webpackJsonp([39],{1004:function(t,e,a){var s=a(982);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("6e30dff9",s,!0,{})},1173:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("div",[a("sk-data-set",{attrs:{"auto-create":""},model:{value:t.queryDs,callback:function(e){t.queryDs=e},expression:"queryDs"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("sk-form",{attrs:{bind:t.queryDs}},[a("sk-fold",{attrs:{title:t.$t("baseInfo")}},[a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!0,required:"",bind:t.queryDs,label:t.$t("会员编号"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{required:"",label:t.$t("会员姓名"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("会员级别"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("性别"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("销售人"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("接点人"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("服务中心"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("市场角色"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("身份证号"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("手机号码"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("Email"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("地址"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("开户银行"),name:"itemName"}})],1),t._v(" "),a("sk-col",{attrs:{size:2}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",label:t.$t("开户姓名"),name:"itemModel"}})],1)],1),t._v(" "),a("sk-row",[a("sk-col",{attrs:{size:1}},[a("sk-text-input",{attrs:{readonly:!t.editable,required:"",bind:t.queryDs,label:t.$t("银行卡号"),name:"itemName"}})],1)],1)],1)],1)],1),t._v(" "),a("sk-fold",{attrs:{title:t.$t("itemTag")}},[a("sk-table",{ref:"TagTable",attrs:{bind:t.tagDs}},[t.editable?a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("sk-button",{attrs:{primary:"",label:t.$t("add")},on:{click:t.addTags}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"row"},slot:"row"},[a("sk-column",{attrs:{align:"center",width:"20px",formatter:t.renderItemTagType,name:"itemTagType",required:"",editable:!1,title:t.$t("tagType")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"beginDate","view-type":"time",required:"",editable:!1,title:t.$t("startTime")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"endDate","view-type":"time",required:"",editable:!1,title:t.$t("endTime")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"id",title:t.$t("operation"),formatter:t.tagOperation,"if-hide":!t.editable},on:{"cell-click":t.clickTagOperation}})],1)])],1),t._v(" "),a("sk-fold",{directives:[{name:"show",rawName:"v-show",value:t.hasBigCatalog,expression:"hasBigCatalog"}],attrs:{title:t.$t("itemAttr")}},[a("sk-table",{ref:"attrTable",attrs:{bind:t.attrDs}},[t.editable?a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("sk-button",{attrs:{primary:"",label:t.$t("add"),action:"add",bind:t.attrDs}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"row"},slot:"row"},[a("sk-column",{attrs:{align:"center",width:"20px",name:"attributeName",required:"",editable:t.editable,title:t.$t("attrName")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"attributeValue",required:"",editable:t.editable,title:t.$t("attrContent")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"sort",type:"number",required:"",min:0,editable:t.editable,title:t.$t("sort")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"20px",name:"id",title:t.$t("operation"),formatter:t.attrOperation,"if-hide":!t.editable},on:{"cell-click":t.clickAttrOperation}})],1)])],1),t._v(" "),a("sk-fold",{directives:[{name:"show",rawName:"v-show",value:t.hasBigCatalog,expression:"hasBigCatalog"}],attrs:{title:t.$t("itemSpec")}},[a("sk-table",{ref:"specTable",attrs:{bind:t.specTypeDs}},[a("div",{attrs:{slot:"row"},slot:"row"},[a("sk-column",{attrs:{align:"center",width:"25%",name:"specTypeName",editable:t.editable,required:"",title:t.$t("specName")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"specValues",title:t.$t("specContent")}}),t._v(" "),a("sk-column",{attrs:{align:"center",width:"25%",name:"crid","if-hide":!t.editable,title:t.$t("operation"),formatter:t.specOperation},on:{"cell-click":t.clickSpecOperation}})],1)]),t._v(" "),t.editable?a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("sk-button",{attrs:{primary:"",label:t.$t("add")},on:{click:t.addSpecType}}),t._v(" "),a("sk-button",{attrs:{primary:"",label:t.$t("createSKU")},on:{click:t.onClickGenerate}})],1):t._e()],1),t._v(" "),a("sk-fold",{directives:[{name:"show",rawName:"v-show",value:t.hasBigCatalog,expression:"hasBigCatalog"}],attrs:{title:t.$t("itemSku")}},[a("sk-table",{ref:"skuTable",attrs:{bind:t.skuDs,"show-checkbox":t.editable,editable:t.editable},on:{select:t.onSelectSKU}},[t.editable?a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("sk-button",{attrs:{label:t.$t("uploadImg"),primary:""}},[a("input",{directives:[{name:"show",rawName:"v-show",value:t.hasSelectSku,expression:"hasSelectSku"}],staticClass:"file-sku",attrs:{type:"file",accept:"image/gif, image/jpeg, image/png"},on:{change:t.onChangeSKuPic}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("sk-attach",{ref:"skuAtta",attrs:{"attach-type":"img",source:"item",height:1,width:1,"max-files":1,"row-num":2,label:t.$t("uploadImg"),"file-size-limit":2},on:{error:function(t){},"assign-id-updated":t.uploadSkuSuccess}})],1)]),t._v(" "),a("sk-button",{attrs:{label:t.$t("delete"),action:"delete",bind:t.skuDs}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"row"},slot:"row"},[a("sk-column",{ref:"test",attrs:{"class-name":"ellipsis3",align:"left",name:"skuName",width:"25%",title:t.$t("skuName")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"skuModel",editable:t.editable,title:t.$t("itemModel")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"skuPrice",editable:t.editable,"edit-type":"money",min:.01,title:t.$t("price")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"unit",title:t.$t("currency")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"headAttachList","view-type":"img",title:t.$t("picture")}}),t._v(" "),a("sk-column",{attrs:{align:"center",name:"crid","if-hide":!t.editable,title:t.$t("operation"),formatter:t.attrOperation},on:{"cell-click":t.clickSkuOperation}})],1)])],1),t._v(" "),a("sk-fixed-bottom",[t.editable?a("sk-button",{attrs:{primary:"",label:t.$t("submit")},on:{click:t.save}}):t._e(),t._v(" "),a("sk-button",{attrs:{label:t.$t("view")},on:{click:t.viewItem}})],1)],1)},staticRenderFns:[]}},680:function(t,e,a){function s(t){a(1004)}var i=a(0)(a(919),a(1173),s,"data-v-c1536c02",null);t.exports=i.exports},919:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(39),i=a(131),r=Math.floor(1e11*Math.random()+1e11);e.default={data:function(){return window.test=this,{editable:!0,queryDs:null,hasChangeSpec:!1,bigCatalogDs:null,catalogDs:null,currencyDs:null,brandDs:null,specTypeDs:null,attrDs:null,skuDs:null,tagDs:null,deleteAttrData:[],deleteTagData:[],specData:[],deleteSkuData:[],itemId:this.$route.query.itemId,uploadSuccessNum:0,bigCatalog:"",defaultBrand:"",viewData:{},hasSelectSku:!1}},watch:{},computed:{hasBigCatalog:function(){return!!this.bigCatalog}},methods:{ctrlBrandData:function(t){return this.defaultBrand=t.defaultBrandGlobalId,t.brandGlobals},renderItemTagType:function(t,e,a){return a.data.desc},tagOperation:function(){return"<a class='edit'>"+this.$t("edit")+"</a><a style='margin-left: 10px;' class='delete'>"+this.$t("delete")+"</a>"},onTagDsReady:function(t){t.addEventListener(t.event.remove,this.deleteTagRow)},deleteTagRow:function(t,e){var a=t.getData();a.itemId&&(a.deleteFlag=1,this.deleteTagData.push(a))},clickTagOperation:function(t,e,a,s,i){var r=t.target.className;"delete"===r?this.tagDs.remove(s):"edit"===r&&this.$refs.addTagWin.show(i.data,"edit",s)},addTags:function(){var t=this.queryDs.getCurrentData(),e=0;if(t.itemTagMappings&&(t.itemTagMappings.forEach(function(t){t.deleteFlag&&0!==t.deleteFlag||e++}),3===e))return void this.$store.commit("message","最多只能三个标签");this.$refs.addTagWin.show({},"add")},saveTagData:function(t){if(t.itemId=this.itemId,t.endTime<t.beginTime)return void this.$store.commit("message","结束时间不能小于开始时间");this.tagDs.add(t),this.queryDs.getCurrentRecord().setValue("itemTagMappings",this.tagDs.getAllData())},saveEditTagData:function(t,e){var a=this.queryDs.getCurrentData();t.itemId=this.itemId,a.itemTagMappings[e]=t,this.tagDs.setData(a.itemTagMappings)},attrOperation:function(){return"<a class='delete'>"+this.$t("delete")+"</a>"},onAttrDsReady:function(t){t.addEventListener(t.event.remove,this.deleteAttrRow)},deleteAttrRow:function(t){var e=t.getData();e.itemId&&(e.deleteFlag=1,this.deleteAttrData.push(e))},clickAttrOperation:function(t,e,a,s,i){"delete"===t.target.className&&this.attrDs.remove(s)},ctrlAttrData:function(t){var e=void 0,a=this.queryDs.getCurrentData();if(!a)return t;for(var s=0,i=t.length;s<i;s++)e=t[s],"商品名称"==e.attributeName?e.attributeValue=a.itemName:"商品型号"==e.attributeName&&(e.attributeValue=a.itemModel),delete e.id;return this.attrData=t,t},addSpecType:function(){this.specTypeDs.add({crid:this.createId()})},initSpecTypeData:function(t){if(this.itemId)return t;for(var e=void 0,a=0,s=t.length;a<s;a++)e=t[a],e.specTypeName=e.attributeName,e.specValues="",e.crid=this.createId();return this.deleteAllSku(),this.specData=[],t},loadSpecData:function(t){var e=void 0;t=this.specData=t||[];for(var a=s.a.classify(t,"specName"),i=void 0,r=[],n=void 0,l=void 0,o=0,c=a.length;o<c;o++){e=a[o],i=this.createId(),n=e.data,r.push({crid:i,specTypeName:e.specName,specValues:s.a.getFieldValue(n,"specValue").join(",")});for(var d=0,u=n.length;d<u;d++)l=n[d],l.bindId=i,l.crid=this.createId()}this.specTypeDs.setData(r)},classifySpecData:function(t){var e=void 0;t=t||[];for(var a=s.a.classify(t,"specName"),i=void 0,r=[],n=void 0,l=0,o=a.length;l<o;l++){e=a[l],i=this.createId(),n=e.data,r.push({crid:i,specTypeName:e.specName,specValues:s.a.getFieldValue(n,"specValue").join(",")});for(var c=0,d=n.length;c<d;c++)n[c].bindId=i}return r},specOperation:function(){return"<a class='edit'>"+this.$t("edit")+"</a><a style='margin-left: 10px;' class='delete'>"+this.$t("delete")+"</a>"},clickSpecOperation:function(t,e,a,s,i){var r=t.target.className;if("delete"==r)this.deleteSpecByParentId(this.specData,i.getValue("crid")),this.specTypeDs.remove(s);else if("edit"==r){var n=i.getValue("crid"),l=this.getEditSpecData(this.specData,n),o=this.$base.deepCopy(l),c=i.getValue("specTypeName");this.$refs.editSpecWin.show(o,c,n)}},getEditSpecData:function(t,e){for(var a=[],s=void 0,i=0,r=t.length;i<r;i++)s=t[i],s.bindId==e&&1!=s.deleteFlag&&a.push(s);return a},deleteSpecByParentId:function(t,e){for(var a=void 0,s=0;s<t.length;s++)a=t[s],a.bindId==e&&(a.itemId?t[s].deleteFlag=1:(t.splice(s,1),s--));return t},saveEditSpecData:function(t,e){for(var a=this.specData,i=void 0,r=0;r<a.length;r++)i=a[r],i.bindId==e&&1!=i.deleteFlag&&(a.splice(r,1),r--);for(var n=0,l=t.length;n<l;n++)t[n].crid=this.createId();this.specData=a.concat(t),a=s.a.getDataByAttr(t,"deleteFlag",1,!0);for(var o=this.specTypeDs.records,c=void 0,d=void 0,u=0,h=o.length;u<h;u++)c=o[u],c.getValue("crid")==e&&(d=s.a.getFieldValue(a,"specValue"),c.setValue("specValues",d.join(",")))},onSpecTypeReady:function(t){t.addEventListener(t.event.update,this.saveEditSpecTypeName)},saveEditSpecTypeName:function(t,e,a){if("specTypeName"==e)for(var i=s.a.getDataByAttr(this.specData,"bindId",a.getValue("crid")),r=0,n=i.length;r<n;r++)i[r].specName=t},onUpdateSpecType:function(t,e,a){if("specTypeName"===e){var s=this.parseSpecName(t);t!==s&&a.setValue(e,s),this.hasChangeSpecData()}},parseSpecName:function(t){return t=$.trim(t),t=t.replace(/;|:|,|'/gi," "),t=$.trim(t)},hasChangeSpecData:function(){this.hasChangeSpec=!0},hasGenerateSku:function(){console.log("spec saved"),this.hasChangeSpec=!1},createId:function(){return++r},onClickGenerate:function(){for(var t=this.generateSKU(),e=this.skuDs,a=e.records||[],s=0,i=a.length;s<i;s++)this.deleteSkuRow(a[s]);e.setData(t),this.hasGenerateSku()},ctrlSkuData:function(t){for(var e=this.queryDs.getCurrentData(),a=this.specData,i=void 0,r=void 0,n=void 0,l=void 0,o=void 0,c=void 0,d=0,u=t.length;d<u;d++)if(i=t[d],e)i.skuPrice||(i.skuPrice=e.factPrice),i.skuModel||(i.skuModel=e.itemModel),i.unit||(i.unit=e.unit),i.headAttachList||(i.headAttachList=this.$base.deepCopy(this.$refs.headPicAttach.viewList));else for(r=t[d].specSkuMappingList,n=0,l=r.length;n<l;n++)o=r[n],c=s.a.getDataByAttr(a,"specId",o.specId)[0],c?(o.specName=c.specName,o.specValue=c.specValue,o.crid=c.crid):(r.splice(n,1),n--,l--);return t},initTagData:function(t){return t},generateSKU:function(){if(!this.specTypeDs.sendVerify())return void this.$store.commit("message",this.$t("specTypeComplete"));var t=s.a.getDataByAttr(this.specData,"deleteFlag",1,!0);t=this.$base.deepCopy(t);var e=s.a.classify(t,"bindId"),a=";",i=void 0,r=void 0;if(!(e.length<1)){if(i=e[0].data,(r=e.length)>1)for(var n=1;n<r;n++)i=function(t,e){if(e&&0!=e.length){for(var s,i,r,n=[],l=0,o=t.length;l<o;l++){s=t[l];for(var c=0,d=e.length;c<d;c++)r={skuName:s.skuName||(s.specName||"unknown name")+":"+s.specValue,specSkuMappingList:s.specSkuMappingList||[s]},i=e[c],r.skuName+=a+(i.specName||"unknown name")+":"+i.specValue,r.specSkuMappingList.push(i),n.push(r)}return n}return t}(i,e[n].data);else{for(var l,o,c=[],d=0,u=i.length;d<u;d++)o=i[d],l={skuName:(o.specName||"unknown name")+":"+o.specValue,specSkuMappingList:[o]},c.push(l);i=c}return i}},onSkuDsReady:function(t){t.addEventListener(t.event.remove,this.deleteSkuRow)},deleteSkuRow:function(t){var e=t.getData();e.itemId&&(e.deleteFlag=1,this.deleteSkuData.push(e))},deleteAllSku:function(){for(var t=this.skuDs.records,e=0,a=t.length;e<a;e++)this.deleteSkuRow(t[e]);this.skuDs.setData()},clickSkuOperation:function(t,e,a,s,i){"delete"==t.target.className&&this.skuDs.remove(s)},onChangeSKuPic:function(t){this.$refs.skuAtta.controller.selectFile(t.target),this.$refs.skuAtta.save()},uploadSkuSuccess:function(t,e){this.$refs.skuAtta.setValue();for(var a=this.skuDs.getSelectedRecords(),s=0,i=a.length;s<i;s++)a[s].setValue("headAssignId",t),a[s].setValue("headAttachList",e);this.$refs.skuTable.selectAll(!1)},checkSku:function(){for(var t=this.specData,e="",a=this.skuDs.getAllData(),i=void 0,r=void 0,n=void 0,l=0,o=a.length;l<o;l++){i=a[l].specSkuMappingList;for(var c=0,d=i.length;c<d;c++)if(r=i[c],!(n=s.a.getDataByAttr(t,"crid",r.crid)[0])||n.specName!=r.specName||n.specValue!=r.specValue){console.log("检测到第"+(l+1)+'条SKU"'+a[l].skuName+'"与规格不匹配，无法提交，请仔细检查确认此条SKU'),e=this.$t("regenerateSku");break}}return this.hasChangeSpec&&(e=this.$t("regenerateSku")),e},onSelectSKU:function(t){this.hasSelectSku=t.length>0},uploadAll:function(){this.uploadSuccessNum=0;var t=this.$refs.headPicAttach;t.save(),t=this.$refs.bodyPicAttach,t.save(),t=this.$refs.videoPicAttach,t.save()},uploadSuccess:function(){this.uploadSuccessNum++,3===parseInt(this.uploadSuccessNum)&&this.save()},uploadFailed:function(){this.uploadSuccessNum=0,this.$store.commit("hideLoading")},ctrlItemData:function(t){var e=t.item;return e.catalogList=t.catalogList,e.parentCatalogId=t.parentCatalogId,e.tag=(e.tag||[]).split("\n"),this.loadSpecData(t.itemSpecList),this.tagDs.setData(t.item.itemTagMappings),this.attrDs.setData(t.itemAttributeList),this.skuDs.setData(t.skuList),e},save:function(){var t=void 0;if(t=this.checkBaseInfo(),t||(t=this.checkDs(this.attrDs)?this.$t("enterItemAttr"):""),t||(t=this.checkDs(this.specTypeDs)?this.$t("enterItemSpec"):""),t||(t=this.checkDs(this.skuDs)?this.$t("enterItemSKU"):""),t||(t=this.checkSku()),t)return void this.$store.commit("message",t);if(3!=this.uploadSuccessNum)return this.$store.commit("loading",this.$t("saving")),void this.uploadAll();this.uploadSuccessNum=0;var e=this.$base.deepCopy(this.queryDs.getCurrentData());e.tag=(e.tag||[]).join("\n");var a={item:e};a.itemAttributeList=this.deleteAttrData.concat(this.attrDs.getAllData()),a.item.itemTagMappings=this.deleteTagData.concat(this.tagDs.getAllData()),a.catalogList=e.catalogList,a.parentCatalogId=e.parentCatalogId,a.itemSpecList=this.specData,a.skuList=this.deleteSkuData.concat(this.skuDs.getAllData()),itemModule.maintain.execute({data:a,failed:function(t){this.$store.commit("hideLoading"),this.$store.commit("message",t)}.bind(this),success:function(){if(this.$store.commit("message",this.$t("saveSuccess")),this.$store.commit("hideLoading"),this.itemId){var t=this.$route.name;this.$store.dispatch("router/reload",t)}else this.resetPageData()}.bind(this)})},checkDs:function(t){var e=t.records,a=void 0;if(!e||e.length<1)return"null";t.sendVerify();for(var s=0,i=e.length;s<i;s++)if(a=e[s].getVerifyResult(),!a.ifPassVerify)return"no pass"},checkBaseInfo:function(){function t(t){return a?(a+="、",t=t.toLowerCase()):a="",a+=t}var e=this.queryDs.getCurrentData(),a=void 0;return this.checkDs(this.queryDs),e.itemName||(a=t(this.$t("itemName"))),e.itemModel||(a=t(this.$t("itemModel"))),e.parentCatalogId||(a=t(this.$t("category"))),(!e.catalogList||e.catalogList.length<1)&&(a=t(this.$t("subCategory"))),e.unit||(a=t(this.$t("currency"))),e.factPrice||0===e.factPrice||(a=t(this.$t("price"))),(!e.tag||e.tag.length<1)&&(a=t(this.$t("keyWords"))),this.$refs.headPicAttach.viewList<1&&(a=t(this.$t("itemHeadPic"))),this.$refs.bodyPicAttach.viewList<1&&(a=t(this.$t("itemBodyPic"))),a&&(a=this.$t("baseInfoCheckError",{fields:a})),a},clearDeleteData:function(){this.deleteAttrData=[],this.deleteSkuData=[],this.deleteTagData=[];for(var t=this.specData,e=[],a=0,s=t.length;a<s;a++)1!=t[a].deleteFlag&&e.push(t[a]);this.specData=e},resetPageData:function(){var t=this.queryDs.getCurrentData().brandGlobalId,e=this.queryDs.getCurrentData().brandName,a=this.queryDs;this.$refs.brand_selector.setReadOnly(!0),this.$refs.big_catalog_selector.setReadOnly(!1),this.deleteAttrData=[],this.deleteSkuData=[],this.specData=[],this.attrData=[],this.specTypeDs.reset(),this.skuDs.reset(),this.attrDs.reset(),this.tagDs.reset(),a.clearCurrent(),a.getCurrentRecord().resetValue("brandGlobalId",t),a.getCurrentRecord().resetValue("brandName",e),this.itemId=null,this.uploadSuccessNum=0,this.$refs.brand_selector.setReadOnly(!1)},viewItem:function(){var t=this.$base.deepCopy(this.queryDs.getCurrentData()),e=void 0;e=this.$refs.headPicAttach.viewList,e&&e.length>0&&(t.headPic=e[0].src),e=this.$refs.bodyPicAttach.viewList,e&&e.length>0&&(t.bodyPic=e),e=this.$refs.videoPicAttach.viewList,e&&e.length>0&&(t.videoPic=e[0].src),t.attrList=this.attrDs.getAllData(),e=s.a.getDataByAttr(this.currencyDs.getAllData(),"exchangeUnit",t.unit),t.unitSign=e.length>0?e[0].exchangeSign:"",!t.brandName&&t.brandGlobalId&&(e=s.a.getDataByAttr(this.brandDs.getAllData(),"brandGlobalId",t.brandGlobalId),t.brandName=e.length>0?e[0].brandName:""),t.factPrice=i.a.format(t.factPrice),this.viewData=t,this.$refs.view.show()}}}},982:function(t,e,a){e=t.exports=a(1)(!0),e.push([t.i,".main-container[data-v-c1536c02]{padding-bottom:30px}.file-sku[data-v-c1536c02]{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.001;cursor:pointer}","",{version:3,sources:["F:/project/vueMuseUI-master/src/page/account/info.vue"],names:[],mappings:"AACA,iCACE,mBAAqB,CACtB,AACD,2BACE,kBAAmB,AACnB,MAAS,AACT,OAAU,AACV,SAAY,AACZ,QAAW,AACX,aAAe,AACf,cAAgB,CACjB",file:"info.vue",sourcesContent:["\n.main-container[data-v-c1536c02]{\n  padding-bottom: 30px;\n}\n.file-sku[data-v-c1536c02]{\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  opacity: 0.001;\n  cursor: pointer;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=39.2ca9bfb34c7cc6a7c9a3.js.map